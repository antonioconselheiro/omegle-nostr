"use strict";(self.webpackChunkomegle_nostr=self.webpackChunkomegle_nostr||[]).push([[792],{394:(Zh,rb,Ha)=>{var Va={};Ha.r(Va),Ha.d(Va,{OG:()=>Kv,My:()=>fa,Ph:()=>an,lX:()=>Wv,Id:()=>Ti,fg:()=>NA,qj:()=>Ft,aT:()=>ha,lq:()=>Oo,z:()=>Zv,Q5:()=>Mu});var Kh={};function ob(e,t,r,o,i,s,a){try{var c=e[s](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(o,i)}function V(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var s=e.apply(t,r);function a(u){ob(s,o,i,a,c,"next",u)}function c(u){ob(s,o,i,a,c,"throw",u)}a(void 0)})}}Ha.r(Kh),Ha.d(Kh,{aK:()=>ji,e8:()=>Aa,DO:()=>zu,dJ:()=>qN,OG:()=>vw,My:()=>Ma,Ph:()=>Ui,lX:()=>gw,Id:()=>qu,fg:()=>WN,qj:()=>nr,aT:()=>Ra,r4:()=>xh,aY:()=>Bi,x:()=>bw,lq:()=>Oa,z:()=>mw,zW:()=>Na,Q5:()=>Gu});let ut=null,ll=1;const Jo=Symbol("SIGNAL");function pe(e){const t=ut;return ut=e,t}function ib(e){if((!qa(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ll)){if(!e.producerMustRecompute(e)&&!Qh(e))return e.dirty=!1,void(e.lastCleanEpoch=ll);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ll}}function Qh(e){Wi(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(ib(r),o!==r.version))return!0}return!1}function dl(e,t){if(function hb(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Wi(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)dl(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Wi(i),i.producerIndexOfThis[o]=t}}function qa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Wi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let pb=null;function We(e){return"function"==typeof e}function Xh(e){const r=e(o=>{Error.call(o),o.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const ep=Xh(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((o,i)=>`${i+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function tp(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class Qt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const s of r)s.remove(this);else r.remove(this);const{initialTeardown:o}=this;if(We(o))try{o()}catch(s){t=s instanceof ep?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{wb(s)}catch(a){t=t??[],a instanceof ep?t=[...t,...a.errors]:t.push(a)}}if(t)throw new ep(t)}}add(t){var r;if(t&&t!==this)if(this.closed)wb(t);else{if(t instanceof Qt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&tp(r,t)}remove(t){const{_finalizers:r}=this;r&&tp(r,t),t instanceof Qt&&t._removeParent(this)}}Qt.EMPTY=(()=>{const e=new Qt;return e.closed=!0,e})();const yb=Qt.EMPTY;function vb(e){return e instanceof Qt||e&&"closed"in e&&We(e.remove)&&We(e.add)&&We(e.unsubscribe)}function wb(e){We(e)?e():e.unsubscribe()}const Xo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fl={setTimeout(e,t,...r){const{delegate:o}=fl;return o?.setTimeout?o.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=fl;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function bb(e){fl.setTimeout(()=>{const{onUnhandledError:t}=Xo;if(!t)throw e;t(e)})}function np(){}const lR=rp("C",void 0,void 0);function rp(e,t,r){return{kind:e,value:t,error:r}}let ei=null;function hl(e){if(Xo.useDeprecatedSynchronousErrorHandling){const t=!ei;if(t&&(ei={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:o}=ei;if(ei=null,r)throw o}}else e()}class op extends Qt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,vb(t)&&t.add(this)):this.destination=yR}static create(t,r,o){return new sp(t,r,o)}next(t){this.isStopped?ap(function fR(e){return rp("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ap(function dR(e){return rp("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ap(lR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pR=Function.prototype.bind;function ip(e,t){return pR.call(e,t)}class gR{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(o){pl(o)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(o){pl(o)}else pl(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){pl(r)}}}class sp extends op{constructor(t,r,o){let i;if(super(),We(t)||!t)i={next:t??void 0,error:r??void 0,complete:o??void 0};else{let s;this&&Xo.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ip(t.next,s),error:t.error&&ip(t.error,s),complete:t.complete&&ip(t.complete,s)}):i=t}this.destination=new gR(i)}}function pl(e){Xo.useDeprecatedSynchronousErrorHandling?function hR(e){Xo.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=e)}(e):bb(e)}function ap(e,t){const{onStoppedNotification:r}=Xo;r&&fl.setTimeout(()=>r(e,t))}const yR={closed:!0,next:np,error:function mR(e){throw e},complete:np},cp="function"==typeof Symbol&&Symbol.observable||"@@observable";function ti(e){return e}function _b(e){return 0===e.length?ti:1===e.length?e[0]:function(r){return e.reduce((o,i)=>i(o),r)}}let Ct=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const o=new e;return o.source=this,o.operator=r,o}subscribe(r,o,i){const s=function bR(e){return e&&e instanceof op||function wR(e){return e&&We(e.next)&&We(e.error)&&We(e.complete)}(e)&&vb(e)}(r)?r:new sp(r,o,i);return hl(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(o){r.error(o)}}forEach(r,o){return new(o=Eb(o))((i,s)=>{const a=new sp({next:c=>{try{r(c)}catch(u){s(u),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(r){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(r)}[cp](){return this}pipe(...r){return _b(r)(this)}toPromise(r){return new(r=Eb(r))((o,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>o(s))})}}return e.create=t=>new e(t),e})();function Eb(e){var t;return null!==(t=e??Xo.Promise)&&void 0!==t?t:Promise}const _R=Xh(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Dn=(()=>{class e extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const o=new Db(this,this);return o.operator=r,o}_throwIfClosed(){if(this.closed)throw new _R}next(r){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(r)}})}error(r){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:o}=this;for(;o.length;)o.shift().error(r)}})}complete(){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:o,isStopped:i,observers:s}=this;return o||i?yb:(this.currentObservers=null,s.push(r),new Qt(()=>{this.currentObservers=null,tp(s,r)}))}_checkFinalizedStatuses(r){const{hasError:o,thrownError:i,isStopped:s}=this;o?r.error(i):s&&r.complete()}asObservable(){const r=new Ct;return r.source=this,r}}return e.create=(t,r)=>new Db(t,r),e})();class Db extends Dn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,o;null===(o=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===o||o.call(r,t)}error(t){var r,o;null===(o=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===o||o.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,o;return null!==(o=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==o?o:yb}}class Cn extends Dn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:o}=this;if(t)throw r;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}function Cb(e){return We(e?.lift)}function St(e){return t=>{if(Cb(t))return t.lift(function(r){try{return e(r,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function _t(e,t,r,o,i){return new ER(e,t,r,o,i)}class ER extends op{constructor(t,r,o,i,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=r?function(c){try{r(c)}catch(u){t.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Me(e,t){return St((r,o)=>{let i=0;r.subscribe(_t(o,s=>{o.next(e.call(t,s,i++))}))})}class O extends Error{constructor(t,r){super(function Zi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function Fr(e){return{toString:e}.toString()}const Yi="__parameters__";function Ji(e,t,r){return Fr(()=>{const o=function up(e){return function(...r){if(e){const o=e(...r);for(const i in o)this[i]=o[i]}}}(t);function i(...s){if(this instanceof i)return o.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(u,l,d){const f=u.hasOwnProperty(Yi)?u[Yi]:Object.defineProperty(u,Yi,{value:[]})[Yi];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(a),u}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const Te=globalThis;function Ne(e){for(let t in e)if(e[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function lt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(lt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function lp(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const CR=Ne({__forward_ref__:Ne});function dp(e){return e.__forward_ref__=dp,e.toString=function(){return lt(this())},e}function te(e){return ml(e)?e():e}function ml(e){return"function"==typeof e&&e.hasOwnProperty(CR)&&e.__forward_ref__===dp}function G(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function yl(e){return Ab(e,wl)||Ab(e,Mb)}function Ab(e,t){return e.hasOwnProperty(t)?e[t]:null}function vl(e){return e&&(e.hasOwnProperty(fp)||e.hasOwnProperty(MR))?e[fp]:null}const wl=Ne({\u0275prov:Ne}),fp=Ne({\u0275inj:Ne}),Mb=Ne({ngInjectableDef:Ne}),MR=Ne({ngInjectorDef:Ne});class W{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=G({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yp(e){return e&&!!e.\u0275providers}const Ga=Ne({\u0275cmp:Ne}),vp=Ne({\u0275dir:Ne}),wp=Ne({\u0275pipe:Ne}),Rb=Ne({\u0275mod:Ne}),Br=Ne({\u0275fac:Ne}),Wa=Ne({__NG_ELEMENT_ID__:Ne}),Ob=Ne({__NG_ENV_ID__:Ne});function ue(e){return"string"==typeof e?e:null==e?"":String(e)}function bp(e,t){throw new O(-201,!1)}var we=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(we||{});let _p;function kb(){return _p}function Jt(e){const t=_p;return _p=e,t}function Pb(e,t,r){const o=yl(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&we.Optional?null:void 0!==t?t:void bp()}const Za={},Ep="__NG_DI_FLAG__",bl="ngTempTokenPath",LR=/\n/gm,Lb="__source";let Xi;function po(e){const t=Xi;return Xi=e,t}function UR(e,t=we.Default){if(void 0===Xi)throw new O(-203,!1);return null===Xi?Pb(e,void 0,t):Xi.get(e,t&we.Optional?null:void 0,t)}function J(e,t=we.Default){return(kb()||UR)(te(e),t)}function k(e,t=we.Default){return J(e,_l(t))}function _l(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Dp(e){const t=[];for(let r=0;r<e.length;r++){const o=te(e[r]);if(Array.isArray(o)){if(0===o.length)throw new O(900,!1);let i,s=we.Default;for(let a=0;a<o.length;a++){const c=o[a],u=jR(c);"number"==typeof u?-1===u?i=c.token:s|=u:i=c}t.push(J(i,s))}else t.push(J(o))}return t}function Ka(e,t){return e[Ep]=t,e.prototype[Ep]=t,e}function jR(e){return e[Ep]}const El=Ka(Ji("Optional"),8),Dl=Ka(Ji("SkipSelf"),4);function ni(e,t){return e.hasOwnProperty(Br)?e[Br]:null}function es(e,t){e.forEach(r=>Array.isArray(r)?es(r,t):t(r))}function Bb(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Cl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pn(e,t,r){let o=ts(e,t);return o>=0?e[1|o]=r:(o=~o,function Ub(e,t,r,o){let i=e.length;if(i==t)e.push(r,o);else if(1===i)e.push(o,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Sp(e,t){const r=ts(e,t);if(r>=0)return e[1|r]}function ts(e,t){return function jb(e,t,r){let o=0,i=e.length>>r;for(;i!==o;){const s=o+(i-o>>1),a=e[s<<r];if(t===a)return s<<r;a>t?i=s:o=s+1}return~(i<<r)}(e,t,1)}const sr={},Ce=[],ri=new W(""),$b=new W("",-1),Ip=new W("");class Il{get(t,r=Za){if(r===Za){const o=new Error(`NullInjectorError: No provider for ${lt(t)}!`);throw o.name="NullInjectorError",o}return r}}var xl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xl||{}),Pn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Pn||{}),Ln=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ln||{});function WR(e,t,r){let o=e.length;for(;;){const i=e.indexOf(t,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===o||e.charCodeAt(i+s)<=32)return i}r=i+1}}function xp(e,t,r){let o=0;for(;o<r.length;){const i=r[o];if("number"==typeof i){if(0!==i)break;o++;const s=r[o++],a=r[o++],c=r[o++];e.setAttribute(t,a,c,s)}else{const s=i,a=r[++o];Vb(s)?e.setProperty(t,s,a):e.setAttribute(t,s,a),o++}}return o}function Hb(e){return 3===e||4===e||6===e}function Vb(e){return 64===e.charCodeAt(0)}function Ya(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const i=t[o];"number"==typeof i?r=i:0===r||zb(e,r,i,null,-1===r||2===r?t[++o]:null)}}return e}function zb(e,t,r,o,i){let s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){const c=e[s++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=s-1;break}}}for(;s<e.length;){const c=e[s];if("number"==typeof c)break;if(c===r){if(null===o)return void(null!==i&&(e[s+1]=i));if(o===e[s+1])return void(e[s+2]=i)}s++,null!==o&&s++,null!==i&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,r),null!==o&&e.splice(s++,0,o),null!==i&&e.splice(s++,0,i)}const qb="ng-template";function ZR(e,t,r,o){let i=0;if(o){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==WR(t[i+1].toLowerCase(),r,0))return!0}else if(Tp(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&"string"==typeof(s=t[i]);)if(s.toLowerCase()===r)return!0}return!1}function Tp(e){return 4===e.type&&e.value!==qb}function KR(e,t,r){return t===(4!==e.type||r?e.value:qb)}function YR(e,t,r){let o=4;const i=e.attrs,s=null!==i?function XR(e){for(let t=0;t<e.length;t++)if(Hb(e[t]))return t;return e.length}(i):0;let a=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!a)if(4&o){if(o=2|1&o,""!==u&&!KR(e,u,r)||""===u&&1===t.length){if(Fn(o))return!1;a=!0}}else if(8&o){if(null===i||!ZR(e,i,u,r)){if(Fn(o))return!1;a=!0}}else{const l=t[++c],d=QR(u,i,Tp(e),r);if(-1===d){if(Fn(o))return!1;a=!0;continue}if(""!==l){let f;if(f=d>s?"":i[d+1].toLowerCase(),2&o&&l!==f){if(Fn(o))return!1;a=!0}}}}else{if(!a&&!Fn(o)&&!Fn(u))return!1;if(a&&Fn(u))continue;a=!1,o=u|1&o}}return Fn(o)||a}function Fn(e){return!(1&e)}function QR(e,t,r,o){if(null===t)return-1;let i=0;if(o||!r){let s=!1;for(;i<t.length;){const a=t[i];if(a===e)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=t[++i];for(;"string"==typeof c;)c=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function eO(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Gb(e,t,r=!1){for(let o=0;o<t.length;o++)if(YR(e,t[o],r))return!0;return!1}function Wb(e,t){return e?":not("+t.trim()+")":t}function nO(e){let t=e[0],r=1,o=2,i="",s=!1;for(;r<e.length;){let a=e[r];if("string"==typeof a)if(2&o){const c=e[++r];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&o?i+="."+a:4&o&&(i+=" "+a);else""!==i&&!Fn(a)&&(t+=Wb(s,i),i=""),o=a,s=s||!Fn(o);r++}return""!==i&&(t+=Wb(s,i)),t}function Tl(e){return Fr(()=>{const t=Kb(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pn.Emulated,styles:e.styles||Ce,_:null,schemas:e.schemas||null,tView:null,id:""};Yb(r);const o=e.dependencies;return r.directiveDefs=Al(o,!1),r.pipeDefs=Al(o,!0),r.id=function cO(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of r)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function iO(e){return ye(e)||dt(e)}function sO(e){return null!==e}function Bn(e){return Fr(()=>({type:e.type,bootstrap:e.bootstrap||Ce,declarations:e.declarations||Ce,imports:e.imports||Ce,exports:e.exports||Ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Zb(e,t){if(null==e)return sr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const i=e[o];let s,a,c=Ln.None;Array.isArray(i)?(c=i[0],s=i[1],a=i[2]??s):(s=i,a=i),t?(r[s]=c!==Ln.None?[o,c]:o,t[s]=a):r[s]=o}return r}function Ut(e){return Fr(()=>{const t=Kb(e);return Yb(t),t})}function jt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ye(e){return e[Ga]||null}function dt(e){return e[vp]||null}function It(e){return e[wp]||null}function Mt(e,t){const r=e[Rb]||null;if(!r&&!0===t)throw new Error(`Type ${lt(e)} does not have '\u0275mod' property.`);return r}function Kb(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||sr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ce,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zb(e.inputs,t),outputs:Zb(e.outputs),debugInfo:null}}function Yb(e){e.features?.forEach(t=>t(e))}function Al(e,t){if(!e)return null;const r=t?It:iO;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(sO)}function uO(...e){return{\u0275providers:Ap(0,e),\u0275fromNgModule:!0}}function Ap(e,...t){const r=[],o=new Set;let i;const s=a=>{r.push(a)};return es(t,a=>{const c=a;Nl(c,s,[],o)&&(i||=[],i.push(c))}),void 0!==i&&Qb(i,s),r}function Qb(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:i}=e[r];Mp(i,s=>{t(s,o)})}}function Nl(e,t,r,o){if(!(e=te(e)))return!1;let i=null,s=vl(e);const a=!s&&ye(e);if(s||a){if(a&&!a.standalone)return!1;i=e}else{const u=e.ngModule;if(s=vl(u),!s)return!1;i=u}const c=o.has(i);if(a){if(c)return!1;if(o.add(i),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of u)Nl(l,t,r,o)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let l;o.add(i);try{es(s.imports,d=>{Nl(d,t,r,o)&&(l||=[],l.push(d))})}finally{}void 0!==l&&Qb(l,t)}if(!c){const l=ni(i)||(()=>new i);t({provide:i,useFactory:l,deps:Ce},i),t({provide:Ip,useValue:i,multi:!0},i),t({provide:ri,useValue:()=>J(i),multi:!0},i)}const u=s.providers;if(null!=u&&!c){const l=e;Mp(u,d=>{t(d,l)})}}}return i!==e&&void 0!==e.providers}function Mp(e,t){for(let r of e)yp(r)&&(r=r.\u0275providers),Array.isArray(r)?Mp(r,t):t(r)}const lO=Ne({provide:String,useValue:Ne});function Np(e){return null!==e&&"object"==typeof e&&lO in e}function oi(e){return"function"==typeof e}const Rp=new W(""),Rl={},fO={};let Op;function Ol(){return void 0===Op&&(Op=new Il),Op}class en{}class ns extends en{get destroyed(){return this._destroyed}constructor(t,r,o,i){super(),this.parent=r,this.source=o,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pp(t,a=>this.processProvider(a)),this.records.set($b,rs(void 0,this)),i.has("environment")&&this.records.set(en,rs(void 0,this));const s=this.records.get(Rp);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ip,Ce,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=pe(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=po(this),o=Jt(void 0);try{return t()}finally{po(r),Jt(o)}}get(t,r=Za,o=we.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ob))return t[Ob](this);o=_l(o);const s=po(this),a=Jt(void 0);try{if(!(o&we.SkipSelf)){let u=this.records.get(t);if(void 0===u){const l=function yO(e){return"function"==typeof e||"object"==typeof e&&e instanceof W}(t)&&yl(t);u=l&&this.injectableDefInScope(l)?rs(kp(t),Rl):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(o&we.Self?Ol():this.parent).get(t,r=o&we.Optional&&r===Za?null:r)}catch(c){if("NullInjectorError"===c.name){if((c[bl]=c[bl]||[]).unshift(lt(t)),s)throw c;return function $R(e,t,r,o){const i=e[bl];throw t[Lb]&&i.unshift(t[Lb]),e.message=function HR(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=lt(t);if(Array.isArray(t))i=t.map(lt).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):lt(c)))}i=`{${s.join(", ")}}`}return`${r}${o?"("+o+")":""}[${i}]: ${e.replace(LR,"\n  ")}`}("\n"+e.message,i,r,o),e.ngTokenPath=i,e[bl]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{Jt(a),po(s)}}resolveInjectorInitializers(){const t=pe(null),r=po(this),o=Jt(void 0);try{const s=this.get(ri,Ce,we.Self);for(const a of s)a()}finally{po(r),Jt(o),pe(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(lt(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(t){let r=oi(t=te(t))?t:te(t&&t.provide);const o=function pO(e){return Np(e)?rs(void 0,e.useValue):rs(function e_(e,t,r){let o;if(oi(e)){const i=te(e);return ni(i)||kp(i)}if(Np(e))o=()=>te(e.useValue);else if(function Xb(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Dp(e.deps||[]));else if(function Jb(e){return!(!e||!e.useExisting)}(e))o=()=>J(te(e.useExisting));else{const i=te(e&&(e.useClass||e.provide));if(!function gO(e){return!!e.deps}(e))return ni(i)||kp(i);o=()=>new i(...Dp(e.deps))}return o}(e),Rl)}(t);if(!oi(t)&&!0===t.multi){let i=this.records.get(r);i||(i=rs(void 0,Rl,!0),i.factory=()=>Dp(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=pe(null);try{return r.value===Rl&&(r.value=fO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function mO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{pe(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=te(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function kp(e){const t=yl(e),r=null!==t?t.factory:ni(e);if(null!==r)return r;if(e instanceof W)throw new O(204,!1);if(e instanceof Function)return function hO(e){if(e.length>0)throw new O(204,!1);const r=function AR(e){return e&&(e[wl]||e[Mb])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new O(204,!1)}function rs(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Pp(e,t){for(const r of e)Array.isArray(r)?Pp(r,t):r&&yp(r)?Pp(r.\u0275providers,t):t(r)}function Ur(e,t){e instanceof ns&&e.assertNotDestroyed();const o=po(e),i=Jt(void 0);try{return t()}finally{po(o),Jt(i)}}function t_(){return void 0!==kb()||null!=function BR(){return Xi}()}const Ze=0,L=1,Z=2,Je=3,Un=4,Nt=5,gn=6,is=7,$e=8,st=9,jn=10,re=11,Ja=12,r_=13,ss=14,Ye=15,Xa=16,as=17,jr=18,ec=19,o_=20,mo=21,Ll=22,ii=23,le=25,Fp=1,ar=7,cs=9,Xe=10;var Bp=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Bp||{});function Rt(e){return Array.isArray(e)&&"object"==typeof e[Fp]}function Ot(e){return Array.isArray(e)&&!0===e[Fp]}function Up(e){return!!(4&e.flags)}function si(e){return e.componentOffset>-1}function Bl(e){return!(1&~e.flags)}function $n(e){return!!e.template}function jp(e){return!!(512&e[Z])}class MO{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function c_(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function ai(){return u_}function u_(e){return e.type.prototype.ngOnChanges&&(e.setInput=RO),NO}function NO(){const e=d_(this),t=e?.current;if(t){const r=e.previous;if(r===sr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function RO(e,t,r,o,i){const s=this.declaredInputs[o],a=d_(e)||function OO(e,t){return e[l_]=t}(e,{previous:sr,current:null}),c=a.current||(a.current={}),u=a.previous,l=u[s];c[s]=new MO(l&&l.currentValue,r,u===sr),c_(e,t,i,r)}ai.ngInherit=!0;const l_="__ngSimpleChanges__";function d_(e){return e[l_]||null}const cr=function(e,t,r){};let p_=!1;function ke(e){for(;Array.isArray(e);)e=e[Ze];return e}function nc(e,t){return ke(t[e])}function $t(e,t){return ke(t[e.index])}function rc(e,t){return e.data[t]}function us(e,t){return e[t]}function mn(e,t){const r=t[e];return Rt(r)?r:r[Ze]}function qp(e){return!(128&~e[Z])}function ur(e,t){return null==t?null:e[t]}function g_(e){e[as]=0}function UO(e){1024&e[Z]||(e[Z]|=1024,qp(e)&&oc(e))}function Gp(e){return!!(9216&e[Z]||e[ii]?.dirty)}function Wp(e){e[jn].changeDetectionScheduler?.notify(1),Gp(e)?oc(e):64&e[Z]&&(function PO(){return p_}()?(e[Z]|=1024,oc(e)):e[jn].changeDetectionScheduler?.notify())}function oc(e){e[jn].changeDetectionScheduler?.notify();let t=ci(e);for(;null!==t&&!(8192&t[Z])&&(t[Z]|=8192,qp(t));)t=ci(t)}function Ul(e,t){if(!(256&~e[Z]))throw new O(911,!1);null===e[mo]&&(e[mo]=[]),e[mo].push(t)}function ci(e){const t=e[Je];return Ot(t)?t[Je]:t}const oe={lFrame:S_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function v_(){return oe.bindingsEnabled}function T(){return oe.lFrame.lView}function be(){return oe.lFrame.tView}function ui(e){return oe.lFrame.contextLView=e,e[$e]}function li(e){return oe.lFrame.contextLView=null,e}function Re(){let e=w_();for(;null!==e&&64===e.type;)e=e.parent;return e}function w_(){return oe.lFrame.currentTNode}function lr(e,t){const r=oe.lFrame;r.currentTNode=e,r.isParent=t}function Kp(){return oe.lFrame.isParent}function Hn(){return oe.lFrame.bindingIndex++}function YO(e,t){const r=oe.lFrame;r.bindingIndex=r.bindingRootIndex=e,Qp(t)}function Qp(e){oe.lFrame.currentDirectiveIndex=e}function jl(e){oe.lFrame.currentQueryIndex=e}function JO(e){const t=e[L];return 2===t.type?t.declTNode:1===t.type?e[Nt]:null}function D_(e,t,r){if(r&we.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||r&we.Host||(i=JO(s),null===i||(s=s[ss],10&i.type))););if(null===i)return!1;t=i,e=s}const o=oe.lFrame=C_();return o.currentTNode=t,o.lView=e,!0}function eg(e){const t=C_(),r=e[L];oe.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function C_(){const e=oe.lFrame,t=null===e?null:e.child;return null===t?S_(e):t}function S_(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function I_(){const e=oe.lFrame;return oe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const x_=I_;function tg(){const e=I_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function kt(){return oe.lFrame.selectedIndex}function di(e){oe.lFrame.selectedIndex=e}function He(){const e=oe.lFrame;return rc(e.tView,e.selectedIndex)}let A_=!0;function sc(){return A_}function dr(e){A_=e}function $l(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const s=e.data[r].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=s;a&&(e.contentHooks??=[]).push(-r,a),c&&((e.contentHooks??=[]).push(r,c),(e.contentCheckHooks??=[]).push(r,c)),u&&(e.viewHooks??=[]).push(-r,u),l&&((e.viewHooks??=[]).push(r,l),(e.viewCheckHooks??=[]).push(r,l)),null!=d&&(e.destroyHooks??=[]).push(r,d)}}function Hl(e,t,r){M_(e,t,3,r)}function Vl(e,t,r,o){(3&e[Z])===r&&M_(e,t,r,o)}function ng(e,t){let r=e[Z];(3&r)===t&&(r&=16383,r+=1,e[Z]=r)}function M_(e,t,r,o){const s=o??-1,a=t.length-1;let c=0;for(let u=void 0!==o?65535&e[as]:0;u<a;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=o&&c>=o)break}else t[u]<0&&(e[as]+=65536),(c<s||-1==s)&&(ik(e,r,t,u),e[as]=(4294901760&e[as])+u+2),u++}function N_(e,t){cr(4,e,t);const r=pe(null);try{t.call(e)}finally{pe(r),cr(5,e,t)}}function ik(e,t,r,o){const i=r[o]<0,s=r[o+1],c=e[i?-r[o]:r[o]];i?e[Z]>>14<e[as]>>16&&(3&e[Z])===t&&(e[Z]+=16384,N_(c,s)):N_(c,s)}const ds=-1;class ac{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function og(e){return e!==ds}function cc(e){return 32767&e}function uc(e,t){let r=function lk(e){return e>>16}(e),o=t;for(;r>0;)o=o[ss],r--;return o}let ig=!0;function zl(e){const t=ig;return ig=e,t}const R_=255,O_=5;let dk=0;const fr={};function ql(e,t){const r=k_(e,t);if(-1!==r)return r;const o=t[L];o.firstCreatePass&&(e.injectorIndex=t.length,sg(o.data,e),sg(t,null),sg(o.blueprint,null));const i=Gl(e,t),s=e.injectorIndex;if(og(i)){const a=cc(i),c=uc(i,t),u=c[L].data;for(let l=0;l<8;l++)t[s+l]=c[a+l]|u[a+l]}return t[s+8]=i,s}function sg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function k_(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Gl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,i=t;for(;null!==i;){if(o=$_(i),null===o)return ds;if(r++,i=i[ss],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return ds}function ag(e,t,r){!function fk(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Wa)&&(o=r[Wa]),null==o&&(o=r[Wa]=dk++);const i=o&R_;t.data[e+(i>>O_)]|=1<<i}(e,t,r)}function P_(e,t,r){if(r&we.Optional||void 0!==e)return e;bp()}function L_(e,t,r,o){if(r&we.Optional&&void 0===o&&(o=null),!(r&(we.Self|we.Host))){const i=e[st],s=Jt(void 0);try{return i?i.get(t,o,r&we.Optional):Pb(t,o,r&we.Optional)}finally{Jt(s)}}return P_(o,0,r)}function F_(e,t,r,o=we.Default,i){if(null!==e){if(2048&t[Z]&&!(o&we.Self)){const a=function yk(e,t,r,o,i){let s=e,a=t;for(;null!==s&&null!==a&&2048&a[Z]&&!(512&a[Z]);){const c=B_(s,a,r,o|we.Self,fr);if(c!==fr)return c;let u=s.parent;if(!u){const l=a[o_];if(l){const d=l.get(r,fr,o);if(d!==fr)return d}u=$_(a),a=a[ss]}s=u}return i}(e,t,r,o,fr);if(a!==fr)return a}const s=B_(e,t,r,o,fr);if(s!==fr)return s}return L_(t,r,o,i)}function B_(e,t,r,o,i){const s=function gk(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Wa)?e[Wa]:void 0;return"number"==typeof t?t>=0?t&R_:mk:t}(r);if("function"==typeof s){if(!D_(t,e,o))return o&we.Host?P_(i,0,o):L_(t,r,o,i);try{let a;if(a=s(o),null!=a||o&we.Optional)return a;bp()}finally{x_()}}else if("number"==typeof s){let a=null,c=k_(e,t),u=ds,l=o&we.Host?t[Ye][Nt]:null;for((-1===c||o&we.SkipSelf)&&(u=-1===c?Gl(e,t):t[c+8],u!==ds&&j_(o,!1)?(a=t[L],c=cc(u),t=uc(u,t)):c=-1);-1!==c;){const d=t[L];if(U_(s,c,d.data)){const f=pk(c,t,r,a,o,l);if(f!==fr)return f}u=t[c+8],u!==ds&&j_(o,t[L].data[c+8]===l)&&U_(s,c,t)?(a=d,c=cc(u),t=uc(u,t)):c=-1}}return i}function pk(e,t,r,o,i,s){const a=t[L],c=a.data[e+8],d=function Wl(e,t,r,o,i){const s=e.providerIndexes,a=t.data,c=1048575&s,u=e.directiveStart,d=s>>20,h=i?c+d:e.directiveEnd;for(let p=o?c:c+d;p<h;p++){const g=a[p];if(p<u&&r===g||p>=u&&g.type===r)return p}if(i){const p=a[u];if(p&&$n(p)&&p.type===r)return u}return null}(c,a,r,null==o?si(c)&&ig:o!=a&&!!(3&c.type),i&we.Host&&s===c);return null!==d?fi(t,a,d,c):fr}function fi(e,t,r,o){let i=e[r];const s=t.data;if(function sk(e){return e instanceof ac}(i)){const a=i;a.resolving&&function OR(e,t){throw t&&t.join(" > "),new O(-200,e)}(function Se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ue(e)}(s[r]));const c=zl(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?Jt(a.injectImpl):null;D_(e,o,we.Default);try{i=e[r]=a.factory(void 0,s,e,o),t.firstCreatePass&&r>=o.directiveStart&&function ok(e,t,r){const{ngOnChanges:o,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(o){const a=u_(t);(r.preOrderHooks??=[]).push(e,a),(r.preOrderCheckHooks??=[]).push(e,a)}i&&(r.preOrderHooks??=[]).push(0-e,i),s&&((r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s))}(r,s[r],t)}finally{null!==l&&Jt(l),zl(c),a.resolving=!1,x_()}}return i}function U_(e,t,r){return!!(r[t+(e>>O_)]&1<<e)}function j_(e,t){return!(e&we.Self||e&we.Host&&t)}class ht{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return F_(this._tNode,this._lView,t,_l(o),r)}}function mk(){return new ht(Re(),T())}function cg(e){return Fr(()=>{const t=e.prototype.constructor,r=t[Br]||ug(t),o=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==o;){const s=i[Br]||ug(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ug(e){return ml(e)?()=>{const t=ug(te(e));return t&&t()}:ni(e)}function $_(e){const t=e[L],r=t.type;return 2===r?t.declTNode:1===r?e[Nt]:null}function G_(e,t=null,r=null,o){const i=W_(e,t,r,o);return i.resolveInjectorInitializers(),i}function W_(e,t=null,r=null,o,i=new Set){const s=[r||Ce,uO(e)];return o=o||("object"==typeof e?void 0:lt(e)),new ns(s,t||Ol(),o||null,i)}let tn=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Za;static#t=this.NULL=new Il;static create(r,o){if(Array.isArray(r))return G_({name:""},o,r,"");{const i=r.name??"";return G_({name:i},r.parent,r.providers,i)}}static#r=this.\u0275prov=G({token:e,providedIn:"any",factory:()=>J($b)});static#h=this.__NG_ELEMENT_ID__=-1}return e})();function dg(e){return e.ngOriginalError}class hr{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&dg(t);for(;r&&dg(r);)r=dg(r);return r||null}}const K_=new W("",{providedIn:"root",factory:()=>k(hr).handleError.bind(void 0)});let ps=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Ik;static#t=this.__NG_ENV_ID__=r=>r}return e})();class Sk extends ps{constructor(t){super(),this._lView=t}onDestroy(t){return Ul(this._lView,t),()=>function Zp(e,t){if(null===e[mo])return;const r=e[mo].indexOf(t);-1!==r&&e[mo].splice(r,1)}(this._lView,t)}}function Ik(){return new Sk(T())}function xk(){return gs(Re(),T())}function gs(e,t){return new yo($t(e,t))}let yo=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=xk}return e})();function fg(e){return t=>{setTimeout(e,void 0,t)}}const Vt=class Tk extends Dn{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,t_()&&(this.destroyRef=k(ps,{optional:!0})??void 0)}emit(t){const r=pe(null);try{super.next(t)}finally{pe(r)}}subscribe(t,r,o){let i=t,s=r||(()=>null),a=o;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=fg(s),i&&(i=fg(i)),a&&(a=fg(a)));const c=super.subscribe({next:i,error:s,complete:a});return t instanceof Qt&&t.add(c),c}};function Kl(e){return!(128&~e.flags)}Symbol;const pg=new Map;let Nk=0;const mg="__ngContext__";function Pt(e,t){Rt(t)?(e[mg]=t[ec],function Ok(e){pg.set(e[ec],e)}(t)):e[mg]=t}function aE(e){return uE(e[Ja])}function cE(e){return uE(e[Un])}function uE(e){for(;null!==e&&!Ot(e);)e=e[Un];return e}let yg;const Jl=new W("",{providedIn:"root",factory:()=>Qk}),Qk="ng",yE=new W(""),hi=new W("",{providedIn:"platform",factory:()=>"unknown"}),vE=new W("",{providedIn:"root",factory:()=>function vo(){if(void 0!==yg)return yg;if(typeof document<"u")return document;throw new O(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wE=()=>null;function Sg(e,t,r=!1){return wE(e,t,r)}const CE=new W("",{providedIn:"root",factory:()=>!1});class AE{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yn(e){return e instanceof Function?e():e}var bo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(bo||{});let Bg;function Ug(e,t){return Bg(e,t)}function _s(e,t,r,o,i){if(null!=o){let s,a=!1;Ot(o)?s=o:Rt(o)&&(a=!0,o=o[Ze]);const c=ke(o);0===e&&null!==r?null==i?JE(t,r,c):pi(t,r,c,i||null,!0):1===e&&null!==r?pi(t,r,c,i||null,!0):2===e?function Ec(e,t,r){const o=fd(e,t);o&&function rL(e,t,r,o){e.removeChild(t,r,o)}(e,o,t,r)}(t,c,a):3===e&&t.destroyNode(c),null!=s&&function sL(e,t,r,o,i){const s=r[ar];s!==ke(r)&&_s(t,e,o,s,i);for(let c=Xe;c<r.length;c++){const u=r[c];pd(u[L],u,e,t,o,s)}}(t,e,s,r,i)}}function ld(e,t,r){return e.createElement(t,r)}function KE(e,t){t[jn].changeDetectionScheduler?.notify(1),pd(e,t,t[re],2,null,null)}function YE(e,t){const r=e[cs],o=r.indexOf(t);r.splice(o,1)}function bc(e,t){if(e.length<=Xe)return;const r=Xe+t,o=e[r];if(o){const i=o[Xa];null!==i&&i!==e&&YE(i,o),t>0&&(e[r-1][Un]=o[Un]);const s=Cl(e,Xe+t);!function YP(e,t){KE(e,t),t[Ze]=null,t[Nt]=null}(o[L],o);const a=s[jr];null!==a&&a.detachView(s[L]),o[Je]=null,o[Un]=null,o[Z]&=-129}return o}function dd(e,t){if(!(256&t[Z])){const r=t[re];r.destroyNode&&pd(e,t,r,3,null,null),function JP(e){let t=e[Ja];if(!t)return Hg(e[L],e);for(;t;){let r=null;if(Rt(t))r=t[Ja];else{const o=t[Xe];o&&(r=o)}if(!r){for(;t&&!t[Un]&&t!==e;)Rt(t)&&Hg(t[L],t),t=t[Je];null===t&&(t=e),Rt(t)&&Hg(t[L],t),r=t&&t[Un]}t=r}}(t)}}function Hg(e,t){if(256&t[Z])return;const r=pe(null);try{t[Z]&=-129,t[Z]|=256,t[ii]&&function db(e){if(Wi(e),qa(e))for(let t=0;t<e.producerNode.length;t++)dl(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[ii]),function nL(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const i=t[r[o]];if(!(i instanceof ac)){const s=r[o+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],u=s[a+1];cr(4,c,u);try{u.call(c)}finally{cr(5,c,u)}}else{cr(4,i,s);try{s.call(i)}finally{cr(5,i,s)}}}}}(e,t),function tL(e,t){const r=e.cleanup,o=t[is];if(null!==r)for(let s=0;s<r.length-1;s+=2)if("string"==typeof r[s]){const a=r[s+3];a>=0?o[a]():o[-a].unsubscribe(),s+=2}else r[s].call(o[r[s+1]]);null!==o&&(t[is]=null);const i=t[mo];if(null!==i){t[mo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[L].type&&t[re].destroy();const o=t[Xa];if(null!==o&&Ot(t[Je])){o!==t[Je]&&YE(o,t);const i=t[jr];null!==i&&i.detachView(e)}!function kk(e){pg.delete(e[ec])}(t)}finally{pe(r)}}function Vg(e,t,r){return function QE(e,t,r){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return r[Ze];{const{componentOffset:i}=o;if(i>-1){const{encapsulation:s}=e.data[o.directiveStart+i];if(s===Pn.None||s===Pn.Emulated)return null}return $t(o,r)}}(e,t.parent,r)}function pi(e,t,r,o,i){e.insertBefore(t,r,o,i)}function JE(e,t,r){e.appendChild(t,r)}function XE(e,t,r,o,i){null!==o?pi(e,t,r,o,i):JE(e,t,r)}function fd(e,t){return e.parentNode(t)}let zg,nD=function tD(e,t,r){return 40&e.type?$t(e,r):null};function hd(e,t,r,o){const i=Vg(e,o,t),s=t[re],c=function eD(e,t,r){return nD(e,t,r)}(o.parent||t[Nt],o,t);if(null!=i)if(Array.isArray(r))for(let u=0;u<r.length;u++)XE(s,i,r[u],c,!1);else XE(s,i,r,c,!1);void 0!==zg&&zg(s,o,t,r,i)}function _c(e,t){if(null!==t){const r=t.type;if(3&r)return $t(t,e);if(4&r)return qg(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return _c(e,o);{const i=e[t.index];return Ot(i)?qg(-1,i):ke(i)}}if(32&r)return Ug(t,e)()||ke(e[t.index]);{const o=oD(e,t);return null!==o?Array.isArray(o)?o[0]:_c(ci(e[Ye]),o):_c(e,t.next)}}return null}function oD(e,t){return null!==t?e[Ye][Nt].projection[t.projection]:null}function qg(e,t){const r=Xe+e+1;if(r<t.length){const o=t[r],i=o[L].firstChild;if(null!==i)return _c(o,i)}return t[ar]}function Gg(e,t,r,o,i,s,a){for(;null!=r;){const c=o[r.index],u=r.type;if(a&&0===t&&(c&&Pt(ke(c),o),r.flags|=2),32&~r.flags)if(8&u)Gg(e,t,r.child,o,i,s,!1),_s(t,e,i,c,s);else if(32&u){const l=Ug(r,o);let d;for(;d=l();)_s(t,e,i,d,s);_s(t,e,i,c,s)}else 16&u?sD(e,t,o,r,i,s):_s(t,e,i,c,s);r=a?r.projectionNext:r.next}}function pd(e,t,r,o,i,s){Gg(r,o,e.firstChild,t,i,s,!1)}function sD(e,t,r,o,i,s){const a=r[Ye],u=a[Nt].projection[o.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)_s(t,e,i,u[l],s);else{let l=u;const d=a[Je];Kl(o)&&(l.flags|=128),Gg(e,t,l,d,i,s,!0)}}function aD(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function cD(e,t,r){const{mergedAttrs:o,classes:i,styles:s}=r;null!==o&&xp(e,t,o),null!==i&&aD(e,t,i),null!==s&&function cL(e,t,r){e.setAttribute(t,"style",r)}(e,t,s)}const de={};function pr(e=1){uD(be(),T(),kt()+e,!1)}function uD(e,t,r,o){if(!o)if(3&~t[Z]){const s=e.preOrderHooks;null!==s&&Vl(t,s,0,r)}else{const s=e.preOrderCheckHooks;null!==s&&Hl(t,s,r)}di(r)}function ne(e,t=we.Default){const r=T();return null===r?J(e,t):F_(Re(),r,te(e),t)}function dD(e,t,r,o,i,s){const a=pe(null);try{let c=null;i&Ln.SignalBased&&(c=t[o][Jo]),null!==c&&void 0!==c.transformFn&&(s=c.transformFn(s)),i&Ln.HasDecoratorInputTransform&&(s=e.inputTransforms[o].call(t,s)),null!==e.setInput?e.setInput(t,c,s,r,o):c_(t,c,o,s)}finally{pe(a)}}function gd(e,t,r,o,i,s,a,c,u,l,d){const f=t.blueprint.slice();return f[Ze]=i,f[Z]=204|o,(null!==l||e&&2048&e[Z])&&(f[Z]|=2048),g_(f),f[Je]=f[ss]=e,f[$e]=r,f[jn]=a||e&&e[jn],f[re]=c||e&&e[re],f[st]=u||e&&e[st]||null,f[Nt]=s,f[ec]=function Rk(){return Nk++}(),f[gn]=d,f[o_]=l,f[Ye]=2==t.type?e[Ye]:f,f}function Es(e,t,r,o,i){let s=e.data[t];if(null===s)s=function Wg(e,t,r,o,i){const s=w_(),a=Kp(),u=e.data[t]=function mL(e,t,r,o,i,s){let a=t?t.injectorIndex:-1,c=0;return function ls(){return null!==oe.skipHydrationRootTNode}()&&(c|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,r,t,o,i);return null===e.firstChild&&(e.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(e,t,r,o,i),function KO(){return oe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=r,s.value=o,s.attrs=i;const a=function ic(){const e=oe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return lr(s,!0),s}function Dc(e,t,r,o){if(0===r)return-1;const i=t.length;for(let s=0;s<r;s++)t.push(o),e.blueprint.push(o),e.data.push(null);return i}function fD(e,t,r,o,i){const s=kt(),a=2&o;try{di(-1),a&&t.length>le&&uD(e,t,le,!1),cr(a?2:0,i),r(o,i)}finally{di(s),cr(a?3:1,i)}}function Zg(e,t,r){if(Up(t)){const o=pe(null);try{const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,r[a],a)}}finally{pe(o)}}}function Kg(e,t,r){v_()&&(function DL(e,t,r,o){const i=r.directiveStart,s=r.directiveEnd;si(r)&&function ML(e,t,r){const o=$t(t,e),i=hD(r);let a=16;r.signals?a=4096:r.onPush&&(a=64);const c=md(e,gd(e,i,null,a,o,t,null,e[jn].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=c}(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||ql(r,t),Pt(o,t);const a=r.initialInputs;for(let c=i;c<s;c++){const u=e.data[c],l=fi(t,e,c,r);Pt(l,t),null!==a&&NL(0,c-i,l,u,0,a),$n(u)&&(mn(r.index,t)[$e]=fi(t,e,c,r))}}(e,t,r,$t(r,t)),!(64&~r.flags)&&vD(e,t,r))}function Yg(e,t,r=$t){const o=t.localNames;if(null!==o){let i=t.index+1;for(let s=0;s<o.length;s+=2){const a=o[s+1],c=-1===a?r(t,e):e[a];e[i++]=c}}}function hD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Qg(e,t,r,o,i,s,a,c,u,l,d){const f=le+o,h=f+i,p=function lL(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:de);return r}(f,h),g="function"==typeof l?l():l;return p[L]={type:e,blueprint:p,template:r,queries:null,viewQuery:c,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:d}}let pD=()=>null;function gD(e,t,r,o,i){for(let s in t){if(!t.hasOwnProperty(s))continue;const a=t[s];if(void 0===a)continue;o??={};let c,u=Ln.None;Array.isArray(a)?(c=a[0],u=a[1]):c=a;let l=s;if(null!==i){if(!i.hasOwnProperty(s))continue;l=i[s]}0===e?mD(o,r,l,c,u):mD(o,r,l,c)}return o}function mD(e,t,r,o,i){let s;e.hasOwnProperty(r)?(s=e[r]).push(t,o):s=e[r]=[t,o],void 0!==i&&s.push(i)}function Jg(e,t,r,o){if(v_()){const i=null===o?null:{"":-1},s=function SL(e,t){const r=e.directiveRegistry;let o=null,i=null;if(r)for(let s=0;s<r.length;s++){const a=r[s];if(Gb(t,a.selectors,!1))if(o||(o=[]),$n(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),o.unshift(...c,a),Xg(e,t,c.length)}else o.unshift(a),Xg(e,t,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,o,i),o.push(a)}return null===o?null:[o,i]}(e,r);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&yD(e,t,r,a,i,c),i&&function IL(e,t,r){if(t){const o=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=r[t[i+1]];if(null==s)throw new O(-301,!1);o.push(t[i],s)}}}(r,o,i)}r.mergedAttrs=Ya(r.mergedAttrs,r.attrs)}function yD(e,t,r,o,i,s){for(let l=0;l<o.length;l++)ag(ql(r,t),e,o[l].type);!function TL(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let l=0;l<o.length;l++){const d=o[l];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,u=Dc(e,t,o.length,null);for(let l=0;l<o.length;l++){const d=o[l];r.mergedAttrs=Ya(r.mergedAttrs,d.hostAttrs),AL(e,r,t,u,d),xL(u,d,i),null!==d.contentQueries&&(r.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(r.flags|=64);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),a=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),c=!0),u++}!function yL(e,t,r){const i=t.directiveEnd,s=e.data,a=t.attrs,c=[];let u=null,l=null;for(let d=t.directiveStart;d<i;d++){const f=s[d],h=r?r.get(f):null,g=h?h.outputs:null;u=gD(0,f.inputs,d,u,h?h.inputs:null),l=gD(1,f.outputs,d,l,g);const m=null===u||null===a||Tp(t)?null:RL(u,d,a);c.push(m)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=l}(e,r,s)}function vD(e,t,r){const o=r.directiveStart,i=r.directiveEnd,s=r.index,a=function QO(){return oe.lFrame.currentDirectiveIndex}();try{di(s);for(let c=o;c<i;c++){const u=e.data[c],l=t[c];Qp(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&CL(u,l)}}finally{di(-1),Qp(a)}}function CL(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Xg(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function xL(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;$n(t)&&(r[""]=e)}}function AL(e,t,r,o,i){e.data[o]=i;const s=i.factory||(i.factory=ni(i.type)),a=new ac(s,$n(i),ne);e.blueprint[o]=a,r[o]=a,function _L(e,t,r,o,i){const s=i.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const c=~t.index;(function EL(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}(e,t,o,Dc(e,r,i.hostVars,de),i)}function gr(e,t,r,o,i,s){const a=$t(e,t);!function em(e,t,r,o,i,s,a){if(null==s)e.removeAttribute(t,i,r);else{const c=null==a?ue(s):a(s,o||"",i);e.setAttribute(t,i,c,r)}}(t[re],a,s,e.value,r,o,i)}function NL(e,t,r,o,i,s){const a=s[t];if(null!==a)for(let c=0;c<a.length;)dD(o,r,a[c++],a[c++],a[c++],a[c++])}function RL(e,t,r){let o=null,i=0;for(;i<r.length;){const s=r[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===o&&(o=[]);const a=e[s];for(let c=0;c<a.length;c+=3)if(a[c]===t){o.push(s,a[c+1],a[c+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return o}function wD(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function bD(e,t){const r=e.contentQueries;if(null!==r){const o=pe(null);try{for(let i=0;i<r.length;i+=2){const a=r[i+1];if(-1!==a){const c=e.data[a];jl(r[i]),c.contentQueries(2,t[a],a)}}}finally{pe(o)}}}function md(e,t){return e[Ja]?e[r_][Un]=t:e[Ja]=t,e[r_]=t,t}function tm(e,t,r){jl(0);const o=pe(null);try{t(e,r)}finally{pe(o)}}function yd(e,t){const r=e[st],o=r?r.get(hr,null):null;o&&o.handleError(t)}function nm(e,t,r,o,i){for(let s=0;s<r.length;){const a=r[s++],c=r[s++],u=r[s++];dD(e.data[a],t[a],o,c,u,i)}}function OL(e,t){const r=mn(t,e),o=r[L];!function kL(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const i=r[Ze];null!==i&&null===r[gn]&&(r[gn]=Sg(i,r[st])),rm(o,r,r[$e])}function rm(e,t,r){eg(t);try{const o=e.viewQuery;null!==o&&tm(1,o,r);const i=e.template;null!==i&&fD(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[jr]?.finishViewCreation(e),e.staticContentQueries&&bD(e,t),e.staticViewQueries&&tm(2,e.viewQuery,r);const s=e.components;null!==s&&function PL(e,t){for(let r=0;r<t.length;r++)OL(e,t[r])}(t,s)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[Z]&=-5,tg()}}function Ds(e,t){return!t||null===t.firstChild||Kl(e)}function Sc(e,t,r,o=!0){const i=t[L];if(function XP(e,t,r,o){const i=Xe+o,s=r.length;o>0&&(r[i-1][Un]=t),o<s-Xe?(t[Un]=r[i],Bb(r,Xe+o,t)):(r.push(t),t[Un]=null),t[Je]=r;const a=t[Xa];null!==a&&r!==a&&function eL(e,t){const r=e[cs];t[Ye]!==t[Je][Je][Ye]&&(e[Z]|=Bp.HasTransplantedViews),null===r?e[cs]=[t]:r.push(t)}(a,t);const c=t[jr];null!==c&&c.insertView(e),Wp(t),t[Z]|=128}(i,t,e,r),o){const a=qg(r,e),c=t[re],u=fd(c,e[ar]);null!==u&&function QP(e,t,r,o,i,s){o[Ze]=i,o[Nt]=t,pd(e,o,r,1,i,s)}(i,e[Nt],c,t,u,a)}const s=t[gn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function Ic(e,t,r,o,i=!1){for(;null!==r;){const s=t[r.index];null!==s&&o.push(ke(s)),Ot(s)&&SD(s,o);const a=r.type;if(8&a)Ic(e,t,r.child,o);else if(32&a){const c=Ug(r,t);let u;for(;u=c();)o.push(u)}else if(16&a){const c=oD(t,r);if(Array.isArray(c))o.push(...c);else{const u=ci(t[Ye]);Ic(u[L],u,c,o,!0)}}r=i?r.projectionNext:r.next}return o}function SD(e,t){for(let r=Xe;r<e.length;r++){const o=e[r],i=o[L].firstChild;null!==i&&Ic(o[L],o,i,t)}e[ar]!==e[Ze]&&t.push(e[ar])}let ID=[];const UL={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{oc(e.lView)},consumerOnSignalRead(){this.lView[ii]=this}},xD=100;function vd(e,t=!0,r=0){const o=e[jn],i=o.rendererFactory;i.begin?.();try{!function jL(e,t){im(e,t);let r=0;for(;Gp(e);){if(r===xD)throw new O(103,!1);r++,im(e,1)}}(e,r)}catch(a){throw t&&yd(e,a),a}finally{i.end?.(),o.inlineEffectRunner?.flush()}}function $L(e,t,r,o){const i=t[Z];if(!(256&~i))return;t[jn].inlineEffectRunner?.flush(),eg(t);let a=null,c=null;(function HL(e){return 2!==e.type})(e)&&(c=function LL(e){return e[ii]??function FL(e){const t=ID.pop()??Object.create(UL);return t.lView=e,t}(e)}(t),a=function ub(e){return e&&(e.nextProducerIndex=0),pe(e)}(c));try{g_(t),function __(e){return oe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&fD(e,t,r,2,o);const u=!(3&~i);if(u){const f=e.preOrderCheckHooks;null!==f&&Hl(t,f,null)}else{const f=e.preOrderHooks;null!==f&&Vl(t,f,0,null),ng(t,0)}if(function VL(e){for(let t=aE(e);null!==t;t=cE(t)){if(!(t[Z]&Bp.HasTransplantedViews))continue;const r=t[cs];for(let o=0;o<r.length;o++){UO(r[o])}}}(t),TD(t,0),null!==e.contentQueries&&bD(e,t),u){const f=e.contentCheckHooks;null!==f&&Hl(t,f)}else{const f=e.contentHooks;null!==f&&Vl(t,f,1),ng(t,1)}!function uL(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const i=r[o];if(i<0)di(~i);else{const s=i,a=r[++o],c=r[++o];YO(a,s),c(2,t[s])}}}finally{di(-1)}}(e,t);const l=e.components;null!==l&&MD(t,l,0);const d=e.viewQuery;if(null!==d&&tm(2,d,o),u){const f=e.viewCheckHooks;null!==f&&Hl(t,f)}else{const f=e.viewHooks;null!==f&&Vl(t,f,2),ng(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ll]){for(const f of t[Ll])f();t[Ll]=null}t[Z]&=-73}catch(u){throw oc(t),u}finally{null!==c&&(function lb(e,t){if(pe(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(qa(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)dl(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(c,a),function BL(e){e.lView[ii]!==e&&(e.lView=null,ID.push(e))}(c)),tg()}}function TD(e,t){for(let r=aE(e);null!==r;r=cE(r))for(let o=Xe;o<r.length;o++)AD(r[o],t)}function zL(e,t,r){AD(mn(t,e),r)}function AD(e,t){qp(e)&&im(e,t)}function im(e,t){const o=e[L],i=e[Z],s=e[ii];let a=!!(0===t&&16&i);if(a||=!!(64&i&&0===t),a||=!!(1024&i),a||=!(!s?.dirty||!Qh(s)),s&&(s.dirty=!1),e[Z]&=-9217,a)$L(o,e,o.template,e[$e]);else if(8192&i){TD(e,1);const c=o.components;null!==c&&MD(e,c,1)}}function MD(e,t,r){for(let o=0;o<t.length;o++)zL(e,t[o],r)}function xc(e){for(e[jn].changeDetectionScheduler?.notify();e;){e[Z]|=64;const t=ci(e);if(jp(e)&&!t)return e;e=t}return null}class Tc{get rootNodes(){const t=this._lView,r=t[L];return Ic(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(t){this._lView[$e]=t}get destroyed(){return!(256&~this._lView[Z])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Je];if(Ot(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(bc(t,o),Cl(r,o))}this._attachedToViewContainer=!1}dd(this._lView[L],this._lView)}onDestroy(t){Ul(this._lView,t)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){Wp(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,vd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,KE(this._lView[L],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t,Wp(this._lView)}}let qr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=WL}return e})();const qL=qr,GL=class extends qL{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const i=function Cc(e,t,r,o){const i=pe(null);try{const s=t.tView,u=gd(e,s,r,4096&e[Z]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);u[Xa]=e[t.index];const d=e[jr];return null!==d&&(u[jr]=d.createEmbeddedView(s)),rm(s,u,r),u}finally{pe(i)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Tc(i)}};function WL(){return function wd(e,t){return 4&e.type?new GL(t,e,gs(e,t)):null}(Re(),T())}class dm{}class y3{}class FD{}class w3{resolveComponentFactory(t){throw function v3(e){const t=Error(`No component factory found for ${lt(e)}.`);return t.ngComponent=e,t}(t)}}let Cd=(()=>{class e{static#e=this.NULL=new w3}return e})();class UD{}let _3=(()=>{class e{static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:()=>null})}return e})();const fm={},jD=new Set;function mr(e){jD.has(e)||(jD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function $D(...e){}class Oe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vt(!1),this.onMicrotaskEmpty=new Vt(!1),this.onStable=new Vt(!1),this.onError=new Vt(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&r,i.shouldCoalesceRunChangeDetection=o,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function E3(){const e="function"==typeof Te.requestAnimationFrame;let t=Te[e?"requestAnimationFrame":"setTimeout"],r=Te[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function S3(e){const t=()=>{!function C3(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Te,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,pm(e),e.isCheckStableRunning=!0,hm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),pm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(function I3(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(c))return r.invokeTask(i,s,a,c);try{return HD(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),VD(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return HD(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),VD(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,pm(e),hm(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new O(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,t,D3,$D,$D);try{return s.runTask(a,r,o)}finally{s.cancelTask(a)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const D3={};function hm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function HD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function VD(e){e._nesting--,hm(e)}class zD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vt,this.onMicrotaskEmpty=new Vt,this.onStable=new Vt,this.onError=new Vt}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,i){return t.apply(r,o)}}var gi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(gi||{});const qD={destroy(){}};function mm(e,t){!t&&function kl(e){if(!t_())throw new O(-203,!1)}();const r=t?.injector??k(tn);if(!function Vn(e){return"browser"===(e??k(tn)).get(hi)}(r))return qD;mr("NgAfterNextRender");const o=r.get(Oc),i=o.handler??=new WD,s=t?.phase??gi.MixedReadWrite,a=()=>{i.unregister(u),c()},c=r.get(ps).onDestroy(a),u=Ur(r,()=>new GD(s,()=>{a(),e()}));return i.register(u),{destroy:a}}class GD{constructor(t,r){this.phase=t,this.callbackFn=r,this.zone=k(Oe),this.errorHandler=k(hr,{optional:!0}),k(dm,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class WD{constructor(){this.executingCallbacks=!1,this.buckets={[gi.EarlyRead]:new Set,[gi.Write]:new Set,[gi.MixedReadWrite]:new Set,[gi.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Oc=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})();function xd(e,t,r){let o=r?e.styles:null,i=r?e.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?s=c:1==s?i=lp(i,c):2==s&&(o=lp(o,c+": "+t[++a]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=i:e.classesWithoutHost=i}class YD extends Cd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=ye(t);return new Lc(r,this.ngModule)}}function QD(e){const t=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];void 0!==o&&t.push({propName:Array.isArray(o)?o[0]:o,templateName:r})}return t}class Td{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=_l(o);const i=this.injector.get(t,fm,o);return i!==fm||r===fm?i:this.parentInjector.get(t,r,o)}}class Lc extends FD{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=QD(t.inputs);if(null!==r)for(const i of o)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return o}get outputs(){return QD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function rO(e){return e.map(nO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,i){const s=pe(null);try{let a=(i=i||this.ngModule)instanceof en?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const c=a?new Td(t,a):t,u=c.get(UD,null);if(null===u)throw new O(407,!1);const l=c.get(_3,null),h={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c.get(Oc,null),changeDetectionScheduler:c.get(dm,null)},p=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=o?function dL(e,t,r,o){const s=o.get(CE,!1)||r===Pn.ShadowDom,a=e.selectRootElement(t,s);return function fL(e){pD(e)}(a),a}(p,o,this.componentDef.encapsulation,c):ld(p,g,function N3(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let v=null;null!==m&&(v=Sg(m,c,!0));const w=Qg(0,null,null,1,0,null,null,null,null,null,null),b=gd(null,w,null,y,null,null,h,p,c,null,v);let _,D;eg(b);try{const E=this.componentDef;let S,I=null;E.findHostDirectiveDefs?(S=[],I=new Map,E.findHostDirectiveDefs(E,S,I),S.push(E)):S=[E];const R=function O3(e,t){const r=e[L],o=le;return e[o]=t,Es(r,o,2,"#host",null)}(b,m),j=function k3(e,t,r,o,i,s,a){const c=i[L];!function P3(e,t,r,o){for(const i of e)t.mergedAttrs=Ya(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(xd(t,t.mergedAttrs,!0),null!==r&&cD(o,r,t))}(o,e,t,a);let u=null;null!==t&&(u=Sg(t,i[st]));const l=s.rendererFactory.createRenderer(t,r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const f=gd(i,hD(r),null,d,i[e.index],e,s,l,null,null,u);return c.firstCreatePass&&Xg(c,e,o.length-1),md(i,f),i[e.index]=f}(R,m,E,S,b,h,p);D=rc(w,le),m&&function F3(e,t,r,o){if(o)xp(e,r,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function oO(e){const t=[],r=[];let o=1,i=2;for(;o<e.length;){let s=e[o];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++o]):8===i&&r.push(s);else{if(!Fn(i))break;i=s}o++}return{attrs:t,classes:r}}(t.selectors[0]);i&&xp(e,r,i),s&&s.length>0&&aD(e,r,s.join(" "))}}(p,E,m,o),void 0!==r&&function B3(e,t,r){const o=e.projection=[];for(let i=0;i<t.length;i++){const s=r[i];o.push(null!=s?Array.from(s):null)}}(D,this.ngContentSelectors,r),_=function L3(e,t,r,o,i,s){const a=Re(),c=i[L],u=$t(a,i);yD(c,i,a,r,null,o);for(let d=0;d<r.length;d++)Pt(fi(i,c,a.directiveStart+d,a),i);vD(c,i,a),u&&Pt(u,i);const l=fi(i,c,a.directiveStart+a.componentOffset,a);if(e[$e]=i[$e]=l,null!==s)for(const d of s)d(l,t);return Zg(c,a,i),l}(j,E,S,I,b,[U3]),rm(w,b,null)}finally{tg()}return new R3(this.componentType,_,gs(D,b),b,D)}finally{pe(s)}}}class R3 extends y3{constructor(t,r,o,i,s){super(),this.location=o,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Tc(i,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let i;if(null!==o&&(i=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const s=this._rootLView;nm(s[L],s,i,t,r),this.previousInputValues.set(t,r),xc(mn(this._tNode.index,s))}}get injector(){return new ht(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function U3(){const e=Re();$l(T()[L],e)}let zn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=j3}return e})();function j3(){return function eC(e,t){let r;const o=t[e.index];return Ot(o)?r=o:(r=wD(o,t,null,e),t[e.index]=r,md(t,r)),tC(r,t,e,o),new JD(r,e,t)}(Re(),T())}const $3=zn,JD=class extends $3{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return gs(this._hostTNode,this._hostLView)}get injector(){return new ht(this._hostTNode,this._hostLView)}get parentInjector(){const t=Gl(this._hostTNode,this._hostLView);if(og(t)){const r=uc(t,this._hostLView),o=cc(t);return new ht(r[L].data[o+8],r)}return new ht(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=XD(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(t,r,o){let i,s;"number"==typeof o?i=o:null!=o&&(i=o.index,s=o.injector);const c=t.createEmbeddedViewImpl(r||{},s,null);return this.insertImpl(c,i,Ds(this._hostTNode,null)),c}createComponent(t,r,o,i,s){const a=t&&!function Qa(e){return"function"==typeof e}(t);let c;if(a)c=r;else{const g=r||{};c=g.index,o=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=a?t:new Lc(ye(t)),l=o||this.parentInjector;if(!s&&null==u.ngModule){const m=(a?l:this.parentInjector).get(en,null);m&&(s=m)}ye(u.componentType??{});const p=u.create(l,i,null,s);return this.insertImpl(p.hostView,c,Ds(this._hostTNode,null)),p}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const i=t._lView;if(function BO(e){return Ot(e[Je])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=i[Je],l=new JD(u,u[Nt],u[Je]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(r),a=this._lContainer;return Sc(a,i,s,o),t.attachToViewContainerRef(),Bb(wm(a),s,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=XD(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=bc(this._lContainer,r);o&&(Cl(wm(this._lContainer),r),dd(o[L],o))}detach(t){const r=this._adjustIndex(t,-1),o=bc(this._lContainer,r);return o&&null!=Cl(wm(this._lContainer),r)?new Tc(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function XD(e){return e[8]}function wm(e){return e[8]||(e[8]=[])}let tC=function rC(e,t,r,o){if(e[ar])return;let i;i=8&r.type?ke(o):function H3(e,t){const r=e[re],o=r.createComment(""),i=$t(t,e);return pi(r,fd(r,i),o,function oL(e,t){return e.nextSibling(t)}(r,i),!1),o}(t,r),e[ar]=i},bm=()=>!1;class mi{}class MC{}class Am extends mi{constructor(t,r,o){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YD(this);const i=Mt(t);this._bootstrapComponents=yn(i.bootstrap),this._r3Injector=W_(t,r,[{provide:mi,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver},...o],lt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Mm extends MC{constructor(t){super(),this.moduleType=t}create(t){return new Am(this.moduleType,t,[])}}class NC extends mi{constructor(t){super(),this.componentFactoryResolver=new YD(this),this.instance=null;const r=new ns([...t.providers,{provide:mi,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],t.parent||Ol(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Nd(e,t,r=null){return new NC({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let Is=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Cn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Od(e){return!!function Nm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function et(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function vi(e,t,r,o,i,s,a,c){const u=T(),l=be(),d=e+le,f=l.firstCreatePass?function SF(e,t,r,o,i,s,a,c,u){const l=t.consts,d=Es(t,e,4,a||null,ur(l,c));Jg(t,r,d,ur(l,u)),$l(t,d);const f=d.tView=Qg(2,d,o,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}(d,l,u,t,r,o,i,s,a):l.data[d];lr(f,!1);const h=RC(l,u,f,e);sc()&&hd(l,u,h,f),Pt(h,u);const p=wD(h,u,h,f);return u[d]=p,md(u,p),function nC(e,t,r){return bm(e,t,r)}(p,f,u),Bl(f)&&Kg(l,u,f),null!=a&&Yg(u,f,c),vi}let RC=function OC(e,t,r,o){return dr(!0),t[re].createComment("")};function Vc(e,t,r,o){const i=T();return et(i,Hn(),t)&&(be(),gr(He(),i,e,t,r,o)),Vc}function jd(e,t){return e<<17|t<<2}function Co(e){return e>>17&32767}function $m(e){return 2|e}function bi(e){return(131068&e)>>2}function Hm(e,t){return-131069&e|t<<2}function Vm(e){return 1|e}function lS(e,t,r,o){const i=e[r+1],s=null===t;let a=o?Co(i):bi(i),c=!1;for(;0!==a&&(!1===c||s);){const l=e[a+1];d8(e[a],t)&&(c=!0,e[a+1]=o?Vm(l):$m(l)),a=o?Co(l):bi(l)}c&&(e[r+1]=o?$m(i):Vm(i))}function d8(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ts(e,t)>=0}function Vs(e,t,r){const o=T();return et(o,Hn(),t)&&function rn(e,t,r,o,i,s,a,c){const u=$t(t,r);let d,l=t.inputs;!c&&null!=l&&(d=l[o])?(nm(e,r,d,o,i),si(t)&&function wL(e,t){const r=mn(t,e);16&r[Z]||(r[Z]|=64)}(r,t.index)):3&t.type&&(o=function vL(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),i=null!=a?a(i,t.value||"",o):i,s.setProperty(u,o,i))}(be(),He(),o,e,t,o[re],r,!1),Vs}function zm(e,t,r,o,i){const a=i?"class":"style";nm(e,r,t.inputs[a],a,o)}function qm(e,t){return function qn(e,t,r,o){const i=T(),s=be(),a=function Hr(e){const t=oe.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);s.firstUpdatePass&&function wS(e,t,r,o){const i=e.data;if(null===i[r+1]){const s=i[kt()],a=function vS(e,t){return t>=e.expandoStartIndex}(e,r);(function DS(e,t){return!!(e.flags&(t?8:16))})(s,o)&&null===t&&!a&&(t=!1),t=function b8(e,t,r,o){const i=function Jp(e){const t=oe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=o?t.residualClasses:t.residualStyles;if(null===i)0===(o?t.classBindings:t.styleBindings)&&(r=zc(r=Gm(null,e,t,r,o),t.attrs,o),s=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(r=Gm(i,e,t,r,o),null===s){let u=function _8(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==bi(o))return e[Co(o)]}(e,t,o);void 0!==u&&Array.isArray(u)&&(u=Gm(null,e,t,u[1],o),u=zc(u,t.attrs,o),function E8(e,t,r,o){e[Co(r?t.classBindings:t.styleBindings)]=o}(e,t,o,u))}else s=function D8(e,t,r){let o;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)o=zc(o,e[s].hostAttrs,r);return zc(o,t.attrs,r)}(e,t,o)}return void 0!==s&&(o?t.residualClasses=s:t.residualStyles=s),r}(i,s,t,o),function u8(e,t,r,o,i,s){let a=s?t.classBindings:t.styleBindings,c=Co(a),u=bi(a);e[o]=r;let d,l=!1;if(Array.isArray(r)?(d=r[1],(null===d||ts(r,d)>0)&&(l=!0)):d=r,i)if(0!==u){const h=Co(e[c+1]);e[o+1]=jd(h,c),0!==h&&(e[h+1]=Hm(e[h+1],o)),e[c+1]=function a8(e,t){return 131071&e|t<<17}(e[c+1],o)}else e[o+1]=jd(c,0),0!==c&&(e[c+1]=Hm(e[c+1],o)),c=o;else e[o+1]=jd(u,0),0===c?c=o:e[u+1]=Hm(e[u+1],o),u=o;l&&(e[o+1]=$m(e[o+1])),lS(e,d,o,!0),lS(e,d,o,!1),function l8(e,t,r,o,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&ts(s,t)>=0&&(r[o+1]=Vm(r[o+1]))}(t,d,e,o,s),a=jd(c,u),s?t.classBindings=a:t.styleBindings=a}(i,s,t,r,a,o)}}(s,e,a,o),t!==de&&et(i,a,t)&&function _S(e,t,r,o,i,s,a,c){if(!(3&t.type))return;const u=e.data,l=u[c+1],d=function c8(e){return!(1&~e)}(l)?ES(u,t,r,i,bi(l),a):void 0;$d(d)||($d(s)||function s8(e){return!(2&~e)}(l)&&(s=ES(u,null,r,i,c,a)),function aL(e,t,r,o,i){if(t)i?e.addClass(r,o):e.removeClass(r,o);else{let s=-1===o.indexOf("-")?void 0:bo.DashCase;null==i?e.removeStyle(r,o,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bo.Important),e.setStyle(r,o,i,s))}}(o,a,nc(kt(),r),i,s))}(s,s.data[kt()],i,i[re],e,i[a+1]=function x8(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=lt(function wo(e){return e instanceof AE?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,r),o,a)}(e,t,null,!0),qm}function Gm(e,t,r,o,i){let s=null;const a=r.directiveEnd;let c=r.directiveStylingLast;for(-1===c?c=r.directiveStart:c++;c<a&&(s=t[c],o=zc(o,s.hostAttrs,i),s!==e);)c++;return null!==e&&(r.directiveStylingLast=c),o}function zc(e,t,r){const o=r?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:i===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),pn(e,a,!!r||t[++s]))}return void 0===e?null:e}function ES(e,t,r,o,i,s){const a=null===t;let c;for(;i>0;){const u=e[i],l=Array.isArray(u),d=l?u[1]:u,f=null===d;let h=r[i+1];h===de&&(h=f?Ce:void 0);let p=f?Sp(h,o):d===o?h:void 0;if(l&&!$d(p)&&(p=Sp(u,o)),$d(p)&&(c=p,a))return c;const g=e[i+1];i=a?Co(g):bi(g)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(c=Sp(u,o))}return c}function $d(e){return void 0!==e}function on(e,t,r,o){const i=T(),s=be(),a=le+e,c=i[re],u=s.firstCreatePass?function Y8(e,t,r,o,i,s){const a=t.consts,u=Es(t,e,2,o,ur(a,i));return Jg(t,r,u,ur(a,s)),null!==u.attrs&&xd(u,u.attrs,!1),null!==u.mergedAttrs&&xd(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,s,i,t,r,o):s.data[a],l=xS(s,i,u,c,t,e);i[a]=l;const d=Bl(u);return lr(u,!0),cD(c,l,u),!function Uc(e){return!(32&~e.flags)}(u)&&sc()&&hd(s,i,l,u),0===function jO(){return oe.lFrame.elementDepthCount}()&&Pt(l,i),function $O(){oe.lFrame.elementDepthCount++}(),d&&(Kg(s,i,u),Zg(s,u,i)),null!==o&&Yg(i,u),on}function xn(){let e=Re();Kp()?function Yp(){oe.lFrame.isParent=!1}():(e=e.parent,lr(e,!1));const t=e;(function VO(e){return oe.skipHydrationRootTNode===e})(t)&&function WO(){oe.skipHydrationRootTNode=null}(),function HO(){oe.lFrame.elementDepthCount--}();const r=be();return r.firstCreatePass&&($l(r,e),Up(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ck(e){return!!(8&e.flags)}(t)&&zm(r,t,T(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function uk(e){return!!(16&e.flags)}(t)&&zm(r,t,T(),t.stylesWithoutHost,!1),xn}function qc(e,t,r,o){return on(e,t,r,o),xn(),qc}let xS=(e,t,r,o,i,s)=>(dr(!0),ld(o,i,function T_(){return oe.lFrame.currentNamespace}()));function Gc(){return T()}const qs="en-US";let kS=qs;function So(e,t,r,o){const i=T(),s=be(),a=Re();return function ty(e,t,r,o,i,s,a){const c=Bl(o),l=e.firstCreatePass&&function ED(e){return e.cleanup||(e.cleanup=[])}(e),d=t[$e],f=function _D(e){return e[is]||(e[is]=[])}(t);let h=!0;if(3&o.type||a){const m=$t(o,t),y=a?a(m):m,v=f.length,w=a?_=>a(ke(_[o.index])):o.index;let b=null;if(!a&&c&&(b=function eU(e,t,r,o){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===r&&i[s+1]===o){const c=t[is],u=i[s+2];return c.length>u?c[u]:null}"string"==typeof a&&(s+=2)}return null}(e,t,i,o.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=cI(o,t,d,s,!1);const _=r.listen(y,i,s);f.push(s,_),l&&l.push(i,w,v,v+1)}}else s=cI(o,t,d,s,!1);const p=o.outputs;let g;if(h&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const D=t[g[y]][g[y+1]].subscribe(s),E=f.length;f.push(s,D),l&&l.push(i,o.index,E,-(E+1))}}}(s,i,i[re],a,e,t,o),So}function aI(e,t,r,o){const i=pe(null);try{return cr(6,t,r),!1!==r(o)}catch(s){return yd(e,s),!1}finally{cr(7,t,r),pe(i)}}function cI(e,t,r,o,i){return function s(a){if(a===Function)return o;xc(e.componentOffset>-1?mn(e.index,t):t);let u=aI(t,r,o,a),l=s.__ngNextListenerFn__;for(;l;)u=aI(t,r,l,a)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&a.preventDefault(),u}}function Xc(e=1){return function XO(e){return(oe.lFrame.contextLView=function m_(e,t){for(;e>0;)t=t[ss],e--;return t}(e,oe.lFrame.contextLView))[$e]}(e)}function ry(e){return us(function ZO(){return oe.lFrame.contextLView}(),le+e)}function Io(e,t=""){const r=T(),o=be(),i=e+le,s=o.firstCreatePass?Es(o,i,1,t,null):o.data[i],a=MI(o,r,s,t,e);r[i]=a,sc()&&hd(o,r,a,s),lr(s,!1)}let MI=(e,t,r,o,i)=>(dr(!0),function jg(e,t){return e.createText(t)}(t[re],o));function oy(e){return Gd("",e,""),oy}function Gd(e,t,r){const o=T(),i=function ks(e,t,r,o){return et(e,Hn(),r)?t+ue(r)+o:de}(o,e,t,r);return i!==de&&function zr(e,t,r){const o=nc(t,e);!function ZE(e,t,r){e.setValue(t,r)}(e[re],o,r)}(o,kt(),i),Gd}let IU=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Ap(0,r.type),i=o.length>0?Nd([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(J(en))})}return e})();function HI(e){mr("NgStandalone"),e.getStandaloneInjector=t=>t.get(IU).getOrCreateStandaloneInjector(e)}function zI(e,t,r,o,i,s){const a=t+r;return et(e,a,i)?function yr(e,t,r){return e[t]=r}(e,a+1,s?o.call(s,i):o(i)):function eu(e,t){const r=e[t];return r===de?void 0:r}(e,a+1)}function YI(e,t,r){const o=e+le,i=T(),s=us(i,o);return function tu(e,t){return e[L].data[t].pure}(i,o)?zI(i,function Ht(){const e=oe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,r,s):s.transform(r)}let fx=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const yx=new W(""),Qd=new W("");let my,py=(()=>{class e{constructor(r,o,i){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,my||(function F4(e){my=e}(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},o)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(J(Oe),J(gy),J(Qd))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),gy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return my?.findTestabilityInTree(this,r,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Jd(e){return!!e&&"function"==typeof e.then}function vx(e){return!!e&&"function"==typeof e.subscribe}const yy=new W("");let vy=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=k(yy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const i of this.appInits){const s=i();if(Jd(s))r.push(s);else if(vx(s)){const a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),0===r.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const wy=new W("");function _x(e,t){return Array.isArray(t)?t.reduce(_x,e):{...e,...t}}let xo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(K_),this.afterRenderEffectManager=k(Oc),this.externalTestViews=new Set,this.beforeRender=new Dn,this.afterTick=new Dn,this.componentTypes=[],this.components=[],this.isStable=k(Is).hasPendingTasks.pipe(Me(r=>!r)),this._injector=k(en)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){const i=r instanceof FD;if(!this._injector.get(vy).done)throw!i&&function go(e){const t=ye(e)||dt(e)||It(e);return null!==t&&t.standalone}(r),new O(405,!1);let a;a=i?r:this._injector.get(Cd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function B4(e){return e.isBoundToModule}(a)?void 0:this._injector.get(mi),l=a.create(tn.NULL,[],o||a.selector,c),d=l.location.nativeElement,f=l.injector.get(yx,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Xd(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new O(101,!1);const o=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,pe(o)}}detectChangesInAttachedViews(r){let o=0;const i=this.afterRenderEffectManager;for(;;){if(o===xD)throw new O(103,!1);if(r){const s=0===o;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)j4(a,s,c)}if(o++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>by(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>by(s))))break}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;Xd(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(wy,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function j4(e,t,r){!t&&!by(e)||function $4(e,t,r){let o;r?(o=0,e[Z]|=1024):o=64&e[Z]?0:1,vd(e,t,o)}(e,r,t)}function by(e){return Gp(e)}class H4{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let Ex=(()=>{class e{compileModuleSync(r){return new Mm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),s=yn(Mt(r).declarations).reduce((a,c)=>{const u=ye(c);return u&&a.push(new Lc(u)),a},[]);return new H4(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),q4=(()=>{class e{constructor(){this.zone=k(Oe),this.applicationRef=k(xo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function G4(){const e=k(Oe),t=k(hr);return r=>e.runOutsideAngular(()=>t.handleError(r))}let Z4=(()=>{class e{constructor(){this.subscription=new Qt,this.initialized=!1,this.zone=k(Oe),this.pendingTasks=k(Is)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Gr=new W("",{providedIn:"root",factory:()=>k(Gr,we.Optional|we.SkipSelf)||function K4(){return typeof $localize<"u"&&$localize.locale||qs}()}),_y=new W("");let Ix=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const i=function x3(e="zone.js",t){return"noop"===e?new zD:"zone.js"===e?new Oe(t):e}(o?.ngZone,function Sx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function wF(e,t,r){return new Am(e,t,r)}(r.moduleType,this.injector,function Cx(e){return[{provide:Oe,useFactory:e},{provide:ri,multi:!0,useFactory:()=>{const t=k(q4,{optional:!0});return()=>t.initialize()}},{provide:ri,multi:!0,useFactory:()=>{const t=k(Z4);return()=>{t.initialize()}}},{provide:K_,useFactory:G4}]}(()=>i)),a=s.injector.get(hr,null);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Xd(this._modules,s),c.unsubscribe()})}),function bx(e,t,r){try{const o=r();return Jd(o)?o.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(a,i,()=>{const c=s.injector.get(vy);return c.runInitializers(),c.donePromise.then(()=>(function PS(e){"string"==typeof e&&(kS=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Gr,qs)||qs),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,o=[]){const i=_x({},o);return function z4(e,t,r){const o=new Mm(r);return Promise.resolve(o)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(r){const o=r.injector.get(xo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!r.instance.ngDoBootstrap)throw new O(-403,!1);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(_y,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(J(tn))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),To=null;const xx=new W("");function Tx(e,t,r=[]){const o=`Platform: ${t}`,i=new W(o);return(s=[])=>{let a=Ey();if(!a||a.injector.get(xx,!1)){const c=[...r,...s,{provide:i,useValue:!0}];e?e(c):function J4(e){if(To&&!To.get(xx,!1))throw new O(400,!1);(function wx(){!function iR(e){pb=e}(()=>{throw new O(600,!1)})})(),To=e;const t=e.get(Ix);(function Mx(e){e.get(yE,null)?.forEach(r=>r())})(e)}(function Ax(e=[],t){return tn.create({name:t,providers:[{provide:Rp,useValue:"platform"},{provide:_y,useValue:new Set([()=>To=null])},...e]})}(c,o))}return function X4(e){const t=Ey();if(!t)throw new O(401,!1);return t}()}}function Ey(){return To?.get(Ix)??null}let tf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=tj}return e})();function tj(e){return function nj(e,t,r){if(si(e)&&!r){const o=mn(e.index,t);return new Tc(o,o)}return 47&e.type?new Tc(t[Ye],t):null}(Re(),T(),!(16&~e))}class Px{constructor(){}supports(t){return Od(t)}create(t){return new aj(t)}}const sj=(e,t)=>t;class aj{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sj}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,i=0,s=null;for(;r||o;){const a=!o||r&&r.currentIndex<Fx(o,i,s)?r:o,c=Fx(a,i,s),u=a.currentIndex;if(a===o)i--,o=o._nextRemoved;else if(r=r._next,null==a.previousIndex)i++;else{s||(s=[]);const l=c-i,d=u-i;if(l!=d){for(let h=0;h<l;h++){const p=h<s.length?s[h]:s[h]=0,g=p+h;d<=g&&g<l&&(s[h]=p+1)}s[a.previousIndex]=d-l}}c!==u&&t(a,c,u)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Od(t))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,a,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)s=t[c],a=this._trackByFn(c,s),null!==r&&Object.is(r.trackById,a)?(o&&(r=this._verifyReinsertion(r,s,a,c)),Object.is(r.item,s)||this._addIdentityChange(r,s)):(r=this._mismatch(r,s,a,c),o=!0),r=r._next}else i=0,function DF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,c=>{a=this._trackByFn(i,c),null!==r&&Object.is(r.trackById,a)?(o&&(r=this._verifyReinsertion(r,c,a,i)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,a,i),o=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,i))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,s,i)):t=this._addAfter(new cj(r,o),s,i),t}_verifyReinsertion(t,r,o,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const i=null===r?this._itHead:r._next;return t._next=i,t._prev=r,null===i?this._itTail=t:i._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new Lx),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lx),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class cj{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uj{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class Lx{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new uj,this.map.set(r,o)),o.add(t)}get(t,r){const i=this.map.get(t);return i?i.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fx(e,t,r){const o=e.previousIndex;if(null===o)return o;let i=0;return r&&o<r.length&&(i=r[o]),o+t+i}function Ux(){return new xy([new Px])}let xy=(()=>{class e{static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:Ux});constructor(r){this.factories=r}static create(r,o){if(null!=o){const i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||Ux()),deps:[[e,new Dl,new El]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(null!=o)return o;throw new O(901,!1)}}return e})();const pj=Tx(null,"core",[]);let gj=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(o){return new(o||e)(J(xo))};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({})}return e})(),u1=null;function Ks(){return u1}class Jj{}const Tn=new W("");let Ny=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(e6),providedIn:"platform"})}return e})();const Xj=new W("");let e6=(()=>{class e extends Ny{constructor(){super(),this._doc=k(Tn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ks().getBaseHref(this._doc)}onPopState(r){const o=Ks().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){const o=Ks().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,i){this._history.pushState(r,o,i)}replaceState(r,o,i){this._history.replaceState(r,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Ry(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function l1(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Wr(e){return e&&"?"!==e[0]?"?"+e:e}let Di=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(f1),providedIn:"root"})}return e})();const d1=new W("");let f1=(()=>{class e extends Di{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??k(Tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ry(this._baseHref,r)}path(r=!1){const o=this._platformLocation.pathname+Wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&r?`${o}${i}`:o}pushState(r,o,i,s){const a=this.prepareExternalUrl(i+Wr(s));this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){const a=this.prepareExternalUrl(i+Wr(s));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(o){return new(o||e)(J(Ny),J(d1,8))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),t6=(()=>{class e extends Di{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){const o=this._platformLocation.hash??"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const o=Ry(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+Wr(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+Wr(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(o){return new(o||e)(J(Ny),J(d1,8))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),su=(()=>{class e{constructor(r){this._subject=new Vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const o=this._locationStrategy.getBaseHref();this._basePath=function o6(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(l1(h1(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Wr(o))}normalize(r){return e.stripTrailingSlash(function r6(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,h1(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",i=null){this._locationStrategy.pushState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wr(o)),i)}replaceState(r,o="",i=null){this._locationStrategy.replaceState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wr(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{const o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(i=>i(r,o))}subscribe(r,o,i){return this._subject.subscribe({next:r,error:o,complete:i})}static#e=this.normalizeQueryParams=Wr;static#t=this.joinWithSlash=Ry;static#r=this.stripTrailingSlash=l1;static#h=this.\u0275fac=function(o){return new(o||e)(J(Di))};static#x=this.\u0275prov=G({token:e,factory:()=>function n6(){return new su(J(Di))}(),providedIn:"root"})}return e})();function h1(e){return e.replace(/\/index.html$/,"")}class q6{constructor(t,r,o,i){this.$implicit=t,this.ngForOf=r,this.index=o,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let C1=(()=>{class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,i){this._viewContainer=r,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new q6(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const c=o.get(s);o.move(c,a),S1(c,i)}});for(let i=0,s=o.length;i<s;i++){const c=o.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(i=>{S1(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(r,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(ne(zn),ne(qr),ne(xy))};static#t=this.\u0275dir=Ut({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function S1(e,t){e.context.$implicit=t.item}let I1=(()=>{class e{constructor(r,o){this._viewContainer=r,this._context=new G6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){x1("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){x1("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(ne(zn),ne(qr))};static#t=this.\u0275dir=Ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class G6{constructor(){this.$implicit=null,this.ngIf=null}}function x1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${lt(t)}'.`)}let cu=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({})}return e})();const M1="browser";function N1(e){return"server"===e}let E$=(()=>{class e{static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:()=>function _$(e){return e===M1}(k(hi))?new D$(k(Tn),window):new S$})}return e})();class D${constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const r=function C$(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=o.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}i=o.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(o-s[0],i-s[1])}}class S${setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class e5 extends Jj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zy extends e5{static makeCurrent(){!function Qj(e){u1??=e}(new Zy)}onAndCancel(t,r,o){return t.addEventListener(r,o),()=>{t.removeEventListener(r,o)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function t5(){return du=du||document.querySelector("base"),du?du.getAttribute("href"):null}();return null==r?null:function n5(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){du=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function H6(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const o=r.indexOf("="),[i,s]=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let du=null,o5=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const Ky=new W("");let j1=(()=>{class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,i){return this._findPluginFor(o).addEventListener(r,o,i)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(s=>s.supports(r)),!o)throw new O(5101,!1);return this._eventNameToPlugin.set(r,o),o}static#e=this.\u0275fac=function(o){return new(o||e)(J(Ky),J(Oe))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();class $1{constructor(t){this._doc=t}}const Yy="ng-app-id";let H1=(()=>{class e{constructor(r,o,i,s={}){this.doc=r,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=N1(s),this.resetHostNodes()}addStyles(r){for(const o of r)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(r){for(const o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){const o=this.styleRef;o.get(r)?.elements?.forEach(i=>i.remove()),o.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Yy}="${this.appId}"]`);if(r?.length){const o=new Map;return r.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(r,o){const i=this.styleRef;if(i.has(r)){const s=i.get(r);return s.usage+=o,s.usage}return i.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===r)return i.delete(o),s.removeAttribute(Yy),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Yy,this.appId),r.appendChild(a),a}}addStyleToHost(r,o){const i=this.getStyleElement(r,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||e)(J(Tn),J(Jl),J(vE,8),J(hi))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const Qy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jy=/%COMP%/g,c5=new W("",{providedIn:"root",factory:()=>!0});function z1(e,t){return t.map(r=>r.replace(Jy,e))}let q1=(()=>{class e{constructor(r,o,i,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=N1(c),this.defaultRenderer=new Xy(r,a,u,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Pn.ShadowDom&&(o={...o,encapsulation:Pn.Emulated});const i=this.getOrCreateRenderer(r,o);return i instanceof W1?i.applyToHost(r):i instanceof ev&&i.applyStyles(),i}getOrCreateRenderer(r,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(o.encapsulation){case Pn.Emulated:s=new W1(u,l,o,this.appId,d,a,c,f);break;case Pn.ShadowDom:return new f5(u,l,r,o,a,c,this.nonce,f);default:s=new ev(u,l,o,d,a,c,f)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||e)(J(j1),J(H1),J(Jl),J(c5),J(Tn),J(hi),J(Oe),J(vE))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();class Xy{constructor(t,r,o,i){this.eventManager=t,this.doc=r,this.ngZone=o,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Qy[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(G1(t)?t.content:t).appendChild(r)}insertBefore(t,r,o){t&&(G1(t)?t.content:t).insertBefore(r,o)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let o="string"==typeof t?this.doc.querySelector(t):t;if(!o)throw new O(-5104,!1);return r||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,o,i){if(i){r=i+":"+r;const s=Qy[i];s?t.setAttributeNS(s,r,o):t.setAttribute(r,o)}else t.setAttribute(r,o)}removeAttribute(t,r,o){if(o){const i=Qy[o];i?t.removeAttributeNS(i,r):t.removeAttribute(`${o}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,o,i){i&(bo.DashCase|bo.Important)?t.style.setProperty(r,o,i&bo.Important?"important":""):t.style[r]=o}removeStyle(t,r,o){o&bo.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,o){null!=t&&(t[r]=o)}setValue(t,r){t.nodeValue=r}listen(t,r,o){if("string"==typeof t&&!(t=Ks().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(o))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function G1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class f5 extends Xy{constructor(t,r,o,i,s,a,c,u){super(t,s,a,u),this.sharedStylesHost=r,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=z1(i.id,i.styles);for(const d of l){const f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,o){return super.insertBefore(this.nodeOrShadowRoot(t),r,o)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ev extends Xy{constructor(t,r,o,i,s,a,c,u){super(t,s,a,c),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=u?z1(u,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class W1 extends ev{constructor(t,r,o,i,s,a,c,u){const l=i+"-"+o.id;super(t,r,o,s,a,c,u,l),this.contentAttr=function u5(e){return"_ngcontent-%COMP%".replace(Jy,e)}(l),this.hostAttr=function l5(e){return"_nghost-%COMP%".replace(Jy,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const o=super.createElement(t,r);return super.setAttribute(o,this.contentAttr,""),o}}let h5=(()=>{class e extends $1{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,i){return r.addEventListener(o,i,!1),()=>this.removeEventListener(r,o,i)}removeEventListener(r,o,i){return r.removeEventListener(o,i)}static#e=this.\u0275fac=function(o){return new(o||e)(J(Tn))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const Z1=["alt","control","meta","shift"],p5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let m5=(()=>{class e extends $1{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,o,i){const s=e.parseEventName(o),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ks().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const o=r.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(o.pop());let a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),Z1.forEach(l=>{const d=o.indexOf(l);d>-1&&(o.splice(d,1),a+=l+".")}),a+=s,0!=o.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(r,o){let i=p5[r.key]||r.key,s="";return o.indexOf("code.")>-1&&(i=r.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Z1.forEach(a=>{a!==i&&(0,g5[a])(r)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(r,o,i){return s=>{e.matchEventFullKeyCode(s,r)&&i.runGuarded(()=>o(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}static#e=this.\u0275fac=function(o){return new(o||e)(J(Tn))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const Y1=[{provide:hi,useValue:M1},{provide:yE,useValue:function y5(){Zy.makeCurrent()},multi:!0},{provide:Tn,useFactory:function w5(){return function Yk(e){yg=e}(document),document},deps:[]}],b5=Tx(pj,"browser",Y1),_5=new W(""),Q1=[{provide:Qd,useClass:class r5{addToWindow(t){Te.getAngularTestability=(o,i=!0)=>{const s=t.findTestabilityInTree(o,i);if(null==s)throw new O(5103,!1);return s},Te.getAllAngularTestabilities=()=>t.getAllTestabilities(),Te.getAllAngularRootElements=()=>t.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(o=>{const i=Te.getAllAngularTestabilities();let s=i.length;const a=function(){s--,0==s&&o()};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,r,o){return null==r?null:t.getTestability(r)??(o?Ks().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:yx,useClass:py,deps:[Oe,gy,Qd]},{provide:py,useClass:py,deps:[Oe,gy,Qd]}],J1=[{provide:Rp,useValue:"root"},{provide:hr,useFactory:function v5(){return new hr},deps:[]},{provide:Ky,useClass:h5,multi:!0,deps:[Tn,Oe,hi]},{provide:Ky,useClass:m5,multi:!0,deps:[Tn]},q1,H1,j1,{provide:UD,useExisting:q1},{provide:class I${},useClass:o5,deps:[]},[]];let E5=(()=>{class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Jl,useValue:r.appId}]}}static#e=this.\u0275fac=function(o){return new(o||e)(J(_5,12))};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({providers:[...J1,...Q1],imports:[cu,gj]})}return e})(),D5=(()=>{class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static#e=this.\u0275fac=function(o){return new(o||e)(J(Tn))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ao(e){return this instanceof Ao?(this.v=e,this):new Ao(e)}function iT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ov(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(s){r[s]=e[s]&&function(a){return new Promise(function(c,u){!function i(s,a,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},a)}(c,u,(a=e[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const sT=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function aT(e){return We(e?.then)}function cT(e){return We(e[cp])}function uT(e){return Symbol.asyncIterator&&We(e?.[Symbol.asyncIterator])}function lT(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dT=function K5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fT(e){return We(e?.[dT])}function hT(e){return function oT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=r.apply(e,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function a(p){return function(g){return Promise.resolve(g).then(p,f)}}),i[Symbol.asyncIterator]=function(){return this},i;function c(p,g){o[p]&&(i[p]=function(m){return new Promise(function(y,v){s.push([p,m,y,v])>1||u(p,m)})},g&&(i[p]=g(i[p])))}function u(p,g){try{!function l(p){p.value instanceof Ao?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}(o[p](g))}catch(m){h(s[0][3],m)}}function d(p){u("next",p)}function f(p){u("throw",p)}function h(p,g){p(g),s.shift(),s.length&&u(s[0][0],s[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:o,done:i}=yield Ao(r.read());if(i)return yield Ao(void 0);yield yield Ao(o)}}finally{r.releaseLock()}})}function pT(e){return We(e?.getReader)}function Yr(e){if(e instanceof Ct)return e;if(null!=e){if(cT(e))return function Y5(e){return new Ct(t=>{const r=e[cp]();if(We(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(sT(e))return function Q5(e){return new Ct(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(aT(e))return function J5(e){return new Ct(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,bb)})}(e);if(uT(e))return gT(e);if(fT(e))return function X5(e){return new Ct(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(pT(e))return function eH(e){return gT(hT(e))}(e)}throw lT(e)}function gT(e){return new Ct(t=>{(function tH(e,t){var r,o,i,s;return function nT(e,t,r,o){return new(r||(r=Promise))(function(s,a){function c(d){try{l(o.next(d))}catch(f){a(f)}}function u(d){try{l(o.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):function i(s){return s instanceof r?s:new r(function(a){a(s)})}(d.value).then(c,u)}l((o=o.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=iT(e);!(o=yield r.next()).done;)if(t.next(o.value),t.closed)return}catch(a){i={error:a}}finally{try{o&&!o.done&&(s=r.return)&&(yield s.call(r))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Qr(e,t,r,o=0,i=!1){const s=t.schedule(function(){r(),i?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(s),!i)return s}function mT(e,t=0){return St((r,o)=>{r.subscribe(_t(o,i=>Qr(o,e,()=>o.next(i),t),()=>Qr(o,e,()=>o.complete(),t),i=>Qr(o,e,()=>o.error(i),t)))})}function yT(e,t=0){return St((r,o)=>{o.add(e.schedule(()=>r.subscribe(o),t))})}function vT(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ct(r=>{Qr(r,t,()=>{const o=e[Symbol.asyncIterator]();Qr(r,t,()=>{o.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Et(e,t){return t?function aH(e,t){if(null!=e){if(cT(e))return function nH(e,t){return Yr(e).pipe(yT(t),mT(t))}(e,t);if(sT(e))return function oH(e,t){return new Ct(r=>{let o=0;return t.schedule(function(){o===e.length?r.complete():(r.next(e[o++]),r.closed||this.schedule())})})}(e,t);if(aT(e))return function rH(e,t){return Yr(e).pipe(yT(t),mT(t))}(e,t);if(uT(e))return vT(e,t);if(fT(e))return function iH(e,t){return new Ct(r=>{let o;return Qr(r,t,()=>{o=e[dT](),Qr(r,t,()=>{let i,s;try{({value:i,done:s}=o.next())}catch(a){return void r.error(a)}s?r.complete():r.next(i)},0,!0)}),()=>We(o?.return)&&o.return()})}(e,t);if(pT(e))return function sH(e,t){return vT(hT(e),t)}(e,t)}throw lT(e)}(e,t):Yr(e)}function iv(e){return e[e.length-1]}function If(e){return function cH(e){return e&&We(e.schedule)}(iv(e))?e.pop():void 0}function ae(...e){return Et(e,If(e))}const{isArray:lH}=Array,{getPrototypeOf:dH,prototype:fH,keys:hH}=Object;const{isArray:mH}=Array;function sv(...e){const t=If(e),r=function uH(e){return We(iv(e))?e.pop():void 0}(e),{args:o,keys:i}=function pH(e){if(1===e.length){const t=e[0];if(lH(t))return{args:t,keys:null};if(function gH(e){return e&&"object"==typeof e&&dH(e)===fH}(t)){const r=hH(t);return{args:r.map(o=>t[o]),keys:r}}}return{args:e,keys:null}}(e);if(0===o.length)return Et([],t);const s=new Ct(function bH(e,t,r=ti){return o=>{wT(t,()=>{const{length:i}=e,s=new Array(i);let a=i,c=i;for(let u=0;u<i;u++)wT(t,()=>{const l=Et(e[u],t);let d=!1;l.subscribe(_t(o,f=>{s[u]=f,d||(d=!0,c--),c||o.next(r(s.slice()))},()=>{--a||o.complete()}))},o)},o)}}(o,t,i?a=>function wH(e,t){return e.reduce((r,o,i)=>(r[o]=t[i],r),{})}(i,a):ti));return r?s.pipe(function vH(e){return Me(t=>function yH(e,t){return mH(t)?e(...t):e(t)}(e,t))}(r)):s}function wT(e,t,r){e?Qr(r,e,t):t()}const xf=Xh(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Lt(e,t,r=1/0){return We(t)?Lt((o,i)=>Me((s,a)=>t(o,s,i,a))(Yr(e(o,i))),r):("number"==typeof t&&(r=t),St((o,i)=>function _H(e,t,r,o,i,s,a,c){const u=[];let l=0,d=0,f=!1;const h=()=>{f&&!u.length&&!l&&t.complete()},p=m=>l<o?g(m):u.push(m),g=m=>{s&&t.next(m),l++;let y=!1;Yr(r(m,d++)).subscribe(_t(t,v=>{i?.(v),s?p(v):t.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<o;){const v=u.shift();a?Qr(t,a,()=>g(v)):g(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(_t(t,p,()=>{f=!0,h()})),()=>{c?.()}}(o,i,e,r)))}function hu(e=1/0){return Lt(ti,e)}function av(...e){return function EH(){return hu(1)}()(Et(e,If(e)))}function bT(e){return new Ct(t=>{Yr(e()).subscribe(t)})}function Tf(e,t){const r=We(e)?e:()=>e,o=i=>i.error(r());return new Ct(t?i=>t.schedule(o,0,i):o)}const br=new Ct(e=>e.complete());function cv(){return St((e,t)=>{let r=null;e._refCount++;const o=_t(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const i=e._connection,s=r;r=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(o),o.closed||(r=e.connect())})}class _T extends Ct{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Cb(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Qt;const r=this.getSubject();t.add(this.source.subscribe(_t(r,void 0,()=>{this._teardown(),r.complete()},o=>{this._teardown(),r.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Qt.EMPTY)}return t}refCount(){return cv()(this)}}function _r(e,t){return St((r,o)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&o.complete();r.subscribe(_t(o,u=>{i?.unsubscribe();let l=0;const d=s++;Yr(e(u,d)).subscribe(i=_t(o,f=>o.next(t?t(u,f,d,l++):f),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function Qs(e){return e<=0?()=>br:St((t,r)=>{let o=0;t.subscribe(_t(r,i=>{++o<=e&&(r.next(i),e<=o&&r.complete())}))})}function Er(e,t){return St((r,o)=>{let i=0;r.subscribe(_t(o,s=>e.call(t,s,i++)&&o.next(s)))})}function Af(e){return St((t,r)=>{let o=!1;t.subscribe(_t(r,i=>{o=!0,r.next(i)},()=>{o||r.next(e),r.complete()}))})}function ET(e=SH){return St((t,r)=>{let o=!1;t.subscribe(_t(r,i=>{o=!0,r.next(i)},()=>o?r.complete():r.error(e())))})}function SH(){return new xf}function Ci(e,t){const r=arguments.length>=2;return o=>o.pipe(e?Er((i,s)=>e(i,s,o)):ti,Qs(1),r?Af(t):ET(()=>new xf))}function pu(e,t){return We(t)?Lt(e,t,1):Lt(e,1)}function Wt(e,t,r){const o=We(e)||t||r?{next:e,error:t,complete:r}:e;return o?St((i,s)=>{var a;null===(a=o.subscribe)||void 0===a||a.call(o);let c=!0;i.subscribe(_t(s,u=>{var l;null===(l=o.next)||void 0===l||l.call(o,u),s.next(u)},()=>{var u;c=!1,null===(u=o.complete)||void 0===u||u.call(o),s.complete()},u=>{var l;c=!1,null===(l=o.error)||void 0===l||l.call(o,u),s.error(u)},()=>{var u,l;c&&(null===(u=o.unsubscribe)||void 0===u||u.call(o)),null===(l=o.finalize)||void 0===l||l.call(o)}))}):ti}function Js(e){return St((t,r)=>{let s,o=null,i=!1;o=t.subscribe(_t(r,void 0,void 0,a=>{s=Yr(e(a,Js(e)(t))),o?(o.unsubscribe(),o=null,s.subscribe(r)):i=!0})),i&&(o.unsubscribe(),o=null,s.subscribe(r))})}function uv(e){return e<=0?()=>br:St((t,r)=>{let o=[];t.subscribe(_t(r,i=>{o.push(i),e<o.length&&o.shift()},()=>{for(const i of o)r.next(i);r.complete()},void 0,()=>{o=null}))})}function lv(e){return St((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function dv(e){return St((t,r)=>{Yr(e).subscribe(_t(r,()=>r.complete(),np)),!r.closed&&t.subscribe(r)})}const he="primary",gu=Symbol("RouteTitle");class MH{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Xs(e){return new MH(e)}function NH(e,t,r){const o=r.path.split("/");if(o.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||o.length<e.length))return null;const i={};for(let s=0;s<o.length;s++){const a=o[s],c=e[s];if(a.startsWith(":"))i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:e.slice(0,o.length),posParams:i}}function Dr(e,t){const r=e?fv(e):void 0,o=t?fv(t):void 0;if(!r||!o||r.length!=o.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!DT(e[i],t[i]))return!1;return!0}function fv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function DT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),o=[...t].sort();return r.every((i,s)=>o[s]===i)}return e===t}function CT(e){return e.length>0?e[e.length-1]:null}function Mo(e){return function x5(e){return!!e&&(e instanceof Ct||We(e.lift)&&We(e.subscribe))}(e)?e:Jd(e)?Et(Promise.resolve(e)):ae(e)}const OH={exact:function xT(e,t,r){if(!Si(e.segments,t.segments)||!Mf(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!e.children[o]||!xT(e.children[o],t.children[o],r))return!1;return!0},subset:TT},ST={exact:function kH(e,t){return Dr(e,t)},subset:function PH(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>DT(e[r],t[r]))},ignored:()=>!0};function IT(e,t,r){return OH[r.paths](e.root,t.root,r.matrixParams)&&ST[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function TT(e,t,r){return AT(e,t,t.segments,r)}function AT(e,t,r,o){if(e.segments.length>r.length){const i=e.segments.slice(0,r.length);return!(!Si(i,r)||t.hasChildren()||!Mf(i,r,o))}if(e.segments.length===r.length){if(!Si(e.segments,r)||!Mf(e.segments,r,o))return!1;for(const i in t.children)if(!e.children[i]||!TT(e.children[i],t.children[i],o))return!1;return!0}{const i=r.slice(0,e.segments.length),s=r.slice(e.segments.length);return!!(Si(e.segments,i)&&Mf(e.segments,i,o)&&e.children[he])&&AT(e.children[he],t,s,o)}}function Mf(e,t,r){return t.every((o,i)=>ST[r](e[i].parameters,o.parameters))}class ea{constructor(t=new Pe([],{}),r={},o=null){this.root=t,this.queryParams=r,this.fragment=o}get queryParamMap(){return this._queryParamMap??=Xs(this.queryParams),this._queryParamMap}toString(){return BH.serialize(this)}}class Pe{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}}class mu{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=Xs(this.parameters),this._parameterMap}toString(){return RT(this)}}function Si(e,t){return e.length===t.length&&e.every((r,o)=>r.path===t[o].path)}let ta=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>new hv,providedIn:"root"})}return e})();class hv{parse(t){const r=new KH(t);return new ea(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${yu(t.root,!0)}`,o=function $H(e){const t=Object.entries(e).map(([r,o])=>Array.isArray(o)?o.map(i=>`${Rf(r)}=${Rf(i)}`).join("&"):`${Rf(r)}=${Rf(o)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${o}${"string"==typeof t.fragment?`#${function UH(e){return encodeURI(e)}(t.fragment)}`:""}`}}const BH=new hv;function Nf(e){return e.segments.map(t=>RT(t)).join("/")}function yu(e,t){if(!e.hasChildren())return Nf(e);if(t){const r=e.children[he]?yu(e.children[he],!1):"",o=[];return Object.entries(e.children).forEach(([i,s])=>{i!==he&&o.push(`${i}:${yu(s,!1)}`)}),o.length>0?`${r}(${o.join("//")})`:r}{const r=function FH(e,t){let r=[];return Object.entries(e.children).forEach(([o,i])=>{o===he&&(r=r.concat(t(i,o)))}),Object.entries(e.children).forEach(([o,i])=>{o!==he&&(r=r.concat(t(i,o)))}),r}(e,(o,i)=>i===he?[yu(e.children[he],!1)]:[`${i}:${yu(o,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[he]?`${Nf(e)}/${r[0]}`:`${Nf(e)}/(${r.join("//")})`}}function MT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rf(e){return MT(e).replace(/%3B/gi,";")}function pv(e){return MT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Of(e){return decodeURIComponent(e)}function NT(e){return Of(e.replace(/\+/g,"%20"))}function RT(e){return`${pv(e.path)}${function jH(e){return Object.entries(e).map(([t,r])=>`;${pv(t)}=${pv(r)}`).join("")}(e.parameters)}`}const HH=/^[^\/()?;#]+/;function gv(e){const t=e.match(HH);return t?t[0]:""}const VH=/^[^\/()?;=#]+/,qH=/^[^=?&#]+/,WH=/^[^&#]+/;class KH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(o[he]=new Pe(t,r)),o}parseSegment(){const t=gv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(t),new mu(Of(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function zH(e){const t=e.match(VH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){const i=gv(this.remaining);i&&(o=i,this.capture(o))}t[Of(r)]=Of(o)}parseQueryParam(t){const r=function GH(e){const t=e.match(qH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){const a=function ZH(e){const t=e.match(WH);return t?t[0]:""}(this.remaining);a&&(o=a,this.capture(o))}const i=NT(r),s=NT(o);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(s)}else t[i]=s}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=gv(this.remaining),i=this.remaining[o.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=he);const a=this.parseChildren();r[s]=1===Object.keys(a).length?a[he]:new Pe([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new O(4011,!1)}}function OT(e){return e.segments.length>0?new Pe([],{[he]:e}):e}function kT(e){const t={};for(const[o,i]of Object.entries(e.children)){const s=kT(i);if(o===he&&0===s.segments.length&&s.hasChildren())for(const[a,c]of Object.entries(s.children))t[a]=c;else(s.segments.length>0||s.hasChildren())&&(t[o]=s)}return function YH(e){if(1===e.numberOfChildren&&e.children[he]){const t=e.children[he];return new Pe(e.segments.concat(t.segments),t.children)}return e}(new Pe(e.segments,t))}function na(e){return e instanceof ea}function PT(e){let t;const i=OT(function r(s){const a={};for(const u of s.children){const l=r(u);a[u.outlet]=l}const c=new Pe(s.url,a);return s===e&&(t=c),c}(e.root));return t??i}function LT(e,t,r,o){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return mv(i,i,i,r,o);const s=function JH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new BT(!0,0,e);let t=0,r=!1;const o=e.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?r=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new BT(r,t,o)}(t);if(s.toRoot())return mv(i,i,new Pe([],{}),r,o);const a=function XH(e,t,r){if(e.isAbsolute)return new Pf(t,!0,0);if(!r)return new Pf(t,!1,NaN);if(null===r.parent)return new Pf(r,!0,0);const o=kf(e.commands[0])?0:1;return function eV(e,t,r){let o=e,i=t,s=r;for(;s>i;){if(s-=i,o=o.parent,!o)throw new O(4005,!1);i=o.segments.length}return new Pf(o,!1,i-s)}(r,r.segments.length-1+o,e.numberOfDoubleDots)}(s,i,e),c=a.processChildren?wu(a.segmentGroup,a.index,s.commands):UT(a.segmentGroup,a.index,s.commands);return mv(i,a.segmentGroup,c,r,o)}function kf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vu(e){return"object"==typeof e&&null!=e&&e.outlets}function mv(e,t,r,o,i){let a,s={};o&&Object.entries(o).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),a=e===t?r:FT(e,t,r);const c=OT(kT(a));return new ea(c,s,i)}function FT(e,t,r){const o={};return Object.entries(e.children).forEach(([i,s])=>{o[i]=s===t?r:FT(s,t,r)}),new Pe(e.segments,o)}class BT{constructor(t,r,o){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=o,t&&o.length>0&&kf(o[0]))throw new O(4003,!1);const i=o.find(vu);if(i&&i!==CT(o))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pf{constructor(t,r,o){this.segmentGroup=t,this.processChildren=r,this.index=o}}function UT(e,t,r){if(e??=new Pe([],{}),0===e.segments.length&&e.hasChildren())return wu(e,t,r);const o=function nV(e,t,r){let o=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(o>=r.length)return s;const a=e.segments[i],c=r[o];if(vu(c))break;const u=`${c}`,l=o<r.length-1?r[o+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!$T(u,l,a))return s;o+=2}else{if(!$T(u,{},a))return s;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}(e,t,r),i=r.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const s=new Pe(e.segments.slice(0,o.pathIndex),{});return s.children[he]=new Pe(e.segments.slice(o.pathIndex),e.children),wu(s,0,i)}return o.match&&0===i.length?new Pe(e.segments,{}):o.match&&!e.hasChildren()?yv(e,t,r):o.match?wu(e,0,i):yv(e,t,r)}function wu(e,t,r){if(0===r.length)return new Pe(e.segments,{});{const o=function tV(e){return vu(e[0])?e[0].outlets:{[he]:e}}(r),i={};if(Object.keys(o).some(s=>s!==he)&&e.children[he]&&1===e.numberOfChildren&&0===e.children[he].segments.length){const s=wu(e.children[he],t,r);return new Pe(e.segments,s.children)}return Object.entries(o).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[s]=UT(e.children[s],t,a))}),Object.entries(e.children).forEach(([s,a])=>{void 0===o[s]&&(i[s]=a)}),new Pe(e.segments,i)}}function yv(e,t,r){const o=e.segments.slice(0,t);let i=0;for(;i<r.length;){const s=r[i];if(vu(s)){const u=rV(s.outlets);return new Pe(o,u)}if(0===i&&kf(r[0])){o.push(new mu(e.segments[t].path,jT(r[0]))),i++;continue}const a=vu(s)?s.outlets[he]:`${s}`,c=i<r.length-1?r[i+1]:null;a&&c&&kf(c)?(o.push(new mu(a,jT(c))),i+=2):(o.push(new mu(a,{})),i++)}return new Pe(o,{})}function rV(e){const t={};return Object.entries(e).forEach(([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(t[r]=yv(new Pe([],{}),0,o))}),t}function jT(e){const t={};return Object.entries(e).forEach(([r,o])=>t[r]=`${o}`),t}function $T(e,t,r){return e==r.path&&Dr(t,r.parameters)}const bu="imperative";var Ee=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ee||{});class Cr{constructor(t,r){this.id=t,this.url=r}}class Lf extends Cr{constructor(t,r,o="imperative",i=null){super(t,r),this.type=Ee.NavigationStart,this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jr extends Cr{constructor(t,r,o){super(t,r),this.urlAfterRedirects=o,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var bn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(bn||{}),Ff=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ff||{});class ra extends Cr{constructor(t,r,o,i){super(t,r),this.reason=o,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oa extends Cr{constructor(t,r,o,i){super(t,r),this.reason=o,this.code=i,this.type=Ee.NavigationSkipped}}class Bf extends Cr{constructor(t,r,o,i){super(t,r),this.error=o,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HT extends Cr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oV extends Cr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iV extends Cr{constructor(t,r,o,i,s){super(t,r),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=s,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sV extends Cr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aV extends Cr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cV{constructor(t){this.route=t,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uV{constructor(t){this.route=t,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lV{constructor(t){this.snapshot=t,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dV{constructor(t){this.snapshot=t,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fV{constructor(t){this.snapshot=t,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hV{constructor(t){this.snapshot=t,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VT{constructor(t,r,o){this.routerEvent=t,this.position=r,this.anchor=o,this.type=Ee.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vv{}class wv{constructor(t){this.url=t}}class pV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _u,this.attachRef=null}}let _u=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){const i=this.getOrCreateContext(r);i.outlet=o,this.contexts.set(r,i)}onChildOutletDestroyed(r){const o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new pV,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class zT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=bv(t,this._root);return r?r.children.map(o=>o.value):[]}firstChild(t){const r=bv(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=_v(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return _v(t,this._root).map(r=>r.value)}}function bv(e,t){if(e===t.value)return t;for(const r of t.children){const o=bv(e,r);if(o)return o}return null}function _v(e,t){if(e===t.value)return[t];for(const r of t.children){const o=_v(e,r);if(o.length)return o.unshift(t),o}return[]}class Kn{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function ia(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class qT extends zT{constructor(t,r){super(t),this.snapshot=r,Cv(this,t)}toString(){return this.snapshot.toString()}}function GT(e){const t=function gV(e){const s=new Dv([],{},{},"",{},he,e,null,{});return new WT("",new Kn(s,[]))}(e),r=new Cn([new mu("",{})]),o=new Cn({}),i=new Cn({}),s=new Cn({}),a=new Cn(""),c=new sa(r,o,s,a,i,he,e,t.root);return c.snapshot=t.root,new qT(new Kn(c,[]),t)}class sa{constructor(t,r,o,i,s,a,c,u){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=o,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Me(l=>l[gu]))??ae(void 0),this.url=t,this.params=r,this.queryParams=o,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Me(t=>Xs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Me(t=>Xs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ev(e,t,r="emptyOnly"){let o;const{routeConfig:i}=e;return o=null===t||"always"!==r&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&KT(i)&&(o.resolve[gu]=i.title),o}class Dv{get title(){return this.data?.[gu]}constructor(t,r,o,i,s,a,c,u,l){this.url=t,this.params=r,this.queryParams=o,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xs(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WT extends zT{constructor(t,r){super(r),this.url=t,Cv(this,r)}toString(){return ZT(this._root)}}function Cv(e,t){t.value._routerState=e,t.children.forEach(r=>Cv(e,r))}function ZT(e){const t=e.children.length>0?` { ${e.children.map(ZT).join(", ")} } `:"";return`${e.value}${t}`}function Sv(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Dr(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Dr(t.params,r.params)||e.paramsSubject.next(r.params),function RH(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Dr(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),Dr(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Iv(e,t){const r=Dr(e.params,t.params)&&function LH(e,t){return Si(e,t)&&e.every((r,o)=>Dr(r.parameters,t[o].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||Iv(e.parent,t.parent))}function KT(e){return"string"==typeof e.title||null===e.title}let xv=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Vt,this.deactivateEvents=new Vt,this.attachEvents=new Vt,this.detachEvents=new Vt,this.parentContexts=k(_u),this.location=k(zn),this.changeDetector=k(tf),this.environmentInjector=k(en),this.inputBinder=k(Uf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:o,previousValue:i}=r.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;const i=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Tv(r,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ai]})}return e})();class Tv{__ngOutletInjector(t){return new Tv(this.route,this.childContexts,t)}constructor(t,r,o){this.route=t,this.childContexts=r,this.parent=o}get(t,r){return t===sa?this.route:t===_u?this.childContexts:this.parent.get(t,r)}}const Uf=new W("");let YT=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:o}=r,i=sv([o.queryParams,o.params,o.data]).pipe(_r(([s,a,c],u)=>(c={...s,...a,...c},0===u?ae(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(r);const a=function Yj(e){const t=ye(e);if(!t)return null;const r=new Lc(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(o.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,i)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function Eu(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const o=r.value;o._futureSnapshot=t.value;const i=function yV(e,t,r){return t.children.map(o=>{for(const i of r.children)if(e.shouldReuseRoute(o.value,i.value.snapshot))return Eu(e,o,i);return Eu(e,o)})}(e,t,r);return new Kn(o,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>Eu(e,c)),a}}const o=function vV(e){return new sa(new Cn(e.url),new Cn(e.params),new Cn(e.queryParams),new Cn(e.fragment),new Cn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Eu(e,s));return new Kn(o,i)}}const QT="ngNavigationCancelingError";function JT(e,t){const{redirectTo:r,navigationBehaviorOptions:o}=na(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=XT(!1,bn.Redirect);return i.url=r,i.navigationBehaviorOptions=o,i}function XT(e,t){const r=new Error(`NavigationCancelingError: ${e||""}`);return r[QT]=!0,r.cancellationCode=t,r}function eA(e){return!!e&&e[QT]}let tA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Tl({type:e,selectors:[["ng-component"]],standalone:!0,features:[HI],decls:1,vars:0,template:function(o,i){1&o&&qc(0,"router-outlet")},dependencies:[xv],encapsulation:2})}return e})();function Av(e){const t=e.children&&e.children.map(Av),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==he&&(r.component=tA),r}function Sr(e){return e.outlet||he}function Du(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class IV{constructor(t,r,o,i,s){this.routeReuseStrategy=t,this.futureState=r,this.currState=o,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const r=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,o,t),Sv(this.futureState.root),this.activateChildRoutes(r,o,t)}deactivateChildRoutes(t,r,o){const i=ia(r);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],o),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,o)})}deactivateRoutes(t,r,o){const i=t.value,s=r?r.value:null;if(i===s)if(i.component){const a=o.getContext(i.outlet);a&&this.deactivateChildRoutes(t,r,a.children)}else this.deactivateChildRoutes(t,r,o);else s&&this.deactivateRouteAndItsChildren(r,o)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const o=r.getContext(t.value.outlet),i=o&&t.value.component?o.children:r,s=ia(t);for(const a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(o&&o.outlet){const a=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,r){const o=r.getContext(t.value.outlet),i=o&&t.value.component?o.children:r,s=ia(t);for(const a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(t,r,o){const i=ia(r);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],o),this.forwardEvent(new hV(s.value.snapshot))}),t.children.length&&this.forwardEvent(new dV(t.value.snapshot))}activateRoutes(t,r,o){const i=t.value,s=r?r.value:null;if(Sv(i),i===s)if(i.component){const a=o.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,a.children)}else this.activateChildRoutes(t,r,o);else if(i.component){const a=o.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Sv(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=Du(i.snapshot);a.attachRef=null,a.route=i,a.injector=c,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,o)}}class nA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jf{constructor(t,r){this.component=t,this.route=r}}function xV(e,t,r){const o=e._root;return Cu(o,t?t._root:null,r,[o.value])}function aa(e,t){const r=Symbol(),o=t.get(e,r);return o===r?"function"!=typeof e||function TR(e){return null!==yl(e)}(e)?t.get(e):e:o}function Cu(e,t,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ia(t);return e.children.forEach(a=>{(function AV(e,t,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=t?t.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function MV(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Si(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Si(e.url,t.url)||!Dr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iv(e,t)||!Dr(e.queryParams,t.queryParams);default:return!Iv(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nA(o)):(s.data=a.data,s._resolvedData=a._resolvedData),Cu(e,t,s.component?c?c.children:null:r,o,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new jf(c.outlet.component,a))}else a&&Su(t,c,i),i.canActivateChecks.push(new nA(o)),Cu(e,null,s.component?c?c.children:null:r,o,i)})(a,s[a.value.outlet],r,o.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>Su(c,r.getContext(a),i)),i}function Su(e,t,r){const o=ia(e),i=e.value;Object.entries(o).forEach(([s,a])=>{Su(a,i.component?t?t.children.getContext(s):null:t,r)}),r.canDeactivateChecks.push(new jf(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Iu(e){return"function"==typeof e}function rA(e){return e instanceof xf||"EmptyError"===e?.name}const $f=Symbol("INITIAL_VALUE");function ca(){return _r(e=>sv(e.map(t=>t.pipe(Qs(1),function CH(...e){const t=If(e);return St((r,o)=>{(t?av(e,r,t):av(e,r)).subscribe(o)})}($f)))).pipe(Me(t=>{for(const r of t)if(!0!==r){if(r===$f)return $f;if(!1===r||r instanceof ea)return r}return!0}),Er(t=>t!==$f),Qs(1)))}function oA(e){return function vR(...e){return _b(e)}(Wt(t=>{if(na(t))throw JT(0,t)}),Me(t=>!0===t))}class Mv{constructor(t){this.segmentGroup=t||null}}class Nv extends Error{constructor(t){super(),this.urlTree=t}}function ua(e){return Tf(new Mv(e))}class KV{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let o=[],i=r.root;for(;;){if(o=o.concat(i.segments),0===i.numberOfChildren)return ae(o);if(i.numberOfChildren>1||!i.children[he])return Tf(new O(4e3,!1));i=i.children[he]}}applyRedirectCommands(t,r,o){const i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,o);if(r.startsWith("/"))throw new Nv(i);return i}applyRedirectCreateUrlTree(t,r,o,i){const s=this.createSegmentGroup(t,r.root,o,i);return new ea(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const o={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);o[i]=r[c]}else o[i]=s}),o}createSegmentGroup(t,r,o,i){const s=this.createSegments(t,r.segments,o,i);let a={};return Object.entries(r.children).forEach(([c,u])=>{a[c]=this.createSegmentGroup(t,u,o,i)}),new Pe(s,a)}createSegments(t,r,o,i){return r.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,o))}findPosParam(t,r,o){const i=o[r.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(t,r){let o=0;for(const i of r){if(i.path===t.path)return r.splice(o),i;o++}return t}}const Rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YV(e,t,r,o,i){const s=Ov(e,t,r);return s.matched?(o=function bV(e,t){return e.providers&&!e._injector&&(e._injector=Nd(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,o),function GV(e,t,r,o){const i=t.canMatch;return i&&0!==i.length?ae(i.map(a=>{const c=aa(a,e);return Mo(function LV(e){return e&&Iu(e.canMatch)}(c)?c.canMatch(t,r):Ur(e,()=>c(t,r)))})).pipe(ca(),oA()):ae(!0)}(o,t,r).pipe(Me(a=>!0===a?s:{...Rv}))):ae(s)}function Ov(e,t,r){if("**"===t.path)return function QV(e){return{matched:!0,parameters:e.length>0?CT(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...Rv}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(t.matcher||NH)(r,e,t);if(!i)return{...Rv};const s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function iA(e,t,r,o){return r.length>0&&function e9(e,t,r){return r.some(o=>Hf(e,t,o)&&Sr(o)!==he)}(e,r,o)?{segmentGroup:new Pe(t,XV(o,new Pe(r,e.children))),slicedSegments:[]}:0===r.length&&function t9(e,t,r){return r.some(o=>Hf(e,t,o))}(e,r,o)?{segmentGroup:new Pe(e.segments,JV(e,r,o,e.children)),slicedSegments:r}:{segmentGroup:new Pe(e.segments,e.children),slicedSegments:r}}function JV(e,t,r,o){const i={};for(const s of r)if(Hf(e,t,s)&&!o[Sr(s)]){const a=new Pe([],{});i[Sr(s)]=a}return{...o,...i}}function XV(e,t){const r={};r[he]=t;for(const o of e)if(""===o.path&&Sr(o)!==he){const i=new Pe([],{});r[Sr(o)]=i}return r}function Hf(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class o9{}class a9{constructor(t,r,o,i,s,a,c){this.injector=t,this.configLoader=r,this.rootComponentType=o,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new KV(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new O(4002,`'${t.segmentGroup}'`)}recognize(){const t=iA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Me(r=>{const o=new Dv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new Kn(o,r),s=new WT("",i),a=function QH(e,t,r=null,o=null){return LT(PT(e),t,r,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root,null),{state:s,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,he).pipe(Js(o=>{if(o instanceof Nv)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Mv?this.noMatchError(o):o}))}inheritParamsAndData(t,r){const o=t.value,i=Ev(o,r,this.paramsInheritanceStrategy);o.params=Object.freeze(i.params),o.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s,o))}processSegmentGroup(t,r,o,i){return 0===o.segments.length&&o.hasChildren()?this.processChildren(t,r,o):this.processSegment(t,r,o,o.segments,i,!0).pipe(Me(s=>s instanceof Kn?[s]:[]))}processChildren(t,r,o){const i=[];for(const s of Object.keys(o.children))"primary"===s?i.unshift(s):i.push(s);return Et(i).pipe(pu(s=>{const a=o.children[s],c=function CV(e,t){const r=e.filter(o=>Sr(o)===t);return r.push(...e.filter(o=>Sr(o)!==t)),r}(r,s);return this.processSegmentGroup(t,c,a,s)}),function xH(e,t){return St(function IH(e,t,r,o,i){return(s,a)=>{let c=r,u=t,l=0;s.subscribe(_t(a,d=>{const f=l++;u=c?e(u,d,f):(c=!0,d),o&&a.next(u)},i&&(()=>{c&&a.next(u),a.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Af(null),function TH(e,t){const r=arguments.length>=2;return o=>o.pipe(e?Er((i,s)=>e(i,s,o)):ti,uv(1),r?Af(t):ET(()=>new xf))}(),Lt(s=>{if(null===s)return ua(o);const a=sA(s);return function c9(e){e.sort((t,r)=>t.value.outlet===he?-1:r.value.outlet===he?1:t.value.outlet.localeCompare(r.value.outlet))}(a),ae(a)}))}processSegment(t,r,o,i,s,a){return Et(r).pipe(pu(c=>this.processSegmentAgainstRoute(c._injector??t,r,c,o,i,s,a).pipe(Js(u=>{if(u instanceof Mv)return ae(null);throw u}))),Ci(c=>!!c),Js(c=>{if(rA(c))return function r9(e,t,r){return 0===t.length&&!e.children[r]}(o,i,s)?ae(new o9):ua(o);throw c}))}processSegmentAgainstRoute(t,r,o,i,s,a,c){return function n9(e,t,r,o){return!!(Sr(e)===o||o!==he&&Hf(t,r,e))&&Ov(t,e,r).matched}(o,i,s,a)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,i,o,s,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,o,s,a):ua(i):ua(i)}expandSegmentAgainstRouteUsingRedirect(t,r,o,i,s,a){const{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:d}=Ov(r,i,s);if(!c)return ua(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(Lt(h=>this.processSegment(t,o,r,h.concat(d),a,!1)))}matchSegmentAgainstRoute(t,r,o,i,s){const a=YV(r,o,i,t);return"**"===o.path&&(r.children={}),a.pipe(_r(c=>c.matched?this.getChildConfig(t=o._injector??t,o,i).pipe(_r(({routes:u})=>{const l=o._loadedInjector??t,{consumedSegments:d,remainingSegments:f,parameters:h}=c,p=new Dv(d,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function l9(e){return e.data||{}}(o),Sr(o),o.component??o._loadedComponent??null,o,function d9(e){return e.resolve||{}}(o)),{segmentGroup:g,slicedSegments:m}=iA(r,d,f,u);if(0===m.length&&g.hasChildren())return this.processChildren(l,u,g).pipe(Me(v=>null===v?null:new Kn(p,v)));if(0===u.length&&0===m.length)return ae(new Kn(p,[]));const y=Sr(o)===s;return this.processSegment(l,u,g,m,y?he:s,!0).pipe(Me(v=>new Kn(p,v instanceof Kn?[v]:[])))})):ua(r)))}getChildConfig(t,r,o){return r.children?ae({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?ae({routes:r._loadedRoutes,injector:r._loadedInjector}):function qV(e,t,r,o){const i=t.canLoad;return void 0===i||0===i.length?ae(!0):ae(i.map(a=>{const c=aa(a,e);return Mo(function RV(e){return e&&Iu(e.canLoad)}(c)?c.canLoad(t,r):Ur(e,()=>c(t,r)))})).pipe(ca(),oA())}(t,r,o).pipe(Lt(i=>i?this.configLoader.loadChildren(t,r).pipe(Wt(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):function ZV(e){return Tf(XT(!1,bn.GuardRejected))}())):ae({routes:[],injector:t})}}function u9(e){const t=e.value.routeConfig;return t&&""===t.path}function sA(e){const t=[],r=new Set;for(const o of e){if(!u9(o)){t.push(o);continue}const i=t.find(s=>o.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...o.children),r.add(i)):t.push(o)}for(const o of r){const i=sA(o.children);t.push(new Kn(o.value,i))}return t.filter(o=>!r.has(o))}function aA(e){const t=e.children.map(r=>aA(r)).flat();return[e,...t]}function kv(e){return _r(t=>{const r=e(t);return r?Et(r).pipe(Me(()=>t)):ae(t)})}let cA=(()=>{class e{buildTitle(r){let o,i=r.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===he);return o}getResolvedTitleForRoute(r){return r.data[gu]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(y9),providedIn:"root"})}return e})(),y9=(()=>{class e extends cA{constructor(r){super(),this.title=r}updateTitle(r){const o=this.buildTitle(r);void 0!==o&&this.title.setTitle(o)}static#e=this.\u0275fac=function(o){return new(o||e)(J(D5))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const la=new W("",{providedIn:"root",factory:()=>({})}),da=new W("");let Pv=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ex)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=Mo(r.loadComponent()).pipe(Me(uA),Wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),lv(()=>{this.componentLoaders.delete(r)})),i=new _T(o,()=>new Dn).pipe(cv());return this.componentLoaders.set(r,i),i}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ae({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function v9(e,t,r,o){return Mo(e.loadChildren()).pipe(Me(uA),Lt(i=>i instanceof MC||Array.isArray(i)?ae(i):Et(t.compileModuleAsync(i))),Me(i=>{o&&o(e);let s,a,c=!1;return Array.isArray(i)?(a=i,!0):(s=i.create(r).injector,a=s.get(da,[],{optional:!0,self:!0}).flat()),{routes:a.map(Av),injector:s}}))}(o,this.compiler,r,this.onLoadEndListener).pipe(lv(()=>{this.childrenLoaders.delete(o)})),a=new _T(s,()=>new Dn).pipe(cv());return this.childrenLoaders.set(o,a),a}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uA(e){return function w9(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Lv=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(b9),providedIn:"root"})}return e})(),b9=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const lA=new W(""),dA=new W("");function _9(e,t,r){const o=e.get(dA),i=e.get(Tn);return e.get(Oe).runOutsideAngular(()=>{if(!i.startViewTransition||o.skipNextTransition)return o.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s;const a=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),function E9(e){return new Promise(t=>{mm(t,{injector:e})})}(e))),{onViewTransitionCreated:u}=o;return u&&Ur(e,()=>u({transition:c,from:t,to:r})),a})}let Vf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dn,this.transitionAbortSubject=new Dn,this.configLoader=k(Pv),this.environmentInjector=k(en),this.urlSerializer=k(ta),this.rootContexts=k(_u),this.location=k(su),this.inputBindingEnabled=null!==k(Uf,{optional:!0}),this.titleStrategy=k(cA),this.options=k(la,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Lv),this.createViewTransition=k(lA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new uV(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new cV(i))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:o})}setupNavigations(r,o,i){return this.transitions=new Cn({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Er(s=>0!==s.id),Me(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_r(s=>{let a=!1,c=!1;return ae(s).pipe(_r(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",bn.SupersededByNewNavigation),br;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new oa(u.id,this.urlSerializer.serialize(u.rawUrl),f,Ff.IgnoredSameUrlNavigation)),u.resolve(null),br}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ae(u).pipe(_r(f=>{const h=this.transitions?.getValue();return this.events.next(new Lf(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?br:Promise.resolve(f)}),function f9(e,t,r,o,i,s){return Lt(a=>function i9(e,t,r,o,i,s,a="emptyOnly"){return new a9(e,t,r,o,i,a,s).recognize()}(e,t,r,o,a.extractedUrl,i,s).pipe(Me(({state:c,tree:u})=>({...a,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new HT(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=u,y=new Lf(f,this.urlSerializer.serialize(h),p,g);this.events.next(y);const v=GT(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,ae(s)}{const f="";return this.events.next(new oa(u.id,this.urlSerializer.serialize(u.extractedUrl),f,Ff.IgnoredByUrlHandlingStrategy)),u.resolve(null),br}}),Wt(u=>{const l=new oV(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Me(u=>(this.currentTransition=s={...u,guards:xV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function FV(e,t){return Lt(r=>{const{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=r;return 0===a.length&&0===s.length?ae({...r,guardsResult:!0}):function BV(e,t,r,o){return Et(e).pipe(Lt(i=>function zV(e,t,r,o,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(c=>{const u=Du(t)??i,l=aa(c,u);return Mo(function PV(e){return e&&Iu(e.canDeactivate)}(l)?l.canDeactivate(e,t,r,o):Ur(u,()=>l(e,t,r,o))).pipe(Ci())})).pipe(ca()):ae(!0)}(i.component,i.route,r,t,o)),Ci(i=>!0!==i,!0))}(a,o,i,e).pipe(Lt(c=>c&&function NV(e){return"boolean"==typeof e}(c)?function UV(e,t,r,o){return Et(t).pipe(pu(i=>av(function $V(e,t){return null!==e&&t&&t(new lV(e)),ae(!0)}(i.route.parent,o),function jV(e,t){return null!==e&&t&&t(new fV(e)),ae(!0)}(i.route,o),function VV(e,t,r){const o=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function TV(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>bT(()=>ae(a.guards.map(u=>{const l=Du(a.node)??r,d=aa(u,l);return Mo(function kV(e){return e&&Iu(e.canActivateChild)}(d)?d.canActivateChild(o,e):Ur(l,()=>d(o,e))).pipe(Ci())})).pipe(ca())));return ae(s).pipe(ca())}(e,i.path,r),function HV(e,t,r){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return ae(!0);const i=o.map(s=>bT(()=>{const a=Du(t)??r,c=aa(s,a);return Mo(function OV(e){return e&&Iu(e.canActivate)}(c)?c.canActivate(t,e):Ur(a,()=>c(t,e))).pipe(Ci())}));return ae(i).pipe(ca())}(e,i.route,r))),Ci(i=>!0!==i,!0))}(o,s,e,t):ae(c)),Me(c=>({...r,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Wt(u=>{if(s.guardsResult=u.guardsResult,na(u.guardsResult))throw JT(0,u.guardsResult);const l=new iV(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Er(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",bn.GuardRejected),!1)),kv(u=>{if(u.guards.canActivateChecks.length)return ae(u).pipe(Wt(l=>{const d=new sV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),_r(l=>{let d=!1;return ae(l).pipe(function h9(e,t){return Lt(r=>{const{targetSnapshot:o,guards:{canActivateChecks:i}}=r;if(!i.length)return ae(r);const s=new Set(i.map(u=>u.route)),a=new Set;for(const u of s)if(!a.has(u))for(const l of aA(u))a.add(l);let c=0;return Et(a).pipe(pu(u=>s.has(u)?function p9(e,t,r,o){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!KT(i)&&(s[gu]=i.title),function g9(e,t,r,o){const i=fv(e);if(0===i.length)return ae({});const s={};return Et(i).pipe(Lt(a=>function m9(e,t,r,o){const i=Du(t)??o,s=aa(e,i);return Mo(s.resolve?s.resolve(t,r):Ur(i,()=>s(t,r)))}(e[a],t,r,o).pipe(Ci(),Wt(c=>{s[a]=c}))),uv(1),function AH(e){return Me(()=>e)}(s),Js(a=>rA(a)?br:Tf(a)))}(s,e,t,o).pipe(Me(a=>(e._resolvedData=a,e.data=Ev(e,e.parent,r).resolve,null)))}(u,o,e,t):(u.data=Ev(u,u.parent,e).resolve,ae(void 0))),Wt(()=>c++),uv(1),Lt(u=>c===a.size?ae(r):br))})}(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",bn.NoDataFromResolver)}}))}),Wt(l=>{const d=new aV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),kv(u=>{const l=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Wt(h=>{d.component=h}),Me(()=>{})));for(const h of d.children)f.push(...l(h));return f};return sv(l(u.targetSnapshot.root)).pipe(Af(null),Qs(1))}),kv(()=>this.afterPreactivation()),_r(()=>{const{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Et(d).pipe(Me(()=>s)):ae(s)}),Me(u=>{const l=function mV(e,t,r){const o=Eu(e,t._root,r?r._root:void 0);return new qT(o,t)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),Wt(()=>{this.events.next(new vv)}),((e,t,r,o)=>Me(i=>(new IV(t,i.targetRouterState,i.currentRouterState,r,o).activate(e),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Qs(1),Wt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),dv(this.transitionAbortSubject.pipe(Wt(u=>{throw u}))),lv(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",bn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Js(u=>{if(c=!0,eA(u))this.events.next(new ra(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function wV(e){return eA(e)&&na(e.url)}(u)?this.events.next(new wv(u.url)):s.resolve(!1);else{this.events.next(new Bf(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return br}))}))}cancelNavigationTransition(r,o,i){const s=new ra(r.id,this.urlSerializer.serialize(r.extractedUrl),o,i);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function D9(e){return e!==bu}let C9=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(I9),providedIn:"root"})}return e})();class S9{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let I9=(()=>{class e extends S9{static#e=this.\u0275fac=(()=>{let r;return function(i){return(r||(r=cg(e)))(i||e)}})();static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(x9),providedIn:"root"})}return e})(),x9=(()=>{class e extends fA{constructor(){super(...arguments),this.location=k(su),this.urlSerializer=k(ta),this.options=k(la,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Lv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ea,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{"popstate"===o.type&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof Lf)this.stateMemento=this.createStateMemento();else if(r instanceof oa)this.rawUrlTree=o.initialUrl;else if(r instanceof HT){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else r instanceof vv?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof ra&&(r.code===bn.GuardRejected||r.code===bn.NoDataFromResolver)?this.restoreHistory(o):r instanceof Bf?this.restoreHistory(o,!0):r instanceof Jr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){const i=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(r,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}static#e=this.\u0275fac=(()=>{let r;return function(i){return(r||(r=cg(e)))(i||e)}})();static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var xu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(xu||{});function hA(e,t){e.events.pipe(Er(r=>r instanceof Jr||r instanceof ra||r instanceof Bf||r instanceof oa),Me(r=>r instanceof Jr||r instanceof oa?xu.COMPLETE:r instanceof ra&&(r.code===bn.Redirect||r.code===bn.SupersededByNewNavigation)?xu.REDIRECTING:xu.FAILED),Er(r=>r!==xu.REDIRECTING),Qs(1)).subscribe(()=>{t()})}function T9(e){throw e}const A9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},M9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(fx),this.stateManager=k(fA),this.options=k(la,{optional:!0})||{},this.pendingTasks=k(Is),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Vf),this.urlSerializer=k(ta),this.location=k(su),this.urlHandlingStrategy=k(Lv),this._events=new Dn,this.errorHandler=this.options.errorHandler||T9,this.navigated=!1,this.routeReuseStrategy=k(C9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(da,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Uf,{optional:!0}),this.eventsSubscription=new Qt,this.isNgZoneEnabled=k(Oe)instanceof Oe&&Oe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof ra&&o.code!==bn.Redirect&&o.code!==bn.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Jr)this.navigated=!0;else if(o instanceof wv){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||D9(i.source)};this.scheduleNavigation(a,bu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function R9(e){return!(e instanceof vv||e instanceof wv)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(r);this.scheduleNavigation(c,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Av),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=o,l=u?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=PT(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return LT(f,r,d,l??null)}navigateByUrl(r,o={skipLocationChange:!1}){const i=na(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bu,null,o)}navigate(r,o={skipLocationChange:!1}){return function N9(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new O(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let i;if(i=!0===o?{...A9}:!1===o?{...M9}:o,na(r))return IT(this.currentUrlTree,r,i);const s=this.parseUrl(r);return IT(this.currentUrlTree,s,i)}removeEmptyProps(r){return Object.entries(r).reduce((o,[i,s])=>(null!=s&&(o[i]=s),o),{})}scheduleNavigation(r,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});const d=this.pendingTasks.add();return hA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class pA{}let P9=(()=>{class e{constructor(r,o,i,s,a){this.router=r,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Er(r=>r instanceof Jr),pu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Nd(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Et(i).pipe(hu())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(r,o):ae(null);const s=i.pipe(Lt(a=>null===a?ae(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return o.loadComponent&&!o._loadedComponent?Et([s,this.loader.loadComponent(o)]).pipe(hu()):s})}static#e=this.\u0275fac=function(o){return new(o||e)(J(Yn),J(Ex),J(en),J(pA),J(Pv))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Bv=new W("");let gA=(()=>{class e{constructor(r,o,i,s,a={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(en),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Lf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Jr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof oa&&r.code===Ff.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof VT&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){var i=this;this.zone.runOutsideAngular(V(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),mm(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new VT(r,"popstate"===i.lastSource?i.store[i.restoredId]:null,o))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){!function lD(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function Ir(e,t){return{\u0275kind:e,\u0275providers:t}}function yA(){const e=k(tn);return t=>{const r=e.get(xo);if(t!==r.components[0])return;const o=e.get(Yn),i=e.get(vA);1===e.get(Uv)&&o.initialNavigation(),e.get(wA,null,we.Optional)?.setUpPreloading(),e.get(Bv,null,we.Optional)?.init(),o.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vA=new W("",{factory:()=>new Dn}),Uv=new W("",{providedIn:"root",factory:()=>1}),wA=new W("");function U9(e){return Ir(0,[{provide:wA,useExisting:P9},{provide:pA,useExisting:e}])}function $9(e){return Ir(9,[{provide:lA,useValue:_9},{provide:dA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const bA=new W("ROUTER_FORROOT_GUARD"),H9=[su,{provide:ta,useClass:hv},Yn,_u,{provide:sa,useFactory:function mA(e){return e.routerState.root},deps:[Yn]},Pv,[]];let _A=(()=>{class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[H9,[],{provide:da,multi:!0,useValue:r},{provide:bA,useFactory:G9,deps:[[Yn,new El,new Dl]]},{provide:la,useValue:o||{}},o?.useHash?{provide:Di,useClass:t6}:{provide:Di,useClass:f1},{provide:Bv,useFactory:()=>{const e=k(E$),t=k(Oe),r=k(la),o=k(Vf),i=k(ta);return r.scrollOffset&&e.setOffset(r.scrollOffset),new gA(i,o,e,t,r)}},o?.preloadingStrategy?U9(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?W9(o):[],o?.bindToComponentInputs?Ir(8,[YT,{provide:Uf,useExisting:YT}]).\u0275providers:[],o?.enableViewTransitions?$9().\u0275providers:[],[{provide:EA,useFactory:yA},{provide:wy,multi:!0,useExisting:EA}]]}}static forChild(r){return{ngModule:e,providers:[{provide:da,multi:!0,useValue:r}]}}static#e=this.\u0275fac=function(o){return new(o||e)(J(bA,8))};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({})}return e})();function G9(e){return"guarded"}function W9(e){return["disabled"===e.initialNavigation?Ir(3,[{provide:yy,multi:!0,useFactory:()=>{const t=k(Yn);return()=>{t.setUpLocationChangeListener()}}},{provide:Uv,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ir(2,[{provide:Uv,useValue:0},{provide:yy,multi:!0,deps:[tn],useFactory:t=>{const r=t.get(Xj,Promise.resolve());return()=>r.then(()=>new Promise(o=>{const i=t.get(Yn),s=t.get(vA);hA(i,()=>{o(!0)}),t.get(Vf).afterPreactivation=()=>(o(!0),s.closed?ae(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const EA=new W("");var Ii=function(e){return e.STRANGE="STRANGE",e.YOU="YOU",e}(Ii||{}),xi=function(e){return e.CONNECTED="CONNECTED",e.UP_TO_DISCONNECT="UP_TO_DISCONNECT",e.DISCONNECTED="DISCONNECTED",e}(xi||{});function jv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function $v(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Tu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Hv="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Vv=e=>e instanceof Uint8Array,zv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),xr=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Au(e){if("string"==typeof e&&(e=function J9(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Vv(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class SA{clone(){return this._cloneInto()}}function t7(e){const t=o=>e().update(Au(o)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function IA(e=32){if(Hv&&"function"==typeof Hv.getRandomValues)return Hv.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class r7 extends SA{constructor(t,r,o,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=zv(this.buffer)}update(t){Tu(this);const{view:r,buffer:o,blockLen:i}=this,s=(t=Au(t)).length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c!==i)o.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0);else{const u=zv(t);for(;i<=s-a;a+=i)this.process(u,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Tu(this),function CA(e,t){$v(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(t,this),this.finished=!0;const{buffer:r,view:o,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let f=a;f<i;f++)r[f]=0;(function n7(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)})(o,i-8,BigInt(8*this.length),s),this.process(o,0);const c=zv(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:o,length:i,finished:s,destroyed:a,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=a,i%r&&t.buffer.set(o),t}}const o7=(e,t,r)=>e&t^~e&r,i7=(e,t,r)=>e&t^e&r^t&r,s7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),No=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ro=new Uint32Array(64);class xA extends r7{constructor(){super(64,32,8,!1),this.A=0|No[0],this.B=0|No[1],this.C=0|No[2],this.D=0|No[3],this.E=0|No[4],this.F=0|No[5],this.G=0|No[6],this.H=0|No[7]}get(){const{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;return[t,r,o,i,s,a,c,u]}set(t,r,o,i,s,a,c,u){this.A=0|t,this.B=0|r,this.C=0|o,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|c,this.H=0|u}process(t,r){for(let f=0;f<16;f++,r+=4)Ro[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=Ro[f-15],p=Ro[f-2],g=xr(h,7)^xr(h,18)^h>>>3,m=xr(p,17)^xr(p,19)^p>>>10;Ro[f]=m+Ro[f-7]+g+Ro[f-16]|0}let{A:o,B:i,C:s,D:a,E:c,F:u,G:l,H:d}=this;for(let f=0;f<64;f++){const p=d+(xr(c,6)^xr(c,11)^xr(c,25))+o7(c,u,l)+s7[f]+Ro[f]|0,m=(xr(o,2)^xr(o,13)^xr(o,22))+i7(o,i,s)|0;d=l,l=u,u=c,c=a+p|0,a=s,s=i,i=o,o=p+m|0}o=o+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(o,i,s,a,c,u,l,d)}roundClean(){Ro.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Gv=t7(()=>new xA),zf=(BigInt(0),BigInt(1)),a7=BigInt(2),qf=e=>e instanceof Uint8Array,c7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function fa(e){if(!qf(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=c7[e[r]];return t}function AA(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ha(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let o=0;o<r.length;o++){const i=2*o,s=e.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[o]=a}return r}function an(e){return AA(fa(e))}function Wv(e){if(!qf(e))throw new Error("Uint8Array expected");return AA(fa(Uint8Array.from(e).reverse()))}function Oo(e,t){return ha(e.toString(16).padStart(2*t,"0"))}function Zv(e,t){return Oo(e,t).reverse()}function Ft(e,t,r){let o;if("string"==typeof t)try{o=ha(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else{if(!qf(t))throw new Error(`${e} must be hex string or Uint8Array`);o=Uint8Array.from(t)}const i=o.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return o}function Ti(...e){const t=new Uint8Array(e.reduce((o,i)=>o+i.length,0));let r=0;return e.forEach(o=>{if(!qf(o))throw new Error("Uint8Array expected");t.set(o,r),r+=o.length}),t}const Kv=e=>(a7<<BigInt(e-1))-zf,Yv=e=>new Uint8Array(e),MA=e=>Uint8Array.from(e);function NA(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let o=Yv(e),i=Yv(e),s=0;const a=()=>{o.fill(1),i.fill(0),s=0},c=(...f)=>r(i,o,...f),u=(f=Yv())=>{i=c(MA([0]),f),o=c(),0!==f.length&&(i=c(MA([1]),f),o=c())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){o=c();const p=o.slice();h.push(p),f+=o.length}return Ti(...h)};return(f,h)=>{let p;for(a(),u(f);!(p=h(l()));)u();return a(),p}}const l7={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Mu(e,t,r={}){const o=(i,s,a)=>{const c=l7[s];if("function"!=typeof c)throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(a&&void 0===u||c(u,e)))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))o(i,s,!1);for(const[i,s]of Object.entries(r))o(i,s,!0);return e}const mt=BigInt(0),Be=BigInt(1),ko=BigInt(2),d7=BigInt(3),Qv=BigInt(4),RA=BigInt(5),OA=BigInt(8);function yt(e,t){const r=e%t;return r>=mt?r:t+r}function p7(e,t,r){if(r<=mt||t<mt)throw new Error("Expected power/modulo > 0");if(r===Be)return mt;let o=Be;for(;t>mt;)t&Be&&(o=o*e%r),e=e*e%r,t>>=Be;return o}function Nn(e,t,r){let o=e;for(;t-- >mt;)o*=o,o%=r;return o}function Gf(e,t){if(e===mt||t<=mt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=yt(e,t),o=t,i=mt,s=Be,a=Be,c=mt;for(;r!==mt;){const l=o/r,d=o%r,f=i-a*l,h=s-c*l;o=r,r=d,i=a,s=c,a=f,c=h}if(o!==Be)throw new Error("invert: does not exist");return yt(i,t)}BigInt(9),BigInt(16);const y7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Jv(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function kA(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function PA(e){const t=kA(e);return t+Math.ceil(t/2)}class LA extends SA{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,function DA(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");jv(e.outputLen),jv(e.blockLen)}(t);const o=Au(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?t.create().update(o).digest():o);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return Tu(this),this.iHash.update(t),this}digestInto(t){Tu(this),$v(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:o,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return t.finished=i,t.destroyed=s,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=o._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const FA=(e,t,r)=>new LA(e,t).update(r).digest();FA.create=(e,t)=>new LA(e,t);const D7=BigInt(0),Xv=BigInt(1);function BA(e){return function v7(e){Mu(e,y7.reduce((o,i)=>(o[i]="function",o),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Mu(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Jv(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:I7,aT:x7}=Va,Ai={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ai;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],o=e.subarray(2,r+2);if(!r||o.length!==r)throw new t("Invalid signature integer: wrong length");if(128&o[0])throw new t("Invalid signature integer: negative");if(0===o[0]&&!(128&o[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:I7(o),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Ai,r="string"==typeof e?x7(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let o=r.length;if(o<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==o-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Ai._parseInt(r.subarray(2)),{d:a,l:c}=Ai._parseInt(s);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=l=>8&Number.parseInt(l[0],16)?"00"+l:l,r=l=>{const d=l.toString(16);return 1&d.length?`0${d}`:d},o=t(r(e.s)),i=t(r(e.r)),s=o.length/2,a=i.length/2,c=r(s),u=r(a);return`30${r(a+s+4)}02${u}${i}02${c}${o}`}},Qn=BigInt(0),Qe=BigInt(1),Wf=(BigInt(2),BigInt(3));function M7(e){const t=function A7(e){const t=BA(e);return Mu(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:o}=t,i=r.BYTES+1,s=2*r.BYTES+1;function c(C){return yt(C,o)}function u(C){return Gf(C,o)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=function T7(e){const t=function S7(e){const t=BA(e);Mu(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:o,a:i}=t;if(r){if(!o.eql(i,o.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,o=t.toBytes||((g,m,y)=>{const v=m.toAffine();return Ti(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),i=t.fromBytes||(g=>{const m=g.subarray(1);return{x:r.fromBytes(m.subarray(0,r.BYTES)),y:r.fromBytes(m.subarray(r.BYTES,2*r.BYTES))}});function s(g){const{a:m,b:y}=t,v=r.sqr(g),w=r.mul(v,g);return r.add(r.add(w,r.mul(g,m)),y)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return"bigint"==typeof g&&Qn<g&&g<t.n}function c(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(g){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:v,n:w}=t;if(m&&"bigint"!=typeof g){if(g instanceof Uint8Array&&(g=fa(g)),"string"!=typeof g||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(2*y,"0")}let b;try{b="bigint"==typeof g?g:an(Ft("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return v&&(b=yt(b,w)),c(b),b}const l=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,y,v){if(this.px=m,this.py=y,this.pz=v,null==m||!r.isValid(m))throw new Error("x required");if(null==y||!r.isValid(y))throw new Error("y required");if(null==v||!r.isValid(v))throw new Error("z required")}static fromAffine(m){const{x:y,y:v}=m||{};if(!m||!r.isValid(y)||!r.isValid(v))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const w=b=>r.eql(b,r.ZERO);return w(y)&&w(v)?f.ZERO:new f(y,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=r.invertBatch(m.map(v=>v.pz));return m.map((v,w)=>v.toAffine(y[w])).map(f.fromAffine)}static fromHex(m){const y=f.fromAffine(i(Ft("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return f.BASE.multiply(u(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!r.isValid(m)||!r.isValid(y))throw new Error("bad point: x or y not FE");const v=r.sqr(y),w=s(m);if(!r.eql(v,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:y,py:v,pz:w}=this,{px:b,py:_,pz:D}=m,E=r.eql(r.mul(y,D),r.mul(b,w)),S=r.eql(r.mul(v,D),r.mul(_,w));return E&&S}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:y}=t,v=r.mul(y,Wf),{px:w,py:b,pz:_}=this;let D=r.ZERO,E=r.ZERO,S=r.ZERO,I=r.mul(w,w),R=r.mul(b,b),j=r.mul(_,_),F=r.mul(w,b);return F=r.add(F,F),S=r.mul(w,_),S=r.add(S,S),D=r.mul(m,S),E=r.mul(v,j),E=r.add(D,E),D=r.sub(R,E),E=r.add(R,E),E=r.mul(D,E),D=r.mul(F,D),S=r.mul(v,S),j=r.mul(m,j),F=r.sub(I,j),F=r.mul(m,F),F=r.add(F,S),S=r.add(I,I),I=r.add(S,I),I=r.add(I,j),I=r.mul(I,F),E=r.add(E,I),j=r.mul(b,_),j=r.add(j,j),I=r.mul(j,F),D=r.sub(D,I),S=r.mul(j,R),S=r.add(S,S),S=r.add(S,S),new f(D,E,S)}add(m){d(m);const{px:y,py:v,pz:w}=this,{px:b,py:_,pz:D}=m;let E=r.ZERO,S=r.ZERO,I=r.ZERO;const R=t.a,j=r.mul(t.b,Wf);let F=r.mul(y,b),H=r.mul(v,_),Y=r.mul(w,D),A=r.add(y,v),C=r.add(b,_);A=r.mul(A,C),C=r.add(F,H),A=r.sub(A,C),C=r.add(y,w);let x=r.add(b,D);return C=r.mul(C,x),x=r.add(F,Y),C=r.sub(C,x),x=r.add(v,w),E=r.add(_,D),x=r.mul(x,E),E=r.add(H,Y),x=r.sub(x,E),I=r.mul(R,C),E=r.mul(j,Y),I=r.add(E,I),E=r.sub(H,I),I=r.add(H,I),S=r.mul(E,I),H=r.add(F,F),H=r.add(H,F),Y=r.mul(R,Y),C=r.mul(j,C),H=r.add(H,Y),Y=r.sub(F,Y),Y=r.mul(R,Y),C=r.add(C,Y),F=r.mul(H,C),S=r.add(S,F),F=r.mul(x,C),E=r.mul(A,E),E=r.sub(E,F),F=r.mul(A,H),I=r.mul(x,I),I=r.add(I,F),new f(E,S,I)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,l,m,y=>{const v=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(v[b])).map(f.fromAffine)})}multiplyUnsafe(m){const y=f.ZERO;if(m===Qn)return y;if(c(m),m===Qe)return this;const{endo:v}=t;if(!v)return p.unsafeLadder(this,m);let{k1neg:w,k1:b,k2neg:_,k2:D}=v.splitScalar(m),E=y,S=y,I=this;for(;b>Qn||D>Qn;)b&Qe&&(E=E.add(I)),D&Qe&&(S=S.add(I)),I=I.double(),b>>=Qe,D>>=Qe;return w&&(E=E.negate()),_&&(S=S.negate()),S=new f(r.mul(S.px,v.beta),S.py,S.pz),E.add(S)}multiply(m){c(m);let v,w,y=m;const{endo:b}=t;if(b){const{k1neg:_,k1:D,k2neg:E,k2:S}=b.splitScalar(y);let{p:I,f:R}=this.wNAF(D),{p:j,f:F}=this.wNAF(S);I=p.constTimeNegate(_,I),j=p.constTimeNegate(E,j),j=new f(r.mul(j.px,b.beta),j.py,j.pz),v=I.add(j),w=R.add(F)}else{const{p:_,f:D}=this.wNAF(y);v=_,w=D}return f.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(m,y,v){const w=f.BASE,b=(D,E)=>E!==Qn&&E!==Qe&&D.equals(w)?D.multiply(E):D.multiplyUnsafe(E),_=b(this,y).add(b(m,v));return _.is0()?void 0:_}toAffine(m){const{px:y,py:v,pz:w}=this,b=this.is0();null==m&&(m=b?r.ONE:r.inv(w));const _=r.mul(y,m),D=r.mul(v,m),E=r.mul(w,m);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(E,r.ONE))throw new Error("invZ was invalid");return{x:_,y:D}}isTorsionFree(){const{h:m,isTorsionFree:y}=t;if(m===Qe)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=t;return m===Qe?this:y?y(f,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return this.assertValidity(),o(f,this,m)}toHex(m=!0){return fa(this.toRawBytes(m))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,p=function C7(e,t){const r=(i,s)=>{const a=s.negate();return i?a:s},o=i=>({windows:Math.ceil(t/i)+1,windowSize:2**(i-1)});return{constTimeNegate:r,unsafeLadder(i,s){let a=e.ZERO,c=i;for(;s>D7;)s&Xv&&(a=a.add(c)),c=c.double(),s>>=Xv;return a},precomputeWindow(i,s){const{windows:a,windowSize:c}=o(s),u=[];let l=i,d=l;for(let f=0;f<a;f++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,s,a){const{windows:c,windowSize:u}=o(i);let l=e.ZERO,d=e.BASE;const f=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let g=0;g<c;g++){const m=g*u;let y=Number(a&f);a>>=p,y>u&&(y-=h,a+=Xv);const v=m,w=m+Math.abs(y)-1,_=y<0;0===y?d=d.add(r(g%2!=0,s[v])):l=l.add(r(_,s[w]))}return{p:l,f:d}},wNAFCached(i,s,a,c){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),1!==u&&s.set(i,c(l))),this.wNAF(u,l,a)}}}(f,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:a}}({...t,toBytes(C,x,M){const B=x.toAffine(),N=r.toBytes(B.x),Q=Ti;return M?Q(Uint8Array.from([x.hasEvenY()?2:3]),N):Q(Uint8Array.from([4]),N,r.toBytes(B.y))},fromBytes(C){const x=C.length,M=C[0],B=C.subarray(1);if(x!==i||2!==M&&3!==M){if(x===s&&4===M)return{x:r.fromBytes(B.subarray(0,r.BYTES)),y:r.fromBytes(B.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${x} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const N=an(B);if(!function a(C){return Qn<C&&C<r.ORDER}(N))throw new Error("Point is not on curve");const Q=f(N);let ee=r.sqrt(Q);return!(1&~M)!=((ee&Qe)===Qe)&&(ee=r.neg(ee)),{x:N,y:ee}}}}),p=C=>fa(Oo(C,t.nByteLength));function g(C){return C>o>>Qe}const y=(C,x,M)=>an(C.slice(x,M));class v{constructor(x,M,B){this.r=x,this.s=M,this.recovery=B,this.assertValidity()}static fromCompact(x){const M=t.nByteLength;return x=Ft("compactSignature",x,2*M),new v(y(x,0,M),y(x,M,2*M))}static fromDER(x){const{r:M,s:B}=Ai.toSig(Ft("DER",x));return new v(M,B)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(x){return new v(this.r,this.s,x)}recoverPublicKey(x){const{r:M,s:B,recovery:N}=this,Q=S(Ft("msgHash",x));if(null==N||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const ee=2===N||3===N?M+t.n:M;if(ee>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ae=l.fromHex((1&N?"03":"02")+p(ee)),Ke=u(ee),wt=c(-Q*Ke),ot=c(B*Ke),bt=l.BASE.multiplyAndAddUnsafe(Ae,wt,ot);if(!bt)throw new Error("point at infinify");return bt.assertValidity(),bt}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ha(this.toDERHex())}toDERHex(){return Ai.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ha(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(C){try{return d(C),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const C=PA(t.n);return function E7(e,t,r=!1){const o=e.length,i=kA(t),s=PA(t);if(o<16||o<s||o>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${o}`);const c=yt(r?an(e):Wv(e),t-Be)+Be;return r?Zv(c,i):Oo(c,i)}(t.randomBytes(C),t.n)},precompute:(C=8,x=l.BASE)=>(x._setWindowSize(C),x.multiply(BigInt(3)),x)};function _(C){const x=C instanceof Uint8Array,M="string"==typeof C,B=(x||M)&&C.length;return x?B===i||B===s:M?B===2*i||B===2*s:C instanceof l}const E=t.bits2int||function(C){const x=an(C),M=8*C.length-t.nBitLength;return M>0?x>>BigInt(M):x},S=t.bits2int_modN||function(C){return c(E(C))},I=Kv(t.nBitLength);function R(C){if("bigint"!=typeof C)throw new Error("bigint expected");if(!(Qn<=C&&C<I))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Oo(C,t.nByteLength)}const F={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function b(C,x=!0){return l.fromPrivateKey(C).toRawBytes(x)},getSharedSecret:function D(C,x,M=!0){if(_(C))throw new Error("first arg must be private key");if(!_(x))throw new Error("second arg must be public key");return l.fromHex(x).multiply(d(C)).toRawBytes(M)},sign:function Y(C,x,M=F){const{seed:B,k2sig:N}=function j(C,x,M=F){if(["recovered","canonical"].some(it=>it in M))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:N}=t;let{lowS:Q,prehash:ee,extraEntropy:ce}=M;null==Q&&(Q=!0),C=Ft("msgHash",C),ee&&(C=Ft("prehashed msgHash",B(C)));const Ae=S(C),Ke=d(x),wt=[R(Ke),R(Ae)];if(null!=ce){const it=!0===ce?N(r.BYTES):ce;wt.push(Ft("extraEntropy",it))}const ot=Ti(...wt),bt=Ae;return{seed:ot,k2sig:function Dt(it){const fo=E(it);if(!h(fo))return;const En=u(fo),At=l.BASE.multiply(fo).toAffine(),ir=c(At.x);if(ir===Qn)return;const Gi=c(En*c(bt+ir*Ke));if(Gi===Qn)return;let ul=(At.x===ir?0:2)|Number(At.y&Qe),J2=Gi;return Q&&g(Gi)&&(J2=function m(C){return g(C)?c(-C):C}(Gi),ul^=1),new v(ir,J2,ul)}}}(C,x,M);return NA(t.hash.outputLen,t.nByteLength,t.hmac)(B,N)},verify:function A(C,x,M,B=H){const N=C;if(x=Ft("msgHash",x),M=Ft("publicKey",M),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:Q,prehash:ee}=B;let ce,Ae;try{if("string"==typeof N||N instanceof Uint8Array)try{ce=v.fromDER(N)}catch(At){if(!(At instanceof Ai.Err))throw At;ce=v.fromCompact(N)}else{if("object"!=typeof N||"bigint"!=typeof N.r||"bigint"!=typeof N.s)throw new Error("PARSE");{const{r:At,s:ir}=N;ce=new v(At,ir)}}Ae=l.fromHex(M)}catch(At){if("PARSE"===At.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Q&&ce.hasHighS())return!1;ee&&(x=t.hash(x));const{r:Ke,s:wt}=ce,ot=S(x),bt=u(wt),Dt=c(ot*bt),it=c(Ke*bt),fo=l.BASE.multiplyAndAddUnsafe(Ae,Dt,it)?.toAffine();return!!fo&&c(fo.x)===Ke},ProjectivePoint:l,Signature:v,utils:w}}function R7(e){return{hash:e,hmac:(t,...r)=>FA(e,t,function X9(...e){const t=new Uint8Array(e.reduce((o,i)=>o+i.length,0));let r=0;return e.forEach(o=>{if(!Vv(o))throw new Error("Uint8Array expected");t.set(o,r),r+=o.length}),t}(...r)),randomBytes:IA}}BigInt(4);const Zf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Kf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jA=BigInt(1),Yf=BigInt(2),$A=(e,t)=>(e+t/Yf)/t;function HA(e){const t=Zf,r=BigInt(3),o=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),l=e*e*e%t,d=l*l*e%t,f=Nn(d,r,t)*d%t,h=Nn(f,r,t)*d%t,p=Nn(h,Yf,t)*l%t,g=Nn(p,i,t)*p%t,m=Nn(g,s,t)*g%t,y=Nn(m,c,t)*m%t,v=Nn(y,u,t)*y%t,w=Nn(v,c,t)*m%t,b=Nn(w,r,t)*d%t,_=Nn(b,a,t)*g%t,D=Nn(_,o,t)*l%t,E=Nn(D,Yf,t);if(!e0.eql(e0.sqr(E),e))throw new Error("Cannot find square root");return E}const e0=function _7(e,t,r=!1,o={}){if(e<=mt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Jv(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function m7(e){if(e%Qv===d7){const t=(e+Be)/Qv;return function(o,i){const s=o.pow(i,t);if(!o.eql(o.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%OA===RA){const t=(e-RA)/OA;return function(o,i){const s=o.mul(i,ko),a=o.pow(s,t),c=o.mul(i,a),u=o.mul(o.mul(c,ko),a),l=o.mul(c,o.sub(u,o.ONE));if(!o.eql(o.sqr(l),i))throw new Error("Cannot find square root");return l}}return function g7(e){const t=(e-Be)/ko;let r,o,i;for(r=e-Be,o=0;r%ko===mt;r/=ko,o++);for(i=ko;i<e&&p7(i,t,e)!==e-Be;i++);if(1===o){const a=(e+Be)/Qv;return function(u,l){const d=u.pow(l,a);if(!u.eql(u.sqr(d),l))throw new Error("Cannot find square root");return d}}const s=(r+Be)/ko;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let l=o,d=c.pow(c.mul(c.ONE,i),r),f=c.pow(u,s),h=c.pow(u,r);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let m=c.sqr(h);p<l&&!c.eql(m,c.ONE);p++)m=c.sqr(m);const g=c.pow(d,Be<<BigInt(l-p-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),l=p}return f}}(e)}(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Kv(i),ZERO:mt,ONE:Be,create:u=>yt(u,e),isValid:u=>{if("bigint"!=typeof u)throw new Error("Invalid field element: expected bigint, got "+typeof u);return mt<=u&&u<e},is0:u=>u===mt,isOdd:u=>(u&Be)===Be,neg:u=>yt(-u,e),eql:(u,l)=>u===l,sqr:u=>yt(u*u,e),add:(u,l)=>yt(u+l,e),sub:(u,l)=>yt(u-l,e),mul:(u,l)=>yt(u*l,e),pow:(u,l)=>function w7(e,t,r){if(r<mt)throw new Error("Expected power > 0");if(r===mt)return e.ONE;if(r===Be)return t;let o=e.ONE,i=t;for(;r>mt;)r&Be&&(o=e.mul(o,i)),i=e.sqr(i),r>>=Be;return o}(c,u,l),div:(u,l)=>yt(u*Gf(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>Gf(u,e),sqrt:o.sqrt||(u=>a(c,u)),invertBatch:u=>function b7(e,t){const r=new Array(t.length),o=t.reduce((s,a,c)=>e.is0(a)?s:(r[c]=s,e.mul(s,a)),e.ONE),i=e.inv(o);return t.reduceRight((s,a,c)=>e.is0(a)?s:(r[c]=e.mul(s,r[c]),e.mul(s,a)),i),r}(c,u),cmov:(u,l,d)=>d?l:u,toBytes:u=>r?Zv(u,s):Oo(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?Wv(u):an(u)}});return Object.freeze(c)}(Zf,void 0,void 0,{sqrt:HA}),pa=function O7(e,t){const r=o=>M7({...e,...R7(o)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:e0,n:Kf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Kf,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-jA*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=$A(s*e,t),u=$A(-o*e,t);let l=yt(e-c*r-u*i,t),d=yt(-c*o-u*s,t);const f=l>a,h=d>a;if(f&&(l=t-l),h&&(d=t-d),l>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:h,k2:d}}}},Gv),Qf=BigInt(0),VA=e=>"bigint"==typeof e&&Qf<e&&e<Zf,zA={};function Jf(e,...t){let r=zA[e];if(void 0===r){const o=Gv(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Ti(o,o),zA[e]=r}return Gv(Ti(r,...t))}const t0=e=>e.toRawBytes(!0).slice(1),n0=e=>Oo(e,32),r0=e=>yt(e,Zf),Nu=e=>yt(e,Kf),o0=pa.ProjectivePoint;function s0(e){let t=pa.utils.normPrivateKeyToScalar(e),r=o0.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Nu(-t),bytes:t0(r)}}function qA(e){if(!VA(e))throw new Error("bad x: need 0 < x < p");const t=r0(e*e);let o=HA(r0(t*e+BigInt(7)));o%Yf!==Qf&&(o=r0(-o));const i=new o0(e,o,jA);return i.assertValidity(),i}function GA(...e){return Nu(an(Jf("BIP0340/challenge",...e)))}function WA(e,t,r){const o=Ft("signature",e,64),i=Ft("message",t),s=Ft("publicKey",r,32);try{const a=qA(an(s)),c=an(o.subarray(0,32));if(!VA(c))return!1;const u=an(o.subarray(32,64));if(!(e=>"bigint"==typeof e&&Qf<e&&e<Kf)(u))return!1;const l=GA(n0(c),t0(a),i),d=((e,t,r)=>o0.BASE.multiplyAndAddUnsafe(e,t,r))(a,u,Nu(-l));return!(!d||!d.hasEvenY()||d.toAffine().x!==c)}catch{return!1}}const Ru={getPublicKey:function L7(e){return s0(e).bytes},sign:function F7(e,t,r=IA(32)){const o=Ft("message",e),{bytes:i,scalar:s}=s0(t),a=Ft("auxRand",r,32),c=n0(s^an(Jf("BIP0340/aux",a))),u=Jf("BIP0340/nonce",c,i,o),l=Nu(an(u));if(l===Qf)throw new Error("sign failed: k is zero");const{bytes:d,scalar:f}=s0(l),h=GA(d,i,o),p=new Uint8Array(64);if(p.set(d,0),p.set(n0(Nu(f+h*s)),32),!WA(p,o,i))throw new Error("sign: Invalid signature produced");return p},verify:WA,utils:{randomPrivateKey:pa.utils.randomPrivateKey,lift_x:qA,pointToBytes:t0,numberToBytesBE:Oo,bytesToNumberBE:an,taggedHash:Jf,mod:yt}},a0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,c0=e=>e instanceof Uint8Array,u0=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Tr=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const B7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function cn(e){if(!c0(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=B7[e[r]];return t}function ga(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let o=0;o<r.length;o++){const i=2*o,s=e.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[o]=a}return r}function Mi(e){if("string"==typeof e&&(e=function j7(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!c0(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Xf(...e){const t=new Uint8Array(e.reduce((o,i)=>o+i.length,0));let r=0;return e.forEach(o=>{if(!c0(o))throw new Error("Uint8Array expected");t.set(o,r),r+=o.length}),t}class ZA{clone(){return this._cloneInto()}}function KA(e){const t=o=>e().update(Mi(o)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function YA(e=32){if(a0&&"function"==typeof a0.getRandomValues)return a0.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function d0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function QA(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const Ar={number:d0,bool:function H7(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:QA,hash:function V7(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");d0(e.outputLen),d0(e.blockLen)},exists:function z7(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function q7(e,t){QA(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}};class W7 extends ZA{constructor(t,r,o,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=u0(this.buffer)}update(t){Ar.exists(this);const{view:r,buffer:o,blockLen:i}=this,s=(t=Mi(t)).length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c!==i)o.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0);else{const u=u0(t);for(;i<=s-a;a+=i)this.process(u,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ar.exists(this),Ar.output(t,this),this.finished=!0;const{buffer:r,view:o,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let f=a;f<i;f++)r[f]=0;(function G7(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)})(o,i-8,BigInt(8*this.length),s),this.process(o,0);const c=u0(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:o,length:i,finished:s,destroyed:a,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=a,i%r&&t.buffer.set(o),t}}const Z7=(e,t,r)=>e&t^~e&r,K7=(e,t,r)=>e&t^e&r^t&r,Y7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Lo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fo=new Uint32Array(64);class JA extends W7{constructor(){super(64,32,8,!1),this.A=0|Lo[0],this.B=0|Lo[1],this.C=0|Lo[2],this.D=0|Lo[3],this.E=0|Lo[4],this.F=0|Lo[5],this.G=0|Lo[6],this.H=0|Lo[7]}get(){const{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;return[t,r,o,i,s,a,c,u]}set(t,r,o,i,s,a,c,u){this.A=0|t,this.B=0|r,this.C=0|o,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|c,this.H=0|u}process(t,r){for(let f=0;f<16;f++,r+=4)Fo[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=Fo[f-15],p=Fo[f-2],g=Tr(h,7)^Tr(h,18)^h>>>3,m=Tr(p,17)^Tr(p,19)^p>>>10;Fo[f]=m+Fo[f-7]+g+Fo[f-16]|0}let{A:o,B:i,C:s,D:a,E:c,F:u,G:l,H:d}=this;for(let f=0;f<64;f++){const p=d+(Tr(c,6)^Tr(c,11)^Tr(c,25))+Z7(c,u,l)+Y7[f]+Fo[f]|0,m=(Tr(o,2)^Tr(o,13)^Tr(o,22))+K7(o,i,s)|0;d=l,l=u,u=c,c=a+p|0,a=s,s=i,i=o,o=p+m|0}o=o+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(o,i,s,a,c,u,l,d)}roundClean(){Fo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Q7 extends JA{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Ou=KA(()=>new JA);function Ni(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Jn(...e){const t=(i,s)=>a=>i(s(a));return{encode:Array.from(e).reverse().reduce((i,s)=>i?t(i,s.encode):s.encode,void 0),decode:e.reduce((i,s)=>i?t(i,s.decode):s.decode,void 0)}}function Mr(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(Ni(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if("string"!=typeof r)throw new Error(`alphabet.decode: not string element=${r}`);const o=e.indexOf(r);if(-1===o)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return o})}}}function Nr(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let r of t)if("string"!=typeof r)throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function ku(e,t="="){if(Ni(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let o of r)if("string"!=typeof o)throw new Error(`padding.encode: non-string input=${o}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let i of r)if("string"!=typeof i)throw new Error(`padding.decode: non-string input=${i}`);let o=r.length;if(o*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;o>0&&r[o-1]===t;o--)if(!((o-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,o)}}}function XA(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function eM(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let o=0;const i=[],s=Array.from(e);for(s.forEach(a=>{if(Ni(a),a<0||a>=t)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let u=o;u<s.length;u++){const l=s[u],d=t*a+l;if(!Number.isSafeInteger(d)||t*a/t!==a||d-l!=t*a)throw new Error("convertRadix: carry overflow");if(a=d%r,s[u]=Math.floor(d/r),!Number.isSafeInteger(s[u])||s[u]*r+a!==d)throw new Error("convertRadix: carry overflow");c&&(s[u]?c=!1:o=u)}if(i.push(a),c)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}KA(()=>new Q7);const tM=(e,t)=>t?tM(t,e%t):e,eh=(e,t)=>e+(t-tM(e,t));function f0(e,t,r,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(eh(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${eh(t,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const u of e){if(Ni(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(i=i<<t|u,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=t)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function Xr(e,t=!1){if(Ni(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(eh(8,e)>32||eh(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return f0(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(f0(r,e,8,t))}}}function rM(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}Jn(Xr(4),Mr("0123456789ABCDEF"),Nr("")),Jn(Xr(5),Mr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ku(5),Nr("")),Jn(Xr(5),Mr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ku(5),Nr("")),Jn(Xr(5),Mr("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Nr(""),XA(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const eo=Jn(Xr(6),Mr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ku(6),Nr("")),h0=(Jn(Xr(6),Mr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ku(6),Nr("")),e=>Jn(function nM(e){return Ni(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return eM(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(eM(t,e,256))}}}(58),Mr(e),Nr(""))),p0=(h0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),h0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),h0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Jn(Mr("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Nr(""))),sM=[996825010,642813549,513874426,1027748829,705979059];function Pu(e){const t=e>>25;let r=(33554431&e)<<5;for(let o=0;o<sM.length;o++)1==(t>>o&1)&&(r^=sM[o]);return r}function aM(e,t,r=1){const o=e.length;let i=1;for(let s=0;s<o;s++){const a=e.charCodeAt(s);if(a<33||a>126)throw new Error(`Invalid prefix (${e})`);i=Pu(i)^a>>5}i=Pu(i);for(let s=0;s<o;s++)i=Pu(i)^31&e.charCodeAt(s);for(let s of t)i=Pu(i)^s;for(let s=0;s<6;s++)i=Pu(i);return i^=r,p0.encode(f0([i%2**30],30,5,!1))}function cM(e){const t="bech32"===e?1:734539939,r=Xr(5),o=r.decode,i=r.encode,s=rM(o);function c(d,f=90){if("string"!=typeof d)throw new Error("bech32.decode input should be string, not "+typeof d);if(d.length<8||!1!==f&&d.length>f)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${f})`);const h=d.toLowerCase();if(d!==h&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const p=(d=h).lastIndexOf("1");if(0===p||-1===p)throw new Error('Letter "1" must be present between prefix and data only');const g=d.slice(0,p),m=d.slice(p+1);if(m.length<6)throw new Error("Data must be at least 6 characters long");const y=p0.decode(m).slice(0,-6),v=aM(g,y,t);if(!m.endsWith(v))throw new Error(`Invalid checksum in ${d}: expected "${v}"`);return{prefix:g,words:y}}return{encode:function a(d,f,h=90){if("string"!=typeof d)throw new Error("bech32.encode prefix should be string, not "+typeof d);if(!Array.isArray(f)||f.length&&"number"!=typeof f[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof f);const p=d.length+7+f.length;if(!1!==h&&p>h)throw new TypeError(`Length ${p} exceeds limit ${h}`);return`${d=d.toLowerCase()}1${p0.encode(f)}${aM(d,f,t)}`},decode:c,decodeToBytes:function l(d){const{prefix:f,words:h}=c(d,!1);return{prefix:f,words:h,bytes:o(h)}},decodeUnsafe:rM(c),fromWords:o,fromWordsUnsafe:s,toWords:i}}const ma=cM("bech32");function ya(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function g0(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function lM(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function _e(e,...t){if(!lM(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Ri(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function rh(e,t){_e(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}cM("bech32m"),Jn(Xr(4),Mr("0123456789abcdef"),Nr(""),XA(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const ve=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),va=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Bo(e){if("string"==typeof e)e=function lz(e){if("string"!=typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!lM(e))throw new Error("Uint8Array expected, got "+typeof e);e=e.slice()}return e}function oh(e,t){if(e.length!==t.length)return!1;let r=0;for(let o=0;o<e.length;o++)r|=e[o]^t[o];return 0===r}const Uo=(e,t)=>(Object.assign(t,e),t);function Oi(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)}const v0=new Uint8Array(16),Rr=ve(v0),hz=(e,t,r,o)=>({s3:r<<31|o>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^225<<24&-(1&o)}),Rn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class fM{constructor(t,r){this.blockLen=16,this.outputLen=16,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,_e(t=Bo(t),16);const o=va(t);let i=o.getUint32(0,!1),s=o.getUint32(4,!1),a=o.getUint32(8,!1),c=o.getUint32(12,!1);const u=[];for(let g=0;g<128;g++)u.push({s0:Rn(i),s1:Rn(s),s2:Rn(a),s3:Rn(c)}),({s0:i,s1:s,s2:a,s3:c}=hz(i,s,a,c));const l=(e=r||1024)>65536?8:e>1024?4:2;var e;if(![1,2,4,8].includes(l))throw new Error(`ghash: wrong window size=${l}, should be 2, 4 or 8`);this.W=l;const f=128/l,h=this.windowSize=2**l,p=[];for(let g=0;g<f;g++)for(let m=0;m<h;m++){let y=0,v=0,w=0,b=0;for(let _=0;_<l;_++){if(!(m>>>l-_-1&1))continue;const{s0:E,s1:S,s2:I,s3:R}=u[l*g+_];y^=E,v^=S,w^=I,b^=R}p.push({s0:y,s1:v,s2:w,s3:b})}this.t=p}_updateBlock(t,r,o,i){t^=this.s0,r^=this.s1,o^=this.s2,i^=this.s3;const{W:s,t:a,windowSize:c}=this;let u=0,l=0,d=0,f=0;const h=(1<<s)-1;let p=0;for(const g of[t,r,o,i])for(let m=0;m<4;m++){const y=g>>>8*m&255;for(let v=8/s-1;v>=0;v--){const w=y>>>s*v&h,{s0:b,s1:_,s2:D,s3:E}=a[p*c+w];u^=b,l^=_,d^=D,f^=E,p+=1}}this.s0=u,this.s1=l,this.s2=d,this.s3=f}update(t){t=Bo(t),Ri(this);const r=ve(t),o=Math.floor(t.length/16),i=t.length%16;for(let s=0;s<o;s++)this._updateBlock(r[4*s+0],r[4*s+1],r[4*s+2],r[4*s+3]);return i&&(v0.set(t.subarray(16*o)),this._updateBlock(Rr[0],Rr[1],Rr[2],Rr[3]),Rr.fill(0)),this}destroy(){const{t}=this;for(const r of t)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(t){Ri(this),rh(t,this),this.finished=!0;const{s0:r,s1:o,s2:i,s3:s}=this,a=ve(t);return a[0]=r,a[1]=o,a[2]=i,a[3]=s,t}digest(){const t=new Uint8Array(16);return this.digestInto(t),this.destroy(),t}}class mz extends fM{constructor(t,r){const o=function pz(e){e.reverse();const t=1&e[15];let r=0;for(let o=0;o<e.length;o++){const i=e[o];e[o]=i>>>1|r,r=(1&i)<<7}return e[0]^=225&-t,e}((t=Bo(t)).slice());super(o,r),o.fill(0)}update(t){t=Bo(t),Ri(this);const r=ve(t),o=t.length%16,i=Math.floor(t.length/16);for(let s=0;s<i;s++)this._updateBlock(Rn(r[4*s+3]),Rn(r[4*s+2]),Rn(r[4*s+1]),Rn(r[4*s+0]));return o&&(v0.set(t.subarray(16*i)),this._updateBlock(Rn(Rr[3]),Rn(Rr[2]),Rn(Rr[1]),Rn(Rr[0])),Rr.fill(0)),this}digestInto(t){Ri(this),rh(t,this),this.finished=!0;const{s0:r,s1:o,s2:i,s3:s}=this,a=ve(t);return a[0]=r,a[1]=o,a[2]=i,a[3]=s,t.reverse()}}function hM(e){const t=(o,i)=>e(i,o.length).update(Bo(o)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(o,i)=>e(o,i),t}hM((e,t)=>new fM(e,t)),hM((e,t)=>new mz(e,t)),new Uint8Array(16);const vz=283;function b0(e){return e<<1^vz&-(e>>7)}function wa(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(1&t),e=b0(e);return r}const _0=(()=>{let e=new Uint8Array(256);for(let r=0,o=1;r<256;r++,o^=b0(o))e[r]=o;const t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let o=e[255-r];o|=o<<8,t[e[r]]=255&(o^o>>4^o>>5^o>>6^o>>7^99)}return t})(),wz=_0.map((e,t)=>_0.indexOf(t)),bz=e=>e<<24|e>>>8,E0=e=>e<<8|e>>>24;function gM(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map((l,d)=>t(e[d])),o=r.map(E0),i=o.map(E0),s=i.map(E0),a=new Uint32Array(65536),c=new Uint32Array(65536),u=new Uint16Array(65536);for(let l=0;l<256;l++)for(let d=0;d<256;d++){const f=256*l+d;a[f]=r[l]^o[d],c[f]=i[l]^s[d],u[f]=e[l]<<8|e[d]}return{sbox:e,sbox2:u,T0:r,T1:o,T2:i,T3:s,T01:a,T23:c}}const D0=gM(_0,e=>wa(e,3)<<24|e<<16|e<<8|wa(e,2)),mM=gM(wz,e=>wa(e,11)<<24|wa(e,13)<<16|wa(e,9)<<8|wa(e,14)),_z=(()=>{const e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=b0(r))e[t]=r;return e})();function ro(e){_e(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:r}=D0,o=ve(e),i=o.length,s=c=>Or(r,c,c,c,c),a=new Uint32Array(t+28);a.set(o);for(let c=i;c<a.length;c++){let u=a[c-1];c%i==0?u=s(bz(u))^_z[c/i-1]:i>6&&c%i==4&&(u=s(u)),a[c]=a[c-i]^u}return a}function jo(e,t,r,o,i,s){return e[r<<8&65280|o>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Or(e,t,r,o,i){return e[255&t|65280&r]|e[o>>>16&255|i>>>16&65280]<<16}function un(e,t,r,o,i){const{sbox2:s,T01:a,T23:c}=D0;let u=0;t^=e[u++],r^=e[u++],o^=e[u++],i^=e[u++];const l=e.length/4-2;for(let g=0;g<l;g++){const m=e[u++]^jo(a,c,t,r,o,i),y=e[u++]^jo(a,c,r,o,i,t),v=e[u++]^jo(a,c,o,i,t,r),w=e[u++]^jo(a,c,i,t,r,o);t=m,r=y,o=v,i=w}return{s0:e[u++]^Or(s,t,r,o,i),s1:e[u++]^Or(s,r,o,i,t),s2:e[u++]^Or(s,o,i,t,r),s3:e[u++]^Or(s,i,t,r,o)}}function sh(e,t,r,o,i){const{sbox2:s,T01:a,T23:c}=mM;let u=0;t^=e[u++],r^=e[u++],o^=e[u++],i^=e[u++];const l=e.length/4-2;for(let g=0;g<l;g++){const m=e[u++]^jo(a,c,t,i,o,r),y=e[u++]^jo(a,c,r,t,i,o),v=e[u++]^jo(a,c,o,r,t,i),w=e[u++]^jo(a,c,i,o,r,t);t=m,r=y,o=v,i=w}return{s0:e[u++]^Or(s,t,i,o,r),s1:e[u++]^Or(s,r,t,i,o),s2:e[u++]^Or(s,o,r,t,i),s3:e[u++]^Or(s,i,o,r,t)}}function ba(e,t){if(!t)return new Uint8Array(e);if(_e(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}const EM=Uo({blockSize:16,nonceLength:16},function(t,r,o={}){_e(t),_e(r,16);const i=!o.disablePadding;return{encrypt:(s,a)=>{const c=ro(t),{b:u,o:l,out:d}=function wM(e,t,r){let o=e.length;const i=o%16;if(!t&&0!==i)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const s=ve(e);if(t){let u=16-i;u||(u=16),o+=u}const a=ba(o,r);return{b:s,o:ve(a),out:a}}(s,i,a),f=ve(r);let h=f[0],p=f[1],g=f[2],m=f[3],y=0;for(;y+4<=u.length;)h^=u[y+0],p^=u[y+1],g^=u[y+2],m^=u[y+3],({s0:h,s1:p,s2:g,s3:m}=un(c,h,p,g,m)),l[y++]=h,l[y++]=p,l[y++]=g,l[y++]=m;if(i){const v=function _M(e){const t=new Uint8Array(16),r=ve(t);t.set(e);const o=16-e.length;for(let i=16-o;i<16;i++)t[i]=o;return r}(s.subarray(4*y));h^=v[0],p^=v[1],g^=v[2],m^=v[3],({s0:h,s1:p,s2:g,s3:m}=un(c,h,p,g,m)),l[y++]=h,l[y++]=p,l[y++]=g,l[y++]=m}return c.fill(0),d},decrypt:(s,a)=>{!function vM(e){if(_e(e),e.length%16!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}(s);const c=function C0(e){const t=ro(e),r=t.slice(),o=t.length,{sbox2:i}=D0,{T0:s,T1:a,T2:c,T3:u}=mM;for(let l=0;l<o;l+=4)for(let d=0;d<4;d++)r[l+d]=t[o-l-4+d];t.fill(0);for(let l=4;l<o-4;l++){const d=r[l],f=Or(i,d,d,d,d);r[l]=s[255&f]^a[f>>>8&255]^c[f>>>16&255]^u[f>>>24]}return r}(t),u=ve(r),l=ba(s.length,a),d=ve(s),f=ve(l);let h=u[0],p=u[1],g=u[2],m=u[3];for(let y=0;y+4<=d.length;){const v=h,w=p,b=g,_=m;h=d[y+0],p=d[y+1],g=d[y+2],m=d[y+3];const{s0:D,s1:E,s2:S,s3:I}=sh(c,h,p,g,m);f[y++]=D^v,f[y++]=E^w,f[y++]=S^b,f[y++]=I^_}return c.fill(0),function bM(e,t){if(!t)return e;const r=e.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");const o=e[r-1];if(o<=0||o>16)throw new Error(`aes/pcks5: wrong padding byte: ${o}`);const i=e.subarray(0,-o);for(let s=0;s<o;s++)if(e[r-s-1]!==o)throw new Error("aes/pcks5: wrong padding");return i}(l,i)}}}),xt=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Cz{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,_e(t=Bo(t),32);const r=xt(t,0),o=xt(t,2),i=xt(t,4),s=xt(t,6),a=xt(t,8),c=xt(t,10),u=xt(t,12),l=xt(t,14);this.r[0]=8191&r,this.r[1]=8191&(r>>>13|o<<3),this.r[2]=7939&(o>>>10|i<<6),this.r[3]=8191&(i>>>7|s<<9),this.r[4]=255&(s>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|c<<2),this.r[7]=8065&(c>>>11|u<<5),this.r[8]=8191&(u>>>8|l<<8),this.r[9]=l>>>5&127;for(let d=0;d<8;d++)this.pad[d]=xt(t,16+2*d)}process(t,r,o=!1){const i=o?0:2048,{h:s,r:a}=this,c=a[0],u=a[1],l=a[2],d=a[3],f=a[4],h=a[5],p=a[6],g=a[7],m=a[8],y=a[9],v=xt(t,r+0),w=xt(t,r+2),b=xt(t,r+4),_=xt(t,r+6),D=xt(t,r+8),E=xt(t,r+10),S=xt(t,r+12),I=xt(t,r+14);let R=s[0]+(8191&v),j=s[1]+(8191&(v>>>13|w<<3)),F=s[2]+(8191&(w>>>10|b<<6)),H=s[3]+(8191&(b>>>7|_<<9)),Y=s[4]+(8191&(_>>>4|D<<12)),A=s[5]+(D>>>1&8191),C=s[6]+(8191&(D>>>14|E<<2)),x=s[7]+(8191&(E>>>11|S<<5)),M=s[8]+(8191&(S>>>8|I<<8)),B=s[9]+(I>>>5|i),N=0,Q=N+R*c+j*(5*y)+F*(5*m)+H*(5*g)+Y*(5*p);N=Q>>>13,Q&=8191,Q+=A*(5*h)+C*(5*f)+x*(5*d)+M*(5*l)+B*(5*u),N+=Q>>>13,Q&=8191;let ee=N+R*u+j*c+F*(5*y)+H*(5*m)+Y*(5*g);N=ee>>>13,ee&=8191,ee+=A*(5*p)+C*(5*h)+x*(5*f)+M*(5*d)+B*(5*l),N+=ee>>>13,ee&=8191;let ce=N+R*l+j*u+F*c+H*(5*y)+Y*(5*m);N=ce>>>13,ce&=8191,ce+=A*(5*g)+C*(5*p)+x*(5*h)+M*(5*f)+B*(5*d),N+=ce>>>13,ce&=8191;let Ae=N+R*d+j*l+F*u+H*c+Y*(5*y);N=Ae>>>13,Ae&=8191,Ae+=A*(5*m)+C*(5*g)+x*(5*p)+M*(5*h)+B*(5*f),N+=Ae>>>13,Ae&=8191;let Ke=N+R*f+j*d+F*l+H*u+Y*c;N=Ke>>>13,Ke&=8191,Ke+=A*(5*y)+C*(5*m)+x*(5*g)+M*(5*p)+B*(5*h),N+=Ke>>>13,Ke&=8191;let wt=N+R*h+j*f+F*d+H*l+Y*u;N=wt>>>13,wt&=8191,wt+=A*c+C*(5*y)+x*(5*m)+M*(5*g)+B*(5*p),N+=wt>>>13,wt&=8191;let ot=N+R*p+j*h+F*f+H*d+Y*l;N=ot>>>13,ot&=8191,ot+=A*u+C*c+x*(5*y)+M*(5*m)+B*(5*g),N+=ot>>>13,ot&=8191;let bt=N+R*g+j*p+F*h+H*f+Y*d;N=bt>>>13,bt&=8191,bt+=A*l+C*u+x*c+M*(5*y)+B*(5*m),N+=bt>>>13,bt&=8191;let Dt=N+R*m+j*g+F*p+H*h+Y*f;N=Dt>>>13,Dt&=8191,Dt+=A*d+C*l+x*u+M*c+B*(5*y),N+=Dt>>>13,Dt&=8191;let it=N+R*y+j*m+F*g+H*p+Y*h;N=it>>>13,it&=8191,it+=A*f+C*d+x*l+M*u+B*c,N+=it>>>13,it&=8191,N=(N<<2)+N|0,N=N+Q|0,Q=8191&N,N>>>=13,ee+=N,s[0]=Q,s[1]=ee,s[2]=ce,s[3]=Ae,s[4]=Ke,s[5]=wt,s[6]=ot,s[7]=bt,s[8]=Dt,s[9]=it}finalize(){const{h:t,pad:r}=this,o=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=i,i=t[c]>>>13,t[c]&=8191;t[0]+=5*i,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,o[0]=t[0]+5,i=o[0]>>>13,o[0]&=8191;for(let c=1;c<10;c++)o[c]=t[c]+i,i=o[c]>>>13,o[c]&=8191;o[9]-=8192;let s=(1^i)-1;for(let c=0;c<10;c++)o[c]&=s;s=~s;for(let c=0;c<10;c++)t[c]=t[c]&s|o[c];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let a=t[0]+r[0];t[0]=65535&a;for(let c=1;c<8;c++)a=(t[c]+r[c]|0)+(a>>>16)|0,t[c]=65535&a}update(t){Ri(this);const{buffer:r,blockLen:o}=this,i=(t=Bo(t)).length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a!==o)r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0,!1),this.pos=0);else for(;o<=i-s;s+=o)this.process(t,s)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Ri(this),rh(t,this),this.finished=!0;const{buffer:r,h:o}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)t[s++]=o[a]>>>0,t[s++]=o[a]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}}const Iz=function Sz(e){const t=(o,i)=>e(i).update(Bo(o)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=o=>e(o),t}(e=>new Cz(e)),SM=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),xz=SM("expand 16-byte k"),Tz=SM("expand 32-byte k"),Az=ve(xz),IM=ve(Tz);function q(e,t){return e<<t|e>>>32-t}function S0(e){return e.byteOffset%4==0}IM.slice();const xM=2**32-1,TM=new Uint32Array;function Lu(e,t){const{allowShortKeys:r,extendNonceFn:o,counterLength:i,counterRight:s,rounds:a}=function dz(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return ya(i),ya(a),g0(s),g0(r),(c,u,l,d,f=0)=>{_e(c),_e(u),_e(l);const h=l.length;if(d||(d=new Uint8Array(h)),_e(d),ya(f),f<0||f>=xM)throw new Error("arx: counter overflow");if(d.length<h)throw new Error(`arx: output (${d.length}) is shorter than data (${h})`);const p=[];let m,y,g=c.length;if(32===g)m=c.slice(),p.push(m),y=IM;else{if(16!==g||!r)throw new Error(`arx: invalid 32-byte key, got length=${g}`);m=new Uint8Array(32),m.set(c),m.set(c,16),y=Az,p.push(m)}S0(u)||(u=u.slice(),p.push(u));const v=ve(m);if(o){if(24!==u.length)throw new Error("arx: extended nonce must be 24 bytes");o(y,v,ve(u.subarray(0,16)),v),u=u.subarray(16)}const w=16-i;if(w!==u.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(12!==w){const _=new Uint8Array(12);_.set(u,s?0:12-u.length),p.push(u=_)}const b=ve(u);for(function Nz(e,t,r,o,i,s,a,c){const u=i.length,l=new Uint8Array(64),d=ve(l),f=S0(i)&&S0(s),h=f?ve(i):TM,p=f?ve(s):TM;for(let g=0;g<u;a++){if(e(t,r,o,d,a,c),a>=xM)throw new Error("arx: counter overflow");const m=Math.min(64,u-g);if(f&&64===m){const y=g/4;if(g%4!=0)throw new Error("arx: invalid block position");for(let w,v=0;v<16;v++)w=y+v,p[w]=h[w]^d[v];g+=64}else{for(let v,y=0;y<m;y++)v=g+y,s[v]=i[v]^l[y];g+=m}}}(e,y,v,b,l,d,f,a);p.length>0;)p.pop().fill(0);return d}}function Fu(e,t,r,o,i,s=20){let a=e[0],c=e[1],u=e[2],l=e[3],d=t[0],f=t[1],h=t[2],p=t[3],g=t[4],m=t[5],y=t[6],v=t[7],w=i,b=r[0],_=r[1],D=r[2],E=a,S=c,I=u,R=l,j=d,F=f,H=h,Y=p,A=g,C=m,x=y,M=v,B=w,N=b,Q=_,ee=D;for(let Ae=0;Ae<s;Ae+=2)E=E+j|0,B=q(B^E,16),A=A+B|0,j=q(j^A,12),E=E+j|0,B=q(B^E,8),A=A+B|0,j=q(j^A,7),S=S+F|0,N=q(N^S,16),C=C+N|0,F=q(F^C,12),S=S+F|0,N=q(N^S,8),C=C+N|0,F=q(F^C,7),I=I+H|0,Q=q(Q^I,16),x=x+Q|0,H=q(H^x,12),I=I+H|0,Q=q(Q^I,8),x=x+Q|0,H=q(H^x,7),R=R+Y|0,ee=q(ee^R,16),M=M+ee|0,Y=q(Y^M,12),R=R+Y|0,ee=q(ee^R,8),M=M+ee|0,Y=q(Y^M,7),E=E+F|0,ee=q(ee^E,16),x=x+ee|0,F=q(F^x,12),E=E+F|0,ee=q(ee^E,8),x=x+ee|0,F=q(F^x,7),S=S+H|0,B=q(B^S,16),M=M+B|0,H=q(H^M,12),S=S+H|0,B=q(B^S,8),M=M+B|0,H=q(H^M,7),I=I+Y|0,N=q(N^I,16),A=A+N|0,Y=q(Y^A,12),I=I+Y|0,N=q(N^I,8),A=A+N|0,Y=q(Y^A,7),R=R+j|0,Q=q(Q^R,16),C=C+Q|0,j=q(j^C,12),R=R+j|0,Q=q(Q^R,8),C=C+Q|0,j=q(j^C,7);let ce=0;o[ce++]=a+E|0,o[ce++]=c+S|0,o[ce++]=u+I|0,o[ce++]=l+R|0,o[ce++]=d+j|0,o[ce++]=f+F|0,o[ce++]=h+H|0,o[ce++]=p+Y|0,o[ce++]=g+A|0,o[ce++]=m+C|0,o[ce++]=y+x|0,o[ce++]=v+M|0,o[ce++]=w+B|0,o[ce++]=b+N|0,o[ce++]=_+Q|0,o[ce++]=D+ee|0}const I0=Lu(Fu,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Oz=Lu(Fu,{counterRight:!1,counterLength:8,extendNonceFn:function Rz(e,t,r,o){let i=e[0],s=e[1],a=e[2],c=e[3],u=t[0],l=t[1],d=t[2],f=t[3],h=t[4],p=t[5],g=t[6],m=t[7],y=r[0],v=r[1],w=r[2],b=r[3];for(let D=0;D<20;D+=2)i=i+u|0,y=q(y^i,16),h=h+y|0,u=q(u^h,12),i=i+u|0,y=q(y^i,8),h=h+y|0,u=q(u^h,7),s=s+l|0,v=q(v^s,16),p=p+v|0,l=q(l^p,12),s=s+l|0,v=q(v^s,8),p=p+v|0,l=q(l^p,7),a=a+d|0,w=q(w^a,16),g=g+w|0,d=q(d^g,12),a=a+d|0,w=q(w^a,8),g=g+w|0,d=q(d^g,7),c=c+f|0,b=q(b^c,16),m=m+b|0,f=q(f^m,12),c=c+f|0,b=q(b^c,8),m=m+b|0,f=q(f^m,7),i=i+l|0,b=q(b^i,16),g=g+b|0,l=q(l^g,12),i=i+l|0,b=q(b^i,8),g=g+b|0,l=q(l^g,7),s=s+d|0,y=q(y^s,16),m=m+y|0,d=q(d^m,12),s=s+d|0,y=q(y^s,8),m=m+y|0,d=q(d^m,7),a=a+f|0,v=q(v^a,16),h=h+v|0,f=q(f^h,12),a=a+f|0,v=q(v^a,8),h=h+v|0,f=q(f^h,7),c=c+u|0,w=q(w^c,16),p=p+w|0,u=q(u^p,12),c=c+u|0,w=q(w^c,8),p=p+w|0,u=q(u^p,7);let _=0;o[_++]=i,o[_++]=s,o[_++]=a,o[_++]=c,o[_++]=y,o[_++]=v,o[_++]=w,o[_++]=b},allowShortKeys:!1}),kz=new Uint8Array(16),AM=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(kz.subarray(r))},Pz=new Uint8Array(32);function MM(e,t,r,o,i){const s=e(t,r,Pz),a=Iz.create(s);i&&AM(a,i),AM(a,o);const c=new Uint8Array(16),u=va(c);Oi(u,0,BigInt(i?i.length:0),!0),Oi(u,8,BigInt(o.length),!0),a.update(c);const l=a.digest();return s.fill(0),l}const NM=e=>(t,r,o)=>(_e(t,32),_e(r),{encrypt:(s,a)=>{const c=s.length,u=c+16;a?_e(a,u):a=new Uint8Array(u),e(t,r,s,a,1);const l=MM(e,t,r,a.subarray(0,-16),o);return a.set(l,c),a},decrypt:(s,a)=>{const c=s.length,u=c-16;if(c<16)throw new Error("encrypted data must be at least 16 bytes");a?_e(a,u):a=new Uint8Array(u);const l=s.subarray(0,-16);if(!oh(s.subarray(-16),MM(e,t,r,l,o)))throw new Error("invalid tag");return e(t,r,l,a,1),a}});NM(I0),NM(Oz);class RM extends ZA{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Ar.hash(t);const o=Mi(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?t.create().update(o).digest():o);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return Ar.exists(this),this.iHash.update(t),this}digestInto(t){Ar.exists(this),Ar.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:o,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return t.finished=i,t.destroyed=s,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=o._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uh=(e,t,r)=>new RM(e,t).update(r).digest();uh.create=(e,t)=>new RM(e,t);const x0=new Uint8Array([0]),kM=new Uint8Array;var Lz=Object.defineProperty,rt=(e,t)=>{for(var r in t)Lz(e,r,{get:t[r],enumerable:!0})},ki=Symbol("verified"),Fz=e=>e instanceof Object;function LM(e){if(!Fz(e)||"number"!=typeof e.kind||"string"!=typeof e.content||"number"!=typeof e.created_at||"string"!=typeof e.pubkey||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let r=e.tags[t];if(!Array.isArray(r))return!1;for(let o=0;o<r.length;o++)if("object"==typeof r[o])return!1}return!0}rt({},{Queue:()=>BM,QueueNode:()=>FM,binarySearch:()=>T0,insertEventIntoAscendingList:()=>jz,insertEventIntoDescendingList:()=>Uz,normalizeURL:()=>Ea,utf8Decoder:()=>kr,utf8Encoder:()=>Xn});var kr=new TextDecoder("utf-8"),Xn=new TextEncoder;function Ea(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Uz(e,t){const[r,o]=T0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return o||e.splice(r,0,t),e}function jz(e,t){const[r,o]=T0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return o||e.splice(r,0,t),e}function T0(e,t){let r=0,o=e.length-1;for(;r<=o;){const i=Math.floor((r+o)/2),s=t(e[i]);if(0===s)return[i,!0];s<0?o=i-1:r=i+1}return[r,!1]}var FM=class{value;next=null;prev=null;constructor(e){this.value=e}},BM=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){const t=new FM(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}};function lh(e){let t=Ou(Xn.encode(function Hz(e){if(!LM(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e)));return cn(t)}var dh=new class{generateSecretKey(){return Ru.utils.randomPrivateKey()}getPublicKey(e){return cn(Ru.getPublicKey(e))}finalizeEvent(e,t){const r=e;return r.pubkey=cn(Ru.getPublicKey(t)),r.id=lh(r),r.sig=cn(Ru.sign(lh(r),t)),r[ki]=!0,r}verifyEvent(e){if("boolean"==typeof e[ki])return e[ki];const t=lh(e);if(t!==e.id)return e[ki]=!1,!1;try{const r=Ru.verify(e.sig,t,e.pubkey);return e[ki]=r,r}catch{return e[ki]=!1,!1}}},Vz=dh.generateSecretKey,UM=dh.getPublicKey,er=dh.finalizeEvent,Da=dh.verifyEvent;function jM(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function A0(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function $M(e){return 2e4<=e&&e<3e4}function M0(e){return 3e4<=e&&e<4e4}function qz(e){return jM(e)?"regular":A0(e)?"replaceable":$M(e)?"ephemeral":M0(e)?"parameterized":"unknown"}rt({},{Application:()=>zq,BadgeAward:()=>Xz,BadgeDefinition:()=>Fq,BlockedRelaysList:()=>Eq,BookmarkList:()=>wq,Bookmarksets:()=>kq,Calendar:()=>Qq,CalendarEventRSVP:()=>Jq,ChannelCreation:()=>HM,ChannelHideMessage:()=>qM,ChannelMessage:()=>zM,ChannelMetadata:()=>VM,ChannelMuteUser:()=>GM,ClassifiedListing:()=>Wq,ClientAuth:()=>WM,CommunitiesList:()=>bq,CommunityDefinition:()=>tG,CommunityPostApproval:()=>cq,Contacts:()=>Kz,CreateOrUpdateProduct:()=>jq,CreateOrUpdateStall:()=>Uq,Curationsets:()=>Pq,Date:()=>Kq,DraftClassifiedListing:()=>Zq,DraftLong:()=>Hq,Emojisets:()=>Vq,EncryptedDirectMessage:()=>Yz,EncryptedDirectMessages:()=>Qz,EventDeletion:()=>Jz,FileMetadata:()=>nq,FileServerPreference:()=>Iq,Followsets:()=>Nq,GenericRepost:()=>eq,Genericlists:()=>Rq,HTTPAuth:()=>O0,Handlerinformation:()=>eG,Handlerrecommendation:()=>Xq,Highlights:()=>gq,InterestsList:()=>Cq,Interestsets:()=>Bq,JobFeedback:()=>dq,JobRequest:()=>uq,JobResult:()=>lq,Label:()=>aq,LightningPubRPC:()=>Tq,LiveChatMessage:()=>rq,LiveEvent:()=>qq,LongFormArticle:()=>$q,Metadata:()=>Gz,Mutelist:()=>mq,NWCWalletInfo:()=>xq,NWCWalletRequest:()=>ZM,NWCWalletResponse:()=>Aq,NostrConnect:()=>Mq,OpenTimestamps:()=>tq,Pinlist:()=>yq,ProblemTracker:()=>oq,ProfileBadges:()=>Lq,PublicChatsList:()=>_q,Reaction:()=>R0,RecommendRelay:()=>Zz,RelayList:()=>vq,Relaysets:()=>Oq,Report:()=>iq,Reporting:()=>sq,Repost:()=>N0,SearchRelaysList:()=>Dq,ShortTextNote:()=>Wz,Time:()=>Yq,UserEmojiList:()=>Sq,UserStatuses:()=>Gq,Zap:()=>pq,ZapGoal:()=>fq,ZapRequest:()=>hq,classifyKind:()=>qz,isEphemeralKind:()=>$M,isParameterizedReplaceableKind:()=>M0,isRegularKind:()=>jM,isReplaceableKind:()=>A0});var Gz=0,Wz=1,Zz=2,Kz=3,Yz=4,Qz=4,Jz=5,N0=6,R0=7,Xz=8,eq=16,HM=40,VM=41,zM=42,qM=43,GM=44,tq=1040,nq=1063,rq=1311,oq=1971,iq=1984,sq=1984,aq=1985,cq=4550,uq=5999,lq=6999,dq=7e3,fq=9041,hq=9734,pq=9735,gq=9802,mq=1e4,yq=10001,vq=10002,wq=10003,bq=10004,_q=10005,Eq=10006,Dq=10007,Cq=10015,Sq=10030,Iq=10096,xq=13194,Tq=21e3,WM=22242,ZM=23194,Aq=23195,Mq=24133,O0=27235,Nq=3e4,Rq=30001,Oq=30002,kq=30003,Pq=30004,Lq=30008,Fq=30009,Bq=30015,Uq=30017,jq=30018,$q=30023,Hq=30024,Vq=30030,zq=30078,qq=30311,Gq=30315,Wq=30402,Zq=30403,Kq=31922,Yq=31923,Qq=31924,Jq=31925,Xq=31989,eG=31990,tG=34550;function nG(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)||e.kinds&&-1===e.kinds.indexOf(t.kind)||e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let r in e)if("#"===r[0]){let i=e[`#${r.slice(1)}`];if(i&&!t.tags.find(([s,a])=>s===r.slice(1)&&-1!==i.indexOf(a)))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function fh(e,t){for(let r=0;r<e.length;r++)if(nG(e[r],t))return!0;return!1}function KM(e){if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[t,r]of Object.entries(e))if("#"===t[0]&&Array.isArray(r)&&!r.length)return 0;return Math.min(Math.max(0,e.limit??1/0),e.ids?.length??1/0,e.authors?.length&&e.kinds?.every(t=>A0(t))?e.authors.length*e.kinds.length:1/0,e.authors?.length&&e.kinds?.every(t=>M0(t))&&e["#d"]?.length?e.authors.length*e.kinds.length*e["#d"].length:1/0)}function hh(e,t){let r=t.length+3,o=e.indexOf(`"${t}":`)+r,i=e.slice(o).indexOf('"')+o+1;return e.slice(i,i+64)}function YM(e,t){let r=t.length,o=e.indexOf(`"${t}":`)+r+3,i=e.slice(o),s=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,s),10)}function QM(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let r=e.slice(t+7+1).indexOf('"');if(-1===r)return null;let o=t+7+1+r,i=e.slice(o+1,80).indexOf('"');return-1===i?null:e.slice(o+1,o+1+i)}function oG(e,t){return t===hh(e,"id")}function iG(e,t){return t===hh(e,"pubkey")}function sG(e,t){return t===YM(e,"kind")}function JM(e,t){return{kind:WM,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}rt({},{getHex64:()=>hh,getInt:()=>YM,getSubscriptionId:()=>QM,matchEventId:()=>oG,matchEventKind:()=>sG,matchEventPubkey:()=>iG}),rt({},{makeAuthEvent:()=>JM});try{WebSocket}catch{}try{WebSocket}catch{}var Ca={};rt(Ca,{BECH32_REGEX:()=>tN,Bech32MaxSize:()=>L0,decode:()=>Bu,encodeBytes:()=>gh,naddrEncode:()=>wG,neventEncode:()=>vG,noteEncode:()=>mG,nprofileEncode:()=>yG,npubEncode:()=>gG,nrelayEncode:()=>bG,nsecEncode:()=>pG});var L0=5e3,tN=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Bu(e){let{prefix:t,words:r}=ma.decode(e,L0),o=new Uint8Array(ma.fromWords(r));switch(t){case"nprofile":{let i=ph(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==i[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:cn(i[0][0]),relays:i[1]?i[1].map(s=>kr.decode(s)):[]}}}case"nevent":{let i=ph(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==i[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(i[2]&&32!==i[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(i[3]&&4!==i[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:cn(i[0][0]),relays:i[1]?i[1].map(s=>kr.decode(s)):[],author:i[2]?.[0]?cn(i[2][0]):void 0,kind:i[3]?.[0]?parseInt(cn(i[3][0]),16):void 0}}}case"naddr":{let i=ph(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!i[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==i[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!i[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==i[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:kr.decode(i[0][0]),pubkey:cn(i[2][0]),kind:parseInt(cn(i[3][0]),16),relays:i[1]?i[1].map(s=>kr.decode(s)):[]}}}case"nrelay":{let i=ph(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:kr.decode(i[0][0])}}case"nsec":return{type:t,data:o};case"npub":case"note":return{type:t,data:cn(o)};default:throw new Error(`unknown prefix ${t}`)}}function ph(e){let t={},r=e;for(;r.length>0;){let o=r[0],i=r[1],s=r.slice(2,2+i);if(r=r.slice(2+i),s.length<i)throw new Error(`not enough data to read on TLV ${o}`);t[o]=t[o]||[],t[o].push(s)}return t}function pG(e){return gh("nsec",e)}function gG(e){return gh("npub",ga(e))}function mG(e){return gh("note",ga(e))}function Uu(e,t){let r=ma.toWords(t);return ma.encode(e,r,L0)}function gh(e,t){return Uu(e,t)}function yG(e){return Uu("nprofile",mh({0:[ga(e.pubkey)],1:(e.relays||[]).map(r=>Xn.encode(r))}))}function vG(e){let t;return void 0!==e.kind&&(t=function hG(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),Uu("nevent",mh({0:[ga(e.id)],1:(e.relays||[]).map(o=>Xn.encode(o)),2:e.author?[ga(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function wG(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),Uu("naddr",mh({0:[Xn.encode(e.identifier)],1:(e.relays||[]).map(o=>Xn.encode(o)),2:[ga(e.pubkey)],3:[new Uint8Array(t)]}))}function bG(e){return Uu("nrelay",mh({0:[Xn.encode(e)]}))}function mh(e){let t=[];return Object.entries(e).reverse().forEach(([r,o])=>{o.forEach(i=>{let s=new Uint8Array(i.length+2);s.set([parseInt(r)],0),s.set([i.length],1),s.set(i,2),t.push(s)})}),Xf(...t)}var ju={};function nN(e,t,r){return F0.apply(this,arguments)}function F0(){return(F0=V(function*(e,t,r){const o=e instanceof Uint8Array?cn(e):e,s=rN(pa.getSharedSecret(o,"02"+t));let a=Uint8Array.from(YA(16)),c=Xn.encode(r),u=EM(s,a).encrypt(c);return`${eo.encode(new Uint8Array(u))}?iv=${eo.encode(new Uint8Array(a.buffer))}`})).apply(this,arguments)}function EG(e,t,r){return B0.apply(this,arguments)}function B0(){return(B0=V(function*(e,t,r){const o=e instanceof Uint8Array?cn(e):e;let[i,s]=r.split("?iv="),c=rN(pa.getSharedSecret(o,"02"+t)),u=eo.decode(s),l=eo.decode(i),d=EM(c,u).decrypt(l);return kr.decode(d)})).apply(this,arguments)}function rN(e){return e.slice(1,33)}rt(ju,{decrypt:()=>EG,encrypt:()=>nN}),rt({},{NIP05_REGEX:()=>oN,isValid:()=>IG,queryProfile:()=>iN,searchDomain:()=>SG,useFetchImplementation:()=>CG});var yh,oN=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/;try{yh=fetch}catch{}function CG(e){yh=e}function SG(e){return U0.apply(this,arguments)}function U0(){return(U0=V(function*(e,t=""){try{const r=`https://${e}/.well-known/nostr.json?name=${t}`;return(yield(yield yh(r,{redirect:"error"})).json()).names}catch{return{}}})).apply(this,arguments)}function iN(e){return j0.apply(this,arguments)}function j0(){return(j0=V(function*(e){const t=e.match(oN);if(!t)return null;const[r,o="_",i]=t;try{const s=`https://${i}/.well-known/nostr.json?name=${o}`,a=yield(yield yh(s,{redirect:"error"})).json();let c=a.names[o];return c?{pubkey:c,relays:a.relays?.[c]}:null}catch{return null}})).apply(this,arguments)}function IG(e,t){return $0.apply(this,arguments)}function $0(){return($0=V(function*(e,t){let r=yield iN(t);return!!r&&r.pubkey===e})).apply(this,arguments)}function TG(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},r=[];for(const o of e.tags)"e"===o[0]&&o[1]&&r.push(o),"p"===o[0]&&o[1]&&t.profiles.push({pubkey:o[1],relays:o[2]?[o[2]]:[]});for(let o=0;o<r.length;o++){const i=r[o],[s,a,c,u]=i,l={id:a,relays:c?[c]:[]},f=o===r.length-1;"root"!==u?"reply"!==u?"mention"!==u?0===o?t.root=l:f?t.reply=l:t.mentions.push(l):t.mentions.push(l):t.reply=l:t.root=l}return t}rt({},{parse:()=>TG}),rt({},{fetchRelayInformation:()=>NG,useFetchImplementation:()=>MG});try{fetch}catch{}function MG(e){}function NG(e){return H0.apply(this,arguments)}function H0(){return(H0=V(function*(e){return yield(yield fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()})).apply(this,arguments)}function aN(e){let t=0;for(let r=0;r<e.length;r++){const o=parseInt(e[r],16);if(0!==o){t+=Math.clz32(o)-28;break}t+=4}return t}function OG(e,t){let r=0;const o=e,i=["nonce",r.toString(),t.toString()];for(o.tags.push(i);;){const s=Math.floor((new Date).getTime()/1e3);if(s!==o.created_at&&(r=0,o.created_at=s),i[1]=(++r).toString(),o.id=lh(o),aN(o.id)>=t)break}return o}function PG(e,t,r,o){return er({kind:N0,tags:[...e.tags??[],["e",t.id,r],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},o)}function cN(e){if(e.kind!==N0)return;let t,r;for(let o=e.tags.length-1;o>=0&&(void 0===t||void 0===r);o--){const i=e.tags[o];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}return void 0!==t?{id:t[1],relays:[t[2],r?.[2]].filter(o=>"string"==typeof o),author:r?.[1]}:void 0}function LG(e,{skipVerification:t}={}){const r=cN(e);if(void 0===r||""===e.content)return;let o;try{o=JSON.parse(e.content)}catch{return}return o.id===r.id&&(t||Da(o))?o:void 0}rt({},{getPow:()=>aN,minePow:()=>OG}),rt({},{finishRepostEvent:()=>PG,getRepostedEvent:()=>LG,getRepostedEventPointer:()=>cN}),rt({},{NOSTR_URI_REGEX:()=>vh,parse:()=>UG,test:()=>BG});var vh=new RegExp(`nostr:(${tN.source})`);function BG(e){return"string"==typeof e&&new RegExp(`^${vh.source}$`).test(e)}function UG(e){const t=e.match(new RegExp(`^${vh.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Bu(t[1])}}function $G(e,t,r){const o=t.tags.filter(i=>i.length>=2&&("e"===i[0]||"p"===i[0]));return er({...e,kind:R0,tags:[...e.tags??[],...o,["e",t.id],["p",t.pubkey]],content:e.content??"+"},r)}function HG(e){if(e.kind!==R0)return;let t,r;for(let o=e.tags.length-1;o>=0&&(void 0===t||void 0===r);o--){const i=e.tags[o];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}return void 0!==t&&void 0!==r?{id:t[1],relays:[t[2],r[2]].filter(o=>void 0!==o),author:r[1]}:void 0}rt({},{finishReactionEvent:()=>$G,getReactedEventPointer:()=>HG}),rt({},{matchAll:()=>zG,regex:()=>V0,replaceAll:()=>qG});var V0=()=>new RegExp(`\\b${vh.source}\\b`,"g");function*zG(e){const t=e.matchAll(V0());for(const r of t)try{const[o,i]=r;yield{uri:o,value:i,decoded:Bu(i),start:r.index,end:r.index+o.length}}catch{}}function qG(e,t){return e.replaceAll(V0(),(r,o)=>t({uri:r,value:o,decoded:Bu(o)}))}rt({},{channelCreateEvent:()=>WG,channelHideMessageEvent:()=>YG,channelMessageEvent:()=>KG,channelMetadataEvent:()=>ZG,channelMuteUserEvent:()=>QG});var WG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return er({kind:HM,tags:[...e.tags??[]],content:r,created_at:e.created_at},t)},ZG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return er({kind:VM,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},KG=(e,t)=>{const r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),er({kind:zM,tags:[...r,...e.tags??[]],content:e.content,created_at:e.created_at},t)},YG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return er({kind:qM,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},QG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return er({kind:GM,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:r,created_at:e.created_at},t)};rt({},{EMOJI_SHORTCODE_REGEX:()=>uN,matchAll:()=>XG,regex:()=>z0,replaceAll:()=>eW});var q0,uN=/:(\w+):/,z0=()=>new RegExp(`\\B${uN.source}\\B`,"g");function*XG(e){const t=e.matchAll(z0());for(const r of t)try{const[o,i]=r;yield{shortcode:o,name:i,start:r.index,end:r.index+o.length}}catch{}}function eW(e,t){return e.replaceAll(z0(),(r,o)=>t({shortcode:r,name:o}))}rt({},{useFetchImplementation:()=>nW,validateGithub:()=>rW});try{q0=fetch}catch{}function nW(e){q0=e}function rW(e,t,r){return G0.apply(this,arguments)}function G0(){return(G0=V(function*(e,t,r){try{return(yield(yield q0(`https://gist.github.com/${t}/${r}/raw`)).text())===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}})).apply(this,arguments)}rt({},{decrypt:()=>mN,encrypt:()=>gN,getConversationKey:()=>fN,v2:()=>cW});var lN=1,dN=65535;function fN(e,t){const r=pa.getSharedSecret(e,"02"+t).subarray(1,33);return function OM(e,t,r){return Ar.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),uh(e,Mi(r),Mi(t))}(Ou,r,"nip44-v2")}function hN(e,t){const r=function PM(e,t,r,o=32){if(Ar.hash(e),Ar.number(o),o>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(o/e.outputLen);void 0===r&&(r=kM);const s=new Uint8Array(i*e.outputLen),a=uh.create(e,t),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let l=0;l<i;l++)x0[0]=l+1,c.update(0===l?kM:u).update(r).update(x0).digestInto(u),s.set(u,e.outputLen*l),a._cloneInto(c);return a.destroy(),c.destroy(),u.fill(0),x0.fill(0),s.slice(0,o)}(Ou,e,t,76);return{chacha_key:r.subarray(0,32),chacha_nonce:r.subarray(32,44),hmac_key:r.subarray(44,76)}}function W0(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,r=t<=256?32:t/8;return r*(Math.floor((e-1)/r)+1)}function pN(e,t,r){if(32!==r.length)throw new Error("AAD associated data must be 32 bytes");const o=Xf(r,t);return uh(Ou,e,o)}function gN(e,t,r=YA(32)){const{chacha_key:o,chacha_nonce:i,hmac_key:s}=hN(t,r),a=function iW(e){const t=Xn.encode(e),r=t.length,o=function oW(e){if(!Number.isSafeInteger(e)||e<lN||e>dN)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}(r);return Xf(o,t,new Uint8Array(W0(r)-r))}(e),c=I0(o,i,a),u=pN(s,c,r);return eo.encode(Xf(new Uint8Array([2]),r,c,u))}function mN(e,t){const{nonce:r,ciphertext:o,mac:i}=function aW(e){if("string"!=typeof e)throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if("#"===e[0])throw new Error("unknown encryption version");let r;try{r=eo.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}const o=r.length;if(o<99||o>65603)throw new Error("invalid data length: "+o);const i=r[0];if(2!==i)throw new Error("unknown encryption version "+i);return{nonce:r.subarray(1,33),ciphertext:r.subarray(33,-32),mac:r.subarray(-32)}}(e),{chacha_key:s,chacha_nonce:a,hmac_key:c}=hN(t,r);if(!oh(pN(c,o,r),i))throw new Error("invalid MAC");return function sW(e){const t=new DataView(e.buffer).getUint16(0),r=e.subarray(2,2+t);if(t<lN||t>dN||r.length!==t||e.length!==2+W0(t))throw new Error("invalid padding");return kr.decode(r)}(I0(s,a,o))}var K0,cW={utils:{getConversationKey:fN,calcPaddedLen:W0},encrypt:gN,decrypt:mN};function lW(e){const{pathname:t,searchParams:r}=new URL(e),o=t,i=r.get("relay"),s=r.get("secret");if(!o||!i||!s)throw new Error("invalid connection string");return{pubkey:o,relay:i,secret:s}}function dW(e,t,r){return Z0.apply(this,arguments)}function Z0(){return(Z0=V(function*(e,t,r){const i=yield nN(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:r}})),s={kind:ZM,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return er(s,t)})).apply(this,arguments)}rt({},{makeNwcRequestEvent:()=>dW,parseConnectionString:()=>lW}),rt({},{getZapEndpoint:()=>pW,makeZapReceipt:()=>yW,makeZapRequest:()=>gW,useFetchImplementation:()=>hW,validateZapRequest:()=>mW});try{K0=fetch}catch{}function hW(e){K0=e}function pW(e){return Y0.apply(this,arguments)}function Y0(){return(Y0=V(function*(e){try{let t="",{lud06:r,lud16:o}=JSON.parse(e.content);if(r){let{words:a}=ma.decode(r,1e3),c=ma.fromWords(a);t=kr.decode(c)}else{if(!o)return null;{let[a,c]=o.split("@");t=new URL(`/.well-known/lnurlp/${a}`,`https://${c}`).toString()}}let s=yield(yield K0(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch{}return null})).apply(this,arguments)}function gW({profile:e,event:t,amount:r,relays:o,comment:i=""}){if(!r)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",r.toString()],["relays",...o]]};return t&&s.tags.push(["e",t]),s}function mW(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!LM(t))return"Zap request is not a valid Nostr event.";if(!Da(t))return"Invalid signature on zap request.";let r=t.tags.find(([s,a])=>"p"===s&&a);if(!r)return"Zap request doesn't have a 'p' tag.";if(!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let o=t.tags.find(([s,a])=>"e"===s&&a);return o&&!o[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,a])=>"relays"===s&&a)?null:"Zap request doesn't have a 'relays' tag."}function yW({zapRequest:e,preimage:t,bolt11:r,paidAt:o}){let i=JSON.parse(e),s=i.tags.filter(([c])=>"e"===c||"p"===c||"a"===c),a={kind:9735,created_at:Math.round(o.getTime()/1e3),content:"",tags:[...s,["P",i.pubkey],["bolt11",r],["description",e]]};return t&&a.tags.push(["preimage",t]),a}rt({},{getToken:()=>wW,hashPayload:()=>ew,unpackEventFromToken:()=>vN,validateEvent:()=>CN,validateEventKind:()=>bN,validateEventMethodTag:()=>EN,validateEventPayloadTag:()=>DN,validateEventTimestamp:()=>wN,validateEventUrlTag:()=>_N,validateToken:()=>bW});var yN="Nostr ";function wW(e,t,r){return Q0.apply(this,arguments)}function Q0(){return(Q0=V(function*(e,t,r,o=!1,i){const s={kind:O0,tags:[["u",e],["method",t]],created_at:Math.round((new Date).getTime()/1e3),content:""};i&&s.tags.push(["payload",ew(i)]);const a=yield r(s);return(o?yN:"")+eo.encode(Xn.encode(JSON.stringify(a)))})).apply(this,arguments)}function bW(e,t,r){return J0.apply(this,arguments)}function J0(){return(J0=V(function*(e,t,r){const o=yield vN(e).catch(s=>{throw s});return yield CN(o,t,r).catch(s=>{throw s})})).apply(this,arguments)}function vN(e){return X0.apply(this,arguments)}function X0(){return(X0=V(function*(e){if(!e)throw new Error("Missing token");e=e.replace(yN,"");const t=kr.decode(eo.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)})).apply(this,arguments)}function wN(e){return!!e.created_at&&Math.round((new Date).getTime()/1e3)-e.created_at<60}function bN(e){return e.kind===O0}function _N(e,t){const r=e.tags.find(o=>"u"===o[0]);return!!r&&r.length>0&&r[1]===t}function EN(e,t){const r=e.tags.find(o=>"method"===o[0]);return!!r&&r.length>0&&r[1].toLowerCase()===t.toLowerCase()}function ew(e){return cn(Ou(Xn.encode(JSON.stringify(e))))}function DN(e,t){const r=e.tags.find(i=>"payload"===i[0]);if(!r)return!1;const o=ew(t);return r.length>0&&r[1]===o}function CN(e,t,r,o){return tw.apply(this,arguments)}function tw(){return(tw=V(function*(e,t,r,o){if(!Da(e))throw new Error("Invalid nostr event, signature invalid");if(!bN(e))throw new Error("Invalid nostr event, kind invalid");if(!wN(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!_N(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!EN(e,r))throw new Error("Invalid nostr event, method tag invalid");if(o&&"object"==typeof o&&Object.keys(o).length>0&&!DN(e,o))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0})).apply(this,arguments)}class oo{constructor(t){const{type:r,data:o}=Ca.decode(t);if("nsec"===r)this.nostrSecret=t,this.privateKeyHex=o,this.publicKeyHex=UM(this.privateKeyHex),this.nostrPublic=Ca.npubEncode(this.publicKeyHex);else{if("npub"!==r)throw new Error("Invalid argument, NostrUser expect nsec or npub string");this.nostrPublic=t,this.publicKeyHex=o.toString(),this.nostrSecret=void 0,this.privateKeyHex=void 0}}static fromPubkey(t){return new oo(Ca.npubEncode(t))}static fromNostrSecret(t){return new oo(t)}static fromNostrSecretHex(t){return new oo(Ca.nsecEncode(t))}static create(){return this.fromNostrSecretHex(Vz())}toString(){return this.publicKeyHex}}var Pi=function(e){return e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Repost=6]="Repost",e[e.Reaction=7]="Reaction",e[e.BadgeAward=8]="BadgeAward",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.Report=1984]="Report",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.MuteList=1e4]="MuteList",e[e.PinList=10001]="PinList",e[e.RelayList=10002]="RelayList",e[e.ClientAuth=22242]="ClientAuth",e[e.NostrConnect=24133]="NostrConnect",e[e.CategorizedPeopleList=3e4]="CategorizedPeopleList",e[e.CategorizedBookmarkList=30001]="CategorizedBookmarkList",e[e.ProfileBadge=30008]="ProfileBadge",e[e.BadgeDefinition=30009]="BadgeDefinition",e[e.Article=30023]="Article",e[e.AppSpecificData=30078]="AppSpecificData",e[e.UserStatuses=30315]="UserStatuses",e}(Pi||{});let SN=(()=>{class e{constructor(){this.WANNACHAT_STATUS_DEFAULT_TIMEOUT_IN_MS=1e4}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),nw=(()=>{class e{constructor(r){this.globalConfigService=r}getCurrentTimestamp(){return Math.floor(Date.now()/1e3)}getExpirationTimestamp(r=this.globalConfigService.WANNACHAT_STATUS_DEFAULT_TIMEOUT_IN_MS){const i=Math.floor(Date.now()/1e3)+r;return String(i)}createEncryptedDirectMessage(r,o,i){var s=this;return V(function*(){const a=yield ju.encrypt(r.publicKeyHex,o.publicKeyHex,i),c={kind:Pi.EncryptedDirectMessage,content:a,created_at:s.getCurrentTimestamp(),tags:[["p",o.publicKeyHex]]},u=er(c,r.privateKeyHex);return Promise.resolve(u)})()}createWannaChatUserStatus(r){return this.createUserStatus(r,"wannachat",[["expiration",this.getExpirationTimestamp()],["t","wannachat"]])}createDisconnectedUserStatus(r){return this.createUserStatus(r,"disconnected")}createTypingUserStatus(r){return this.createUserStatus(r,"typing")}createChatingUserStatus(r,o){return this.createUserStatus(r,"chating",[["p",o.publicKeyHex]])}cleanUserStatus(r){return this.createUserStatus(r,"")}createUserStatus(r,o,i){const s=[["d","general"],...i||[],["t","omegle"]],a={id:"",kind:Pi.UserStatuses,content:o,pubkey:r.publicKeyHex,created_at:this.getCurrentTimestamp(),tags:s};return er(a,r.privateKeyHex)}static#e=this.\u0275fac=function(o){return new(o||e)(J(SN))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();"object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date;const rw="object"==typeof process&&process?process:{};let bh=globalThis.AbortController,TN=globalThis.AbortSignal;if(typeof bh>"u"){TN=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(o,i){this._onabort.push(i)}},bh=class{constructor(){t()}signal=new TN;abort(o){if(!this.signal.aborted){this.signal.reason=o,this.signal.aborted=!0;for(const i of this.signal._onabort)i(o);this.signal.onabort?.(o)}}};let e="1"!==rw.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,((e,t,r,o)=>{"function"==typeof rw.emitWarning?rw.emitWarning(e,t,r,o):console.error(`[${r}] ${t}: ${e}`)})("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var MN,NN;Symbol("type"),Symbol,Symbol,MN=Symbol.iterator,NN=Symbol.toStringTag;class On{cache;constructor(t){this.cache=t??new Map}get size(){return this.cache.size}add(t){this.#e(t);for(const r of this){if(On.deletes(r,t)||On.replaces(r,t))return this;On.replaces(t,r)&&this.delete(r)}return this.cache.set(t.id,t),this}#e(t){if(5===t.kind)for(const r of t.tags)if("e"===r[0]){const o=this.cache.get(r[1]);o&&o.pubkey===t.pubkey&&this.delete(o)}}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,r){return this.cache.forEach((o,i)=>t(o,o,this),r)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of On.sortEvents([...this.cache.values()]))yield t}[MN](){return this.values()}[NN]="NSet";static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isParameterizedReplaceable(t){return 3e4<=t&&t<4e4}static replaces(t,r){const{kind:o,pubkey:i}=t;if(On.isReplaceable(o))return o===r.kind&&i===r.pubkey&&On.sortEvents([t,r])[0]===t;if(On.isParameterizedReplaceable(o)){const s=t.tags.find(([c])=>"d"===c)?.[1]||"",a=r.tags.find(([c])=>"d"===c)?.[1]||"";return o===r.kind&&i===r.pubkey&&On.sortEvents([t,r])[0]===t&&s===a}return!1}static deletes(t,r){const{kind:o,pubkey:i,tags:s}=t;if(5===o&&i===r.pubkey)for(const[a,c]of s)if("e"===a&&c===r.id)return!0;return!1}static sortEvents(t){return t.sort((r,o)=>r.created_at!==o.created_at?o.created_at-r.created_at:r.id.localeCompare(o.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}}function xa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function tr(e,...t){if(!function DW(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function $u(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Symbol;const Ta="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Li=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Pr=(e,t)=>e<<32-t|e>>>t;function PN(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Fi(e){return"string"==typeof e&&(e=PN(e)),tr(e),e}new Uint8Array(new Uint32Array([287454020]).buffer);class LN{clone(){return this._cloneInto()}}function aw(e){const t=o=>e().update(Fi(o)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function NW(e=32){if(Ta&&"function"==typeof Ta.getRandomValues)return Ta.getRandomValues(new Uint8Array(e));if(Ta&&"function"==typeof Ta.randomBytes)return Ta.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class FN extends LN{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,function iw(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");xa(e.outputLen),xa(e.blockLen)}(t);const o=Fi(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?t.create().update(o).digest():o);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return $u(this),this.iHash.update(t),this}digestInto(t){$u(this),tr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:o,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return t.finished=i,t.destroyed=s,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=o._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vu=(e,t,r)=>new FN(e,t).update(r).digest();Vu.create=(e,t)=>new FN(e,t);const OW=(e,t,r)=>e&t^~e&r,kW=(e,t,r)=>e&t^e&r^t&r;class cw extends LN{constructor(t,r,o,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Li(this.buffer)}update(t){$u(this);const{view:r,buffer:o,blockLen:i}=this,s=(t=Fi(t)).length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c!==i)o.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0);else{const u=Li(t);for(;i<=s-a;a+=i)this.process(u,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){$u(this),function ON(e,t){tr(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(t,this),this.finished=!0;const{buffer:r,view:o,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let f=a;f<i;f++)r[f]=0;(function RW(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)})(o,i-8,BigInt(8*this.length),s),this.process(o,0);const c=Li(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:o,length:i,finished:s,destroyed:a,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=a,i%r&&t.buffer.set(o),t}}const PW=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),BN=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),LW=BN.map(e=>(9*e+5)%16);let uw=[BN],lw=[LW];for(let e=0;e<4;e++)for(let t of[uw,lw])t.push(t[e].map(r=>PW[r]));const VW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ho=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vo=new Uint32Array(64);class $N extends cw{constructor(){super(64,32,8,!1),this.A=0|Ho[0],this.B=0|Ho[1],this.C=0|Ho[2],this.D=0|Ho[3],this.E=0|Ho[4],this.F=0|Ho[5],this.G=0|Ho[6],this.H=0|Ho[7]}get(){const{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;return[t,r,o,i,s,a,c,u]}set(t,r,o,i,s,a,c,u){this.A=0|t,this.B=0|r,this.C=0|o,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|c,this.H=0|u}process(t,r){for(let f=0;f<16;f++,r+=4)Vo[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=Vo[f-15],p=Vo[f-2],g=Pr(h,7)^Pr(h,18)^h>>>3,m=Pr(p,17)^Pr(p,19)^p>>>10;Vo[f]=m+Vo[f-7]+g+Vo[f-16]|0}let{A:o,B:i,C:s,D:a,E:c,F:u,G:l,H:d}=this;for(let f=0;f<64;f++){const p=d+(Pr(c,6)^Pr(c,11)^Pr(c,25))+OW(c,u,l)+VW[f]+Vo[f]|0,m=(Pr(o,2)^Pr(o,13)^Pr(o,22))+kW(o,i,s)|0;d=l,l=u,u=c,c=a+p|0,a=s,s=i,i=o,o=p+m|0}o=o+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(o,i,s,a,c,u,l,d)}roundClean(){Vo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const dw=aw(()=>new $N),Ch=BigInt(2**32-1),fw=BigInt(32);function HN(e,t=!1){return t?{h:Number(e&Ch),l:Number(e>>fw&Ch)}:{h:0|Number(e>>fw&Ch),l:0|Number(e&Ch)}}const ge_split=function zW(e,t=!1){let r=new Uint32Array(e.length),o=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=HN(e[i],t);[r[i],o[i]]=[s,a]}return[r,o]},[iZ,sZ]=ge_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),pw=BigInt(0),Ih=BigInt(1),aZ=BigInt(2);function Bi(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function zu(e){if(!Bi(e))throw new Error("Uint8Array expected")}function Aa(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}const cZ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ma(e){zu(e);let t="";for(let r=0;r<e.length;r++)t+=cZ[e[r]];return t}function Na(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function VN(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const so={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function zN(e){return e>=so._0&&e<=so._9?e-so._0:e>=so._A&&e<=so._F?e-(so._A-10):e>=so._a&&e<=so._f?e-(so._a-10):void 0}function Ra(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const o=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const a=zN(e.charCodeAt(s)),c=zN(e.charCodeAt(s+1));if(void 0===a||void 0===c)throw new Error('hex string expected, got non-hex character "'+(e[s]+e[s+1])+'" at index '+s);o[i]=16*a+c}return o}function Ui(e){return VN(Ma(e))}function gw(e){return zu(e),VN(Ma(Uint8Array.from(e).reverse()))}function Oa(e,t){return Ra(e.toString(16).padStart(2*t,"0"))}function mw(e,t){return Oa(e,t).reverse()}function nr(e,t,r){let o;if("string"==typeof t)try{o=Ra(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else{if(!Bi(t))throw new Error(`${e} must be hex string or Uint8Array`);o=Uint8Array.from(t)}const i=o.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return o}function qu(...e){let t=0;for(let o=0;o<e.length;o++){const i=e[o];zu(i),t+=i.length}const r=new Uint8Array(t);for(let o=0,i=0;o<e.length;o++){const s=e[o];r.set(s,i),i+=s.length}return r}const yw=e=>"bigint"==typeof e&&pw<=e;function xh(e,t,r){return yw(e)&&yw(t)&&yw(r)&&t<=e&&e<r}function ji(e,t,r,o){if(!xh(t,r,o))throw new Error(`expected valid ${e}: ${r} <= n < ${o}, got ${typeof t} ${t}`)}function qN(e){let t;for(t=0;e>pw;e>>=Ih,t+=1);return t}const vw=e=>(aZ<<BigInt(e-1))-Ih,ww=e=>new Uint8Array(e),GN=e=>Uint8Array.from(e);function WN(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let o=ww(e),i=ww(e),s=0;const a=()=>{o.fill(1),i.fill(0),s=0},c=(...f)=>r(i,o,...f),u=(f=ww())=>{i=c(GN([0]),f),o=c(),0!==f.length&&(i=c(GN([1]),f),o=c())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){o=c();const p=o.slice();h.push(p),f+=o.length}return qu(...h)};return(f,h)=>{let p;for(a(),u(f);!(p=h(l()));)u();return a(),p}}const uZ={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Bi(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Gu(e,t,r={}){const o=(i,s,a)=>{const c=uZ[s];if("function"!=typeof c)throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(a&&void 0===u||c(u,e)))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))o(i,s,!1);for(const[i,s]of Object.entries(r))o(i,s,!0);return e}function bw(e){const t=new WeakMap;return(r,...o)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...o);return t.set(r,s),s}}const vt=BigInt(0),Ue=BigInt(1),Go=BigInt(2),lZ=BigInt(3),_w=BigInt(4),ZN=BigInt(5),KN=BigInt(8);function Tt(e,t){const r=e%t;return r>=vt?r:t+r}function hZ(e,t,r){if(r<=vt||t<vt)throw new Error("Expected power/modulo > 0");if(r===Ue)return vt;let o=Ue;for(;t>vt;)t&Ue&&(o=o*e%r),e=e*e%r,t>>=Ue;return o}function kn(e,t,r){let o=e;for(;t-- >vt;)o*=o,o%=r;return o}function Th(e,t){if(e===vt||t<=vt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Tt(e,t),o=t,i=vt,s=Ue,a=Ue,c=vt;for(;r!==vt;){const l=o/r,d=o%r,f=i-a*l,h=s-c*l;o=r,r=d,i=a,s=c,a=f,c=h}if(o!==Ue)throw new Error("invert: does not exist");return Tt(i,t)}BigInt(9),BigInt(16);const mZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ew(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function YN(e,t,r=!1,o={}){if(e<=vt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Ew(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function gZ(e){if(e%_w===lZ){const t=(e+Ue)/_w;return function(o,i){const s=o.pow(i,t);if(!o.eql(o.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%KN===ZN){const t=(e-ZN)/KN;return function(o,i){const s=o.mul(i,Go),a=o.pow(s,t),c=o.mul(i,a),u=o.mul(o.mul(c,Go),a),l=o.mul(c,o.sub(u,o.ONE));if(!o.eql(o.sqr(l),i))throw new Error("Cannot find square root");return l}}return function pZ(e){const t=(e-Ue)/Go;let r,o,i;for(r=e-Ue,o=0;r%Go===vt;r/=Go,o++);for(i=Go;i<e&&hZ(i,t,e)!==e-Ue;i++);if(1===o){const a=(e+Ue)/_w;return function(u,l){const d=u.pow(l,a);if(!u.eql(u.sqr(d),l))throw new Error("Cannot find square root");return d}}const s=(r+Ue)/Go;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let l=o,d=c.pow(c.mul(c.ONE,i),r),f=c.pow(u,s),h=c.pow(u,r);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let m=c.sqr(h);p<l&&!c.eql(m,c.ONE);p++)m=c.sqr(m);const g=c.pow(d,Ue<<BigInt(l-p-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),l=p}return f}}(e)}(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:vw(i),ZERO:vt,ONE:Ue,create:u=>Tt(u,e),isValid:u=>{if("bigint"!=typeof u)throw new Error("Invalid field element: expected bigint, got "+typeof u);return vt<=u&&u<e},is0:u=>u===vt,isOdd:u=>(u&Ue)===Ue,neg:u=>Tt(-u,e),eql:(u,l)=>u===l,sqr:u=>Tt(u*u,e),add:(u,l)=>Tt(u+l,e),sub:(u,l)=>Tt(u-l,e),mul:(u,l)=>Tt(u*l,e),pow:(u,l)=>function vZ(e,t,r){if(r<vt)throw new Error("Expected power > 0");if(r===vt)return e.ONE;if(r===Ue)return t;let o=e.ONE,i=t;for(;r>vt;)r&Ue&&(o=e.mul(o,i)),i=e.sqr(i),r>>=Ue;return o}(c,u,l),div:(u,l)=>Tt(u*Th(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>Th(u,e),sqrt:o.sqrt||(u=>a(c,u)),invertBatch:u=>function wZ(e,t){const r=new Array(t.length),o=t.reduce((s,a,c)=>e.is0(a)?s:(r[c]=s,e.mul(s,a)),e.ONE),i=e.inv(o);return t.reduceRight((s,a,c)=>e.is0(a)?s:(r[c]=e.mul(s,r[c]),e.mul(s,a)),i),r}(c,u),cmov:(u,l,d)=>d?l:u,toBytes:u=>r?mw(u,s):Oa(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?gw(u):Ui(u)}});return Object.freeze(c)}function QN(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function JN(e){const t=QN(e);return t+Math.ceil(t/2)}const EZ=BigInt(0),Dw=BigInt(1),Cw=new WeakMap,XN=new WeakMap;function e2(e){return function yZ(e){Gu(e,mZ.reduce((o,i)=>(o[i]="function",o),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Gu(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ew(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function t2(e){void 0!==e.lowS&&Aa("lowS",e.lowS),void 0!==e.prehash&&Aa("prehash",e.prehash)}const{Ph:IZ,aT:xZ}=Kh,ao={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:r}=ao;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const o=t.length/2,i=Na(o);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=o>127?Na(i.length/2|128):"";return`${Na(e)}${s}${i}${t}`},decode(e,t){const{Err:r}=ao;let o=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[o++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[o++];let a=0;if(128&i){const u=127&i;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");const l=t.subarray(o,o+u);if(l.length!==u)throw new r("tlv.decode: length bytes not complete");if(0===l[0])throw new r("tlv.decode(long): zero leftmost byte");for(const d of l)a=a<<8|d;if(o+=u,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;const c=t.subarray(o,o+a);if(c.length!==a)throw new r("tlv.decode: wrong value length");return{v:c,l:t.subarray(o+a)}}},_int:{encode(e){const{Err:t}=ao;if(e<rr)throw new t("integer: negative integers are not allowed");let r=Na(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected assertion");return r},decode(e){const{Err:t}=ao;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return IZ(e)}},toSig(e){const{Err:t,_int:r,_tlv:o}=ao,i="string"==typeof e?xZ(e):e;zu(i);const{v:s,l:a}=o.decode(48,i);if(a.length)throw new t("Invalid signature: left bytes after parsing");const{v:c,l:u}=o.decode(2,s),{v:l,l:d}=o.decode(2,u);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=ao,o=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,o)}},rr=BigInt(0),Le=BigInt(1),Ah=(BigInt(2),BigInt(3));function MZ(e){const t=function AZ(e){const t=e2(e);return Gu(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:o}=t,i=r.BYTES+1,s=2*r.BYTES+1;function a(A){return Tt(A,o)}function c(A){return Th(A,o)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=function TZ(e){const t=function SZ(e){const t=e2(e);Gu(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:o,a:i}=t;if(r){if(!o.eql(i,o.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,o=YN(t.n,t.nBitLength),i=t.toBytes||((m,y,v)=>{const w=y.toAffine();return qu(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),s=t.fromBytes||(m=>{const y=m.subarray(1);return{x:r.fromBytes(y.subarray(0,r.BYTES)),y:r.fromBytes(y.subarray(r.BYTES,2*r.BYTES))}});function a(m){const{a:y,b:v}=t,w=r.sqr(m),b=r.mul(w,m);return r.add(r.add(b,r.mul(m,y)),v)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function u(m){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:w,n:b}=t;if(y&&"bigint"!=typeof m){if(Bi(m)&&(m=Ma(m)),"string"!=typeof m||!y.includes(m.length))throw new Error("Invalid key");m=m.padStart(2*v,"0")}let _;try{_="bigint"==typeof m?m:Ui(nr("private key",m,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof m}`)}return w&&(_=Tt(_,b)),ji("private key",_,Le,b),_}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const d=bw((m,y)=>{const{px:v,py:w,pz:b}=m;if(r.eql(b,r.ONE))return{x:v,y:w};const _=m.is0();null==y&&(y=_?r.ONE:r.inv(b));const D=r.mul(v,y),E=r.mul(w,y),S=r.mul(b,y);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:D,y:E}}),f=bw(m=>{if(m.is0()){if(t.allowInfinityPoint&&!r.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=m.toAffine();if(!r.isValid(y)||!r.isValid(v))throw new Error("bad point: x or y not FE");const w=r.sqr(v),b=a(y);if(!r.eql(w,b))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,v,w){if(this.px=y,this.py=v,this.pz=w,null==y||!r.isValid(y))throw new Error("x required");if(null==v||!r.isValid(v))throw new Error("y required");if(null==w||!r.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:v,y:w}=y||{};if(!y||!r.isValid(v)||!r.isValid(w))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const b=_=>r.eql(_,r.ZERO);return b(v)&&b(w)?h.ZERO:new h(v,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(v[b])).map(h.fromAffine)}static fromHex(y){const v=h.fromAffine(s(nr("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return h.BASE.multiply(u(y))}static msm(y,v){return function CZ(e,t,r,o){if(!Array.isArray(r)||!Array.isArray(o)||o.length!==r.length)throw new Error("arrays of points and scalars must have equal length");o.forEach((d,f)=>{if(!t.isValid(d))throw new Error(`wrong scalar at index ${f}`)}),r.forEach((d,f)=>{if(!(d instanceof e))throw new Error(`wrong point at index ${f}`)});const i=qN(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,c=new Array(a+1).fill(e.ZERO),u=Math.floor((t.BITS-1)/s)*s;let l=e.ZERO;for(let d=u;d>=0;d-=s){c.fill(e.ZERO);for(let h=0;h<o.length;h++){const g=Number(o[h]>>BigInt(d)&BigInt(a));c[g]=c[g].add(r[h])}let f=e.ZERO;for(let h=c.length-1,p=e.ZERO;h>0;h--)p=p.add(c[h]),f=f.add(p);if(l=l.add(f),0!==d)for(let h=0;h<s;h++)l=l.double()}return l}(h,o,y,v)}_setWindowSize(y){g.setWindowSize(this,y)}assertValidity(){f(this)}hasEvenY(){const{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:v,py:w,pz:b}=this,{px:_,py:D,pz:E}=y,S=r.eql(r.mul(v,E),r.mul(_,b)),I=r.eql(r.mul(w,E),r.mul(D,b));return S&&I}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,w=r.mul(v,Ah),{px:b,py:_,pz:D}=this;let E=r.ZERO,S=r.ZERO,I=r.ZERO,R=r.mul(b,b),j=r.mul(_,_),F=r.mul(D,D),H=r.mul(b,_);return H=r.add(H,H),I=r.mul(b,D),I=r.add(I,I),E=r.mul(y,I),S=r.mul(w,F),S=r.add(E,S),E=r.sub(j,S),S=r.add(j,S),S=r.mul(E,S),E=r.mul(H,E),I=r.mul(w,I),F=r.mul(y,F),H=r.sub(R,F),H=r.mul(y,H),H=r.add(H,I),I=r.add(R,R),R=r.add(I,R),R=r.add(R,F),R=r.mul(R,H),S=r.add(S,R),F=r.mul(_,D),F=r.add(F,F),R=r.mul(F,H),E=r.sub(E,R),I=r.mul(F,j),I=r.add(I,I),I=r.add(I,I),new h(E,S,I)}add(y){l(y);const{px:v,py:w,pz:b}=this,{px:_,py:D,pz:E}=y;let S=r.ZERO,I=r.ZERO,R=r.ZERO;const j=t.a,F=r.mul(t.b,Ah);let H=r.mul(v,_),Y=r.mul(w,D),A=r.mul(b,E),C=r.add(v,w),x=r.add(_,D);C=r.mul(C,x),x=r.add(H,Y),C=r.sub(C,x),x=r.add(v,b);let M=r.add(_,E);return x=r.mul(x,M),M=r.add(H,A),x=r.sub(x,M),M=r.add(w,b),S=r.add(D,E),M=r.mul(M,S),S=r.add(Y,A),M=r.sub(M,S),R=r.mul(j,x),S=r.mul(F,A),R=r.add(S,R),S=r.sub(Y,R),R=r.add(Y,R),I=r.mul(S,R),Y=r.add(H,H),Y=r.add(Y,H),A=r.mul(j,A),x=r.mul(F,x),Y=r.add(Y,A),A=r.sub(H,A),A=r.mul(j,A),x=r.add(x,A),H=r.mul(Y,x),I=r.add(I,H),H=r.mul(M,x),S=r.mul(C,S),S=r.sub(S,H),H=r.mul(C,Y),R=r.mul(M,R),R=r.add(R,H),new h(S,I,R)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return g.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){ji("scalar",y,rr,t.n);const v=h.ZERO;if(y===rr)return v;if(y===Le)return this;const{endo:w}=t;if(!w)return g.unsafeLadder(this,y);let{k1neg:b,k1:_,k2neg:D,k2:E}=w.splitScalar(y),S=v,I=v,R=this;for(;_>rr||E>rr;)_&Le&&(S=S.add(R)),E&Le&&(I=I.add(R)),R=R.double(),_>>=Le,E>>=Le;return b&&(S=S.negate()),D&&(I=I.negate()),I=new h(r.mul(I.px,w.beta),I.py,I.pz),S.add(I)}multiply(y){const{endo:v,n:w}=t;let b,_;if(ji("scalar",y,Le,w),v){const{k1neg:D,k1:E,k2neg:S,k2:I}=v.splitScalar(y);let{p:R,f:j}=this.wNAF(E),{p:F,f:H}=this.wNAF(I);R=g.constTimeNegate(D,R),F=g.constTimeNegate(S,F),F=new h(r.mul(F.px,v.beta),F.py,F.pz),b=R.add(F),_=j.add(H)}else{const{p:D,f:E}=this.wNAF(y);b=D,_=E}return h.normalizeZ([b,_])[0]}multiplyAndAddUnsafe(y,v,w){const b=h.BASE,_=(E,S)=>S!==rr&&S!==Le&&E.equals(b)?E.multiply(S):E.multiplyUnsafe(S),D=_(this,v).add(_(y,w));return D.is0()?void 0:D}toAffine(y){return d(this,y)}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===Le)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===Le?this:v?v(h,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Aa("isCompressed",y),this.assertValidity(),i(h,this,y)}toHex(y=!0){return Aa("isCompressed",y),Ma(this.toRawBytes(y))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,g=function DZ(e,t){const r=(s,a)=>{const c=a.negate();return s?c:a},o=s=>{if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error(`Wrong window size=${s}, should be [1..${t}]`)},i=s=>(o(s),{windows:Math.ceil(t/s)+1,windowSize:2**(s-1)});return{constTimeNegate:r,unsafeLadder(s,a){let c=e.ZERO,u=s;for(;a>EZ;)a&Dw&&(c=c.add(u)),u=u.double(),a>>=Dw;return c},precomputeWindow(s,a){const{windows:c,windowSize:u}=i(a),l=[];let d=s,f=d;for(let h=0;h<c;h++){f=d,l.push(f);for(let p=1;p<u;p++)f=f.add(d),l.push(f);d=f.double()}return l},wNAF(s,a,c){const{windows:u,windowSize:l}=i(s);let d=e.ZERO,f=e.BASE;const h=BigInt(2**s-1),p=2**s,g=BigInt(s);for(let m=0;m<u;m++){const y=m*l;let v=Number(c&h);c>>=g,v>l&&(v-=p,c+=Dw);const w=y,b=y+Math.abs(v)-1,D=v<0;0===v?f=f.add(r(m%2!=0,a[w])):d=d.add(r(D,a[b]))}return{p:d,f}},wNAFCached(s,a,c){const u=XN.get(s)||1;let l=Cw.get(s);return l||(l=this.precomputeWindow(s,u),1!==u&&Cw.set(s,c(l))),this.wNAF(u,l,a)},setWindowSize(s,a){o(a),XN.set(s,a),Cw.delete(s)}}}(h,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:function c(m){return xh(m,Le,t.n)}}}({...t,toBytes(A,C,x){const M=C.toAffine(),B=r.toBytes(M.x),N=qu;return Aa("isCompressed",x),x?N(Uint8Array.from([C.hasEvenY()?2:3]),B):N(Uint8Array.from([4]),B,r.toBytes(M.y))},fromBytes(A){const C=A.length,x=A[0],M=A.subarray(1);if(C!==i||2!==x&&3!==x){if(C===s&&4===x)return{x:r.fromBytes(M.subarray(0,r.BYTES)),y:r.fromBytes(M.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${C} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const B=Ui(M);if(!xh(B,Le,r.ORDER))throw new Error("Point is not on curve");const N=d(B);let Q;try{Q=r.sqrt(N)}catch(Ae){const Ke=Ae instanceof Error?": "+Ae.message:"";throw new Error("Point is not on curve"+Ke)}return!(1&~x)!=((Q&Le)===Le)&&(Q=r.neg(Q)),{x:B,y:Q}}}}),h=A=>Ma(Oa(A,t.nByteLength));function p(A){return A>o>>Le}const m=(A,C,x)=>Ui(A.slice(C,x));class y{constructor(C,x,M){this.r=C,this.s=x,this.recovery=M,this.assertValidity()}static fromCompact(C){const x=t.nByteLength;return C=nr("compactSignature",C,2*x),new y(m(C,0,x),m(C,x,2*x))}static fromDER(C){const{r:x,s:M}=ao.toSig(nr("DER",C));return new y(x,M)}assertValidity(){ji("r",this.r,Le,o),ji("s",this.s,Le,o)}addRecoveryBit(C){return new y(this.r,this.s,C)}recoverPublicKey(C){const{r:x,s:M,recovery:B}=this,N=E(nr("msgHash",C));if(null==B||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const Q=2===B||3===B?x+t.n:x;if(Q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const ce=u.fromHex((1&B?"03":"02")+h(Q)),Ae=c(Q),Ke=a(-N*Ae),wt=a(M*Ae),ot=u.BASE.multiplyAndAddUnsafe(ce,Ke,wt);if(!ot)throw new Error("point at infinify");return ot.assertValidity(),ot}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ra(this.toDERHex())}toDERHex(){return ao.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ra(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(A){try{return l(A),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const A=JN(t.n);return function _Z(e,t,r=!1){const o=e.length,i=QN(t),s=JN(t);if(o<16||o<s||o>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${o}`);const c=Tt(r?Ui(e):gw(e),t-Ue)+Ue;return r?mw(c,i):Oa(c,i)}(t.randomBytes(A),t.n)},precompute:(A=8,C=u.BASE)=>(C._setWindowSize(A),C.multiply(BigInt(3)),C)};function b(A){const C=Bi(A),x="string"==typeof A,M=(C||x)&&A.length;return C?M===i||M===s:x?M===2*i||M===2*s:A instanceof u}const D=t.bits2int||function(A){const C=Ui(A),x=8*A.length-t.nBitLength;return x>0?C>>BigInt(x):C},E=t.bits2int_modN||function(A){return a(D(A))},S=vw(t.nBitLength);function I(A){return ji(`num < 2^${t.nBitLength}`,A,rr,S),Oa(A,t.nByteLength)}const j={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function w(A,C=!0){return u.fromPrivateKey(A).toRawBytes(C)},getSharedSecret:function _(A,C,x=!0){if(b(A))throw new Error("first arg must be private key");if(!b(C))throw new Error("second arg must be public key");return u.fromHex(C).multiply(l(A)).toRawBytes(x)},sign:function H(A,C,x=j){const{seed:M,k2sig:B}=function R(A,C,x=j){if(["recovered","canonical"].some(Dt=>Dt in x))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:B}=t;let{lowS:N,prehash:Q,extraEntropy:ee}=x;null==N&&(N=!0),A=nr("msgHash",A),t2(x),Q&&(A=nr("prehashed msgHash",M(A)));const ce=E(A),Ae=l(C),Ke=[I(Ae),I(ce)];if(null!=ee&&!1!==ee){const Dt=!0===ee?B(r.BYTES):ee;Ke.push(nr("extraEntropy",Dt))}const wt=qu(...Ke),ot=ce;return{seed:wt,k2sig:function bt(Dt){const it=D(Dt);if(!f(it))return;const fo=c(it),En=u.BASE.multiply(it).toAffine(),At=a(En.x);if(At===rr)return;const ir=a(fo*a(ot+At*Ae));if(ir===rr)return;let Gi=(En.x===At?0:2)|Number(En.y&Le),ul=ir;return N&&p(ir)&&(ul=function g(A){return p(A)?a(-A):A}(ir),Gi^=1),new y(At,ul,Gi)}}}(A,C,x);return WN(t.hash.outputLen,t.nByteLength,t.hmac)(M,B)},verify:function Y(A,C,x,M=F){const B=A;if(C=nr("msgHash",C),x=nr("publicKey",x),"strict"in M)throw new Error("options.strict was renamed to lowS");t2(M);const{lowS:N,prehash:Q}=M;let ee,ce;try{if("string"==typeof B||Bi(B))try{ee=y.fromDER(B)}catch(En){if(!(En instanceof ao.Err))throw En;ee=y.fromCompact(B)}else{if("object"!=typeof B||"bigint"!=typeof B.r||"bigint"!=typeof B.s)throw new Error("PARSE");{const{r:En,s:At}=B;ee=new y(En,At)}}ce=u.fromHex(x)}catch(En){if("PARSE"===En.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(N&&ee.hasHighS())return!1;Q&&(C=t.hash(C));const{r:Ae,s:Ke}=ee,wt=E(C),ot=c(Ke),bt=a(wt*ot),Dt=a(Ae*ot),it=u.BASE.multiplyAndAddUnsafe(ce,bt,Dt)?.toAffine();return!!it&&a(it.x)===Ae},ProjectivePoint:u,Signature:y,utils:v}}function RZ(e){return{hash:e,hmac:(t,...r)=>Vu(e,t,function Hu(...e){let t=0;for(let o=0;o<e.length;o++){const i=e[o];tr(i),t+=i.length}const r=new Uint8Array(t);for(let o=0,i=0;o<e.length;o++){const s=e[o];r.set(s,i),i+=s.length}return r}(...r)),randomBytes:NW}}BigInt(4);const Wu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Mh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zu=BigInt(1),Nh=BigInt(2),r2=(e,t)=>(e+t/Nh)/t;const Sw=YN(Wu,void 0,void 0,{sqrt:function o2(e){const t=Wu,r=BigInt(3),o=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),l=e*e*e%t,d=l*l*e%t,f=kn(d,r,t)*d%t,h=kn(f,r,t)*d%t,p=kn(h,Nh,t)*l%t,g=kn(p,i,t)*p%t,m=kn(g,s,t)*g%t,y=kn(m,c,t)*m%t,v=kn(y,u,t)*y%t,w=kn(v,c,t)*m%t,b=kn(w,r,t)*d%t,_=kn(b,a,t)*g%t,D=kn(_,o,t)*l%t,E=kn(D,Nh,t);if(!Sw.eql(Sw.sqr(E),e))throw new Error("Cannot find square root");return E}});(function OZ(e,t){const r=o=>MZ({...e,...RZ(o)});Object.freeze({...r(t),create:r})})({a:BigInt(0),b:BigInt(7),Fp:Sw,n:Mh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Mh,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-Zu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=r2(s*e,t),u=r2(-o*e,t);let l=Tt(e-c*r-u*i,t),d=Tt(-c*o-u*s,t);const f=l>a,h=d>a;if(f&&(l=t-l),h&&(d=t-d),l>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:h,k2:d}}}},dw),BigInt(0);var x2;function I2(e,t){this.v=e,this.k=t}function Zo(e){return new I2(e,0)}function Xu(e){var t,r;function o(s,a){try{var c=e[s](a),u=c.value,l=u instanceof I2;Promise.resolve(l?u.v:u).then(function(d){if(l){var f="return"===s?"return":"next";if(!u.k||d.done)return o(f,d);d=e[f](d).value}i(c.done?"return":"normal",d)},function(d){o("throw",d)})}catch(d){i("throw",d)}}function i(s,a){switch(s){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?o(t.key,t.arg):r=null}this._invoke=function(s,a){return new Promise(function(c,u){var l={key:s,arg:a,resolve:c,reject:u,next:null};r?r=r.next=l:(t=r=l,o(s,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Bh(e){return function(){return new Xu(e.apply(this,arguments))}}function Vi(e){var t,r,o,i=2;for(typeof Symbol<"u"&&(r=Symbol.asyncIterator,o=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(o&&null!=(t=e[o]))return new Uh(t.call(e));r="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function Uh(e){function t(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var o=r.done;return Promise.resolve(r.value).then(function(i){return{value:i,done:o}})}return(Uh=function(o){this.s=o,this.n=o.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(o){var i=this.s.return;return void 0===i?Promise.resolve({value:o,done:!0}):t(i.apply(this.s,arguments))},throw:function(o){var i=this.s.return;return void 0===i?Promise.reject(o):t(i.apply(this.s,arguments))}},new Uh(e)}PN("Bitcoin seed"),new TextEncoder,(new TextEncoder).encode("0123456789abcdef"),new TextEncoder,new TextDecoder,Xu.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Xu.prototype.next=function(e){return this._invoke("next",e)},Xu.prototype.throw=function(e){return this._invoke("throw",e)},Xu.prototype.return=function(e){return this._invoke("return",e)},x2=Symbol.asyncIterator;class T2{#e=[];#t;#r=!1;constructor(t){t?.aborted?this.abort():t?.addEventListener("abort",()=>this.abort(),{once:!0})}[x2](){var t=this;return Bh(function*(){for(;!t.#r;)t.#e.length?yield t.#e.shift():yield Zo(new Promise(r=>{t.#t=r}));throw new DOMException("The signal has been aborted","AbortError")})()}push(t){this.#e.push(t),this.#t?.()}abort(){this.#r=!0,this.#t?.()}}class A2{static regular(t){return 1e3<=t&&t<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(t)}static replaceable(t){return 1e4<=t&&t<2e4||[0,3].includes(t)}static ephemeral(t){return 2e4<=t&&t<3e4}static parameterizedReplaceable(t){return 3e4<=t&&t<4e4}}class aK{opts;relays;constructor(t){this.opts=t,this.relays=new Map}relay(t){const r=this.relays.get(t);if(r)return r;{const o=this.opts.open(t);return this.relays.set(t,o),o}}req(t,r){var o=this;return Bh(function*(){const i=new AbortController,s=r?.signal?AbortSignal.any([r.signal,i.signal]):i.signal,a=yield Zo(o.opts.reqRouter(t));if(a.size<1)return;const c=new T2(s),u=new Set,l=new Set;for(const m of a.keys()){const y=o.relay(m);V(function*(){var b,v=!1,w=!1;try{for(var D,_=Vi(y.req(t,{signal:s}));v=!(D=yield _.next()).done;v=!1){const E=D.value;"EOSE"===E[0]&&(u.add(m),u.size===a.size&&c.push(E)),"CLOSED"===E[0]&&(l.add(m),l.size===a.size&&c.push(E)),"EVENT"===E[0]&&c.push(E)}}catch(E){w=!0,b=E}finally{try{v&&null!=_.return&&(yield _.return())}finally{if(w)throw b}}})().catch(()=>{})}try{var h,d=!1,f=!1;try{for(var g,p=Vi(c);d=!(g=yield Zo(p.next())).done;d=!1)yield g.value}catch(m){f=!0,h=m}finally{try{d&&null!=p.return&&(yield Zo(p.return()))}finally{if(f)throw h}}}finally{i.abort()}})()}event(t,r){var o=this;return V(function*(){const i=yield o.opts.eventRouter(t);i.length<1||(yield Promise.any(i.map(s=>o.relay(s).event(t,r))))})()}query(t,r){var o=this;return V(function*(){const i=new On,s=t.reduce((h,p)=>h+KM(p),0);if(0===s)return[];const a=t.reduce((h,p)=>h||!!p.kinds?.some(g=>A2.replaceable(g)||A2.parameterizedReplaceable(g)),!1);try{var l,c=!1,u=!1;try{for(var f,d=Vi(o.req(t,r));c=!(f=yield d.next()).done;c=!1){const h=f.value;if("EOSE"===h[0])break;if("EVENT"===h[0]&&i.add(h[2]),"CLOSED"===h[0])throw new Error("Subscription closed");if(!a&&i.size>=s)break}}catch(h){u=!0,l=h}finally{try{c&&null!=d.return&&(yield d.return())}finally{if(u)throw l}}}catch{}return[...i]})()}}class cK{constructor(t,r){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(void 0!==r&&(!Number.isInteger(r)||r<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=r,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=void 0===this.expMax?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}var De,je=function(e){return e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect",e}(je||{});class uK{constructor(t,r,o){var i,s,a,c,u,l,d,f,h,p,g,m,y,v,w;this._closedByUser=!1,this.handleOpenEvent=b=>this.handleEvent(je.open,b),this.handleErrorEvent=b=>this.handleEvent(je.error,b),this.handleCloseEvent=b=>this.handleEvent(je.close,b),this.handleMessageEvent=b=>this.handleEvent(je.message,b),this._url=t,this._protocols=r,this._options={buffer:o?.buffer,retry:{maxRetries:null===(i=o?.retry)||void 0===i?void 0:i.maxRetries,instantReconnect:null===(s=o?.retry)||void 0===s?void 0:s.instantReconnect,backoff:null===(a=o?.retry)||void 0===a?void 0:a.backoff},listeners:{open:[...null!==(u=null===(c=o?.listeners)||void 0===c?void 0:c.open)&&void 0!==u?u:[]],close:[...null!==(d=null===(l=o?.listeners)||void 0===l?void 0:l.close)&&void 0!==d?d:[]],error:[...null!==(h=null===(f=o?.listeners)||void 0===f?void 0:f.error)&&void 0!==h?h:[]],message:[...null!==(g=null===(p=o?.listeners)||void 0===p?void 0:p.message)&&void 0!==g?g:[]],retry:[...null!==(y=null===(m=o?.listeners)||void 0===m?void 0:m.retry)&&void 0!==y?y:[]],reconnect:[...null!==(w=null===(v=o?.listeners)||void 0===v?void 0:v.reconnect)&&void 0!==w?w:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):void 0!==this.buffer&&this.buffer.add(t))}close(t,r){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,r)}addEventListener(t,r,o){this._options.listeners[t].push({listener:r,options:o})}removeEventListener(t,r,o){this._options.listeners[t]=this._options.listeners[t].filter(s=>s.listener!==r||s.options!==o)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(je.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(je.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(je.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(je.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(je.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(je.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(je.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(je.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,r){const i=[];this._options.listeners[t].forEach(({listener:s,options:a})=>{s(this,r),(void 0===a||void 0===a.once||!a.once)&&i.push({listener:s,options:a})}),this._options.listeners[t]=i}handleEvent(t,r){switch(t){case je.close:this.dispatchEvent(t,r),this.scheduleConnectionRetryIfNeeded();break;case je.open:if(void 0!==this.backoff&&void 0!==this._lastConnection){const o={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(je.reconnect,{detail:o});this.dispatchEvent(je.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,r),this.sendBufferedData();break;case je.retry:this.dispatchEvent(t,r),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,r)}}sendBufferedData(){if(void 0!==this.buffer)for(let t=this.buffer.read();void 0!==t;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||void 0===this.backoff)return;const t=o=>{const i=new CustomEvent(je.retry,{detail:o});this.handleEvent(je.retry,i)},r={backoff:!0===this._options.retry.instantReconnect?0:this.backoff.next(),retries:!0===this._options.retry.instantReconnect?0:this.backoff.retries,lastConnection:this._lastConnection};(void 0===this._options.retry.maxRetries||r.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(r),r.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class lK{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{maxRetries:t})}),this}get maxRetries(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.maxRetries}withInstantReconnect(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.instantReconnect}withBackoff(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{backoff:t})}),this}get backoff(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return null===(t=this._options)||void 0===t?void 0:t.buffer}onOpen(t,r){return this.addListener(je.open,t,r),this}onClose(t,r){return this.addListener(je.close,t,r),this}onError(t,r){return this.addListener(je.error,t,r),this}onMessage(t,r){return this.addListener(je.message,t,r),this}onRetry(t,r){return this.addListener(je.retry,t,r),this}onReconnect(t,r){return this.addListener(je.reconnect,t,r),this}build(){return new uK(this._url,this._protocols,this._options)}addListener(t,r,o){var i,s,a,c,u,l,d,f,h,p,g,m,y,v,w,b,_,D,E,S,I;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:null!==(a=null===(s=null===(i=this._options)||void 0===i?void 0:i.listeners)||void 0===s?void 0:s.open)&&void 0!==a?a:[],close:null!==(l=null===(u=null===(c=this._options)||void 0===c?void 0:c.listeners)||void 0===u?void 0:u.close)&&void 0!==l?l:[],error:null!==(h=null===(f=null===(d=this._options)||void 0===d?void 0:d.listeners)||void 0===f?void 0:f.error)&&void 0!==h?h:[],message:null!==(m=null===(g=null===(p=this._options)||void 0===p?void 0:p.listeners)||void 0===g?void 0:g.message)&&void 0!==m?m:[],retry:null!==(w=null===(v=null===(y=this._options)||void 0===y?void 0:y.listeners)||void 0===v?void 0:v.retry)&&void 0!==w?w:[],reconnect:null!==(D=null===(_=null===(b=this._options)||void 0===b?void 0:b.listeners)||void 0===_?void 0:_.reconnect)&&void 0!==D?D:[],[t]:[...null!==(I=null===(S=null===(E=this._options)||void 0===E?void 0:E.listeners)||void 0===S?void 0:S[t])&&void 0!==I?I:[],{listener:r,options:o}]}}),this}}class dK{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return 0===this.elements.length}peek(){return this.elements[0]}read(){return this.elements.shift()}}!function(e){e.assertEqual=i=>i,e.assertIs=function t(i){},e.assertNever=function r(i){throw new Error},e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>"number"!=typeof i[i[c]]),a={};for(const c of s)a[c]=i[c];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys="function"==typeof Object.keys?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger="function"==typeof Number.isInteger?i=>Number.isInteger(i):i=>"number"==typeof i&&isFinite(i)&&Math.floor(i)===i,e.joinValues=function o(i,s=" | "){return i.map(a=>"string"==typeof a?`'${a}'`:a).join(s)},e.jsonStringifyReplacer=(i,s)=>"bigint"==typeof s?s.toString():s}(De||(De={}));var M2=function(e){return e.mergeShapes=(t,r)=>({...t,...r}),e}(M2||{});const z=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ko=e=>{switch(typeof e){case"undefined":return z.undefined;case"string":return z.string;case"number":return isNaN(e)?z.nan:z.number;case"boolean":return z.boolean;case"function":return z.function;case"bigint":return z.bigint;case"symbol":return z.symbol;case"object":return Array.isArray(e)?z.array:null===e?z.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?z.promise:typeof Map<"u"&&e instanceof Map?z.map:typeof Set<"u"&&e instanceof Set?z.set:typeof Date<"u"&&e instanceof Date?z.date:z.object;default:return z.unknown}},P=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let uo=(()=>{class e extends Error{constructor(r){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const o=r||function(a){return a.message},i={_errors:[]},s=a=>{for(const c of a.issues)if("invalid_union"===c.code)c.unionErrors.map(s);else if("invalid_return_type"===c.code)s(c.returnTypeError);else if("invalid_arguments"===c.code)s(c.argumentsError);else if(0===c.path.length)i._errors.push(o(c));else{let u=i,l=0;for(;l<c.path.length;){const d=c.path[l];l===c.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(o(c))):u[d]=u[d]||{_errors:[]},u=u[d],l++}}};return s(this),i}static assert(r){if(!(r instanceof e))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(r=(o=>o.message)){const o={},i=[];for(const s of this.issues)s.path.length>0?(o[s.path[0]]=o[s.path[0]]||[],o[s.path[0]].push(r(s))):i.push(r(s));return{formErrors:i,fieldErrors:o}}get formErrors(){return this.flatten()}}return e.create=t=>new e(t),e})();const Pa=(e,t)=>{let r;switch(e.code){case P.invalid_type:r=e.received===z.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case P.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,De.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:r=`Unrecognized key(s) in object: ${De.joinValues(e.keys,", ")}`;break;case P.invalid_union:r="Invalid input";break;case P.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${De.joinValues(e.options)}`;break;case P.invalid_enum_value:r=`Invalid enum value. Expected ${De.joinValues(e.options)}, received '${e.received}'`;break;case P.invalid_arguments:r="Invalid function arguments";break;case P.invalid_return_type:r="Invalid function return type";break;case P.invalid_date:r="Invalid date";break;case P.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:De.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case P.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case P.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case P.custom:r="Invalid input";break;case P.invalid_intersection_types:r="Intersection results could not be merged";break;case P.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case P.not_finite:r="Number must be finite";break;default:r=t.defaultError,De.assertNever(e)}return{message:r}};let N2=Pa;function jh(){return N2}const $h=e=>{const{data:t,path:r,errorMaps:o,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let c="";const u=o.filter(l=>!!l).slice().reverse();for(const l of u)c=l(a,{data:t,defaultError:c}).message;return{...i,path:s,message:c}};function $(e,t){const r=jh(),o=$h({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Pa?void 0:Pa].filter(i=>!!i)});e.common.issues.push(o)}class Bt{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,r){const o=[];for(const i of r){if("aborted"===i.status)return ie;"dirty"===i.status&&t.dirty(),o.push(i.value)}return{status:t.value,value:o}}static mergeObjectAsync(t,r){return V(function*(){const o=[];for(const i of r){const s=yield i.key,a=yield i.value;o.push({key:s,value:a})}return Bt.mergeObjectSync(t,o)})()}static mergeObjectSync(t,r){const o={};for(const i of r){const{key:s,value:a}=i;if("aborted"===s.status||"aborted"===a.status)return ie;"dirty"===s.status&&t.dirty(),"dirty"===a.status&&t.dirty(),"__proto__"!==s.value&&(typeof a.value<"u"||i.alwaysSet)&&(o[s.value]=a.value)}return{status:t.value,value:o}}}const ie=Object.freeze({status:"aborted"}),La=e=>({status:"dirty",value:e}),Yt=e=>({status:"valid",value:e}),Uw=e=>"aborted"===e.status,jw=e=>"dirty"===e.status,el=e=>"valid"===e.status,tl=e=>typeof Promise<"u"&&e instanceof Promise;function Hh(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)}function R2(e,t,r,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError;var nl,rl,K=function(e){return e.errToObj=t=>"string"==typeof t?{message:t}:t||{},e.toString=t=>"string"==typeof t?t:t?.message,e}(K||{});class Lr{constructor(t,r,o,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=o,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const O2=(e,t)=>{if(el(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new uo(e.common.issues);return this._error=r,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:o,description:i}=e;if(t&&(r||o))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(a,c)=>{var u,l;const{message:d}=e;return"invalid_enum_value"===a.code?{message:d??c.defaultError}:typeof c.data>"u"?{message:null!==(u=d??o)&&void 0!==u?u:c.defaultError}:"invalid_type"!==a.code?{message:c.defaultError}:{message:null!==(l=d??r)&&void 0!==l?l:c.defaultError}},description:i}}class me{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ko(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ko(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Bt,ctx:{common:t.parent.common,data:t.data,parsedType:Ko(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(tl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const o=this.safeParse(t,r);if(o.success)return o.data;throw o.error}safeParse(t,r){var o;const i={common:{issues:[],async:null!==(o=r?.async)&&void 0!==o&&o,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ko(t)},s=this._parseSync({data:t,path:i.path,parent:i});return O2(i,s)}parseAsync(t,r){var o=this;return V(function*(){const i=yield o.safeParseAsync(t,r);if(i.success)return i.data;throw i.error})()}safeParseAsync(t,r){var o=this;return V(function*(){const i={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:o._def.errorMap,parent:null,data:t,parsedType:Ko(t)},s=o._parse({data:t,path:i.path,parent:i}),a=yield tl(s)?s:Promise.resolve(s);return O2(i,a)})()}refine(t,r){const o=i=>"string"==typeof r||typeof r>"u"?{message:r}:"function"==typeof r?r(i):r;return this._refinement((i,s)=>{const a=t(i),c=()=>s.addIssue({code:P.custom,...o(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>!!u||(c(),!1)):!!a||(c(),!1)})}refinement(t,r){return this._refinement((o,i)=>!!t(o)||(i.addIssue("function"==typeof r?r(o,i):r),!1))}_refinement(t){return new qi({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Qo.create(this,this._def)}nullable(){return $a.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return il.create(this,this._def)}promise(){return Gh.create(this,this._def)}or(t){return Zw.create([this,t],this._def)}and(t){return Yw.create(this,t,this._def)}transform(t){return new qi({...fe(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r="function"==typeof t?t:()=>t;return new Xw({...fe(this._def),innerType:this,defaultValue:r,typeName:se.ZodDefault})}brand(){return new tb({typeName:se.ZodBranded,type:this,...fe(this._def)})}catch(t){const r="function"==typeof t?t:()=>t;return new eb({...fe(this._def),innerType:this,catchValue:r,typeName:se.ZodCatch})}describe(t){return new(0,this.constructor)({...this._def,description:t})}pipe(t){return cl.create(this,t)}readonly(){return nb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gK=/^c[^\s-]{8,}$/i,mK=/^[0-9a-z]+$/,yK=/^[0-9A-HJKMNP-TV-Z]{26}$/,vK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wK=/^[a-z0-9_-]{21}$/i,bK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_K=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let $w;const DK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CK=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,SK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,k2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",IK=new RegExp(`^${k2}$`);function P2(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function xK(e){return new RegExp(`^${P2(e)}$`)}function L2(e){let t=`${k2}T${P2(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function TK(e,t){return!(("v4"!==t&&t||!DK.test(e))&&("v6"!==t&&t||!CK.test(e)))}let Vh=(()=>{class e extends me{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==z.string){const a=this._getOrReturnCtx(r);return $(a,{code:P.invalid_type,expected:z.string,received:a.parsedType}),ie}const i=new Bt;let s;for(const a of this._def.checks)if("min"===a.kind)r.data.length<a.value&&(s=this._getOrReturnCtx(r,s),$(s,{code:P.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("max"===a.kind)r.data.length>a.value&&(s=this._getOrReturnCtx(r,s),$(s,{code:P.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("length"===a.kind){const c=r.data.length>a.value,u=r.data.length<a.value;(c||u)&&(s=this._getOrReturnCtx(r,s),c?$(s,{code:P.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&$(s,{code:P.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if("email"===a.kind)_K.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"email",code:P.invalid_string,message:a.message}),i.dirty());else if("emoji"===a.kind)$w||($w=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),$w.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"emoji",code:P.invalid_string,message:a.message}),i.dirty());else if("uuid"===a.kind)vK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"uuid",code:P.invalid_string,message:a.message}),i.dirty());else if("nanoid"===a.kind)wK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"nanoid",code:P.invalid_string,message:a.message}),i.dirty());else if("cuid"===a.kind)gK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"cuid",code:P.invalid_string,message:a.message}),i.dirty());else if("cuid2"===a.kind)mK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"cuid2",code:P.invalid_string,message:a.message}),i.dirty());else if("ulid"===a.kind)yK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"ulid",code:P.invalid_string,message:a.message}),i.dirty());else if("url"===a.kind)try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),$(s,{validation:"url",code:P.invalid_string,message:a.message}),i.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"regex",code:P.invalid_string,message:a.message}),i.dirty())):"trim"===a.kind?r.data=r.data.trim():"includes"===a.kind?r.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(r,s),$(s,{code:P.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):"toLowerCase"===a.kind?r.data=r.data.toLowerCase():"toUpperCase"===a.kind?r.data=r.data.toUpperCase():"startsWith"===a.kind?r.data.startsWith(a.value)||(s=this._getOrReturnCtx(r,s),$(s,{code:P.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):"endsWith"===a.kind?r.data.endsWith(a.value)||(s=this._getOrReturnCtx(r,s),$(s,{code:P.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):"datetime"===a.kind?L2(a).test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{code:P.invalid_string,validation:"datetime",message:a.message}),i.dirty()):"date"===a.kind?IK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{code:P.invalid_string,validation:"date",message:a.message}),i.dirty()):"time"===a.kind?xK(a).test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{code:P.invalid_string,validation:"time",message:a.message}),i.dirty()):"duration"===a.kind?bK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"duration",code:P.invalid_string,message:a.message}),i.dirty()):"ip"===a.kind?TK(r.data,a.version)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"ip",code:P.invalid_string,message:a.message}),i.dirty()):"base64"===a.kind?SK.test(r.data)||(s=this._getOrReturnCtx(r,s),$(s,{validation:"base64",code:P.invalid_string,message:a.message}),i.dirty()):De.assertNever(a);return{status:i.value,value:r.data}}_regex(r,o,i){return this.refinement(s=>r.test(s),{validation:o,code:P.invalid_string,...K.errToObj(i)})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...K.errToObj(r)})}url(r){return this._addCheck({kind:"url",...K.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...K.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...K.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...K.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...K.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...K.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...K.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...K.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...K.errToObj(r)})}datetime(r){var o,i;return this._addCheck("string"==typeof r?{kind:"datetime",precision:null,offset:!1,local:!1,message:r}:{kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:null!==(o=r?.offset)&&void 0!==o&&o,local:null!==(i=r?.local)&&void 0!==i&&i,...K.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return this._addCheck("string"==typeof r?{kind:"time",precision:null,message:r}:{kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...K.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...K.errToObj(r)})}regex(r,o){return this._addCheck({kind:"regex",regex:r,...K.errToObj(o)})}includes(r,o){return this._addCheck({kind:"includes",value:r,position:o?.position,...K.errToObj(o?.message)})}startsWith(r,o){return this._addCheck({kind:"startsWith",value:r,...K.errToObj(o)})}endsWith(r,o){return this._addCheck({kind:"endsWith",value:r,...K.errToObj(o)})}min(r,o){return this._addCheck({kind:"min",value:r,...K.errToObj(o)})}max(r,o){return this._addCheck({kind:"max",value:r,...K.errToObj(o)})}length(r,o){return this._addCheck({kind:"length",value:r,...K.errToObj(o)})}nonempty(r){return this.min(1,K.errToObj(r))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>"datetime"===r.kind)}get isDate(){return!!this._def.checks.find(r=>"date"===r.kind)}get isTime(){return!!this._def.checks.find(r=>"time"===r.kind)}get isDuration(){return!!this._def.checks.find(r=>"duration"===r.kind)}get isEmail(){return!!this._def.checks.find(r=>"email"===r.kind)}get isURL(){return!!this._def.checks.find(r=>"url"===r.kind)}get isEmoji(){return!!this._def.checks.find(r=>"emoji"===r.kind)}get isUUID(){return!!this._def.checks.find(r=>"uuid"===r.kind)}get isNANOID(){return!!this._def.checks.find(r=>"nanoid"===r.kind)}get isCUID(){return!!this._def.checks.find(r=>"cuid"===r.kind)}get isCUID2(){return!!this._def.checks.find(r=>"cuid2"===r.kind)}get isULID(){return!!this._def.checks.find(r=>"ulid"===r.kind)}get isIP(){return!!this._def.checks.find(r=>"ip"===r.kind)}get isBase64(){return!!this._def.checks.find(r=>"base64"===r.kind)}get minLength(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return r}get maxLength(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return r}}return e.create=t=>{var r;return new e({checks:[],typeName:se.ZodString,coerce:null!==(r=t?.coerce)&&void 0!==r&&r,...fe(t)})},e})();function AK(e,t){const r=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,i=r>o?r:o;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}let Hw=(()=>{class e extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==z.number){const a=this._getOrReturnCtx(r);return $(a,{code:P.invalid_type,expected:z.number,received:a.parsedType}),ie}let i;const s=new Bt;for(const a of this._def.checks)"int"===a.kind?De.isInteger(r.data)||(i=this._getOrReturnCtx(r,i),$(i,{code:P.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):"min"===a.kind?(a.inclusive?r.data<a.value:r.data<=a.value)&&(i=this._getOrReturnCtx(r,i),$(i,{code:P.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):"max"===a.kind?(a.inclusive?r.data>a.value:r.data>=a.value)&&(i=this._getOrReturnCtx(r,i),$(i,{code:P.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):"multipleOf"===a.kind?0!==AK(r.data,a.value)&&(i=this._getOrReturnCtx(r,i),$(i,{code:P.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):"finite"===a.kind?Number.isFinite(r.data)||(i=this._getOrReturnCtx(r,i),$(i,{code:P.not_finite,message:a.message}),s.dirty()):De.assertNever(a);return{status:s.value,value:r.data}}gte(r,o){return this.setLimit("min",r,!0,K.toString(o))}gt(r,o){return this.setLimit("min",r,!1,K.toString(o))}lte(r,o){return this.setLimit("max",r,!0,K.toString(o))}lt(r,o){return this.setLimit("max",r,!1,K.toString(o))}setLimit(r,o,i,s){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:o,inclusive:i,message:K.toString(s)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:K.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:K.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:K.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:K.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:K.toString(r)})}multipleOf(r,o){return this._addCheck({kind:"multipleOf",value:r,message:K.toString(o)})}finite(r){return this._addCheck({kind:"finite",message:K.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:K.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:K.toString(r)})}get minValue(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return r}get maxValue(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return r}get isInt(){return!!this._def.checks.find(r=>"int"===r.kind||"multipleOf"===r.kind&&De.isInteger(r.value))}get isFinite(){let r=null,o=null;for(const i of this._def.checks){if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===o||i.value>o)&&(o=i.value):"max"===i.kind&&(null===r||i.value<r)&&(r=i.value)}return Number.isFinite(o)&&Number.isFinite(r)}}return e.create=t=>new e({checks:[],typeName:se.ZodNumber,coerce:t?.coerce||!1,...fe(t)}),e})(),Vw=(()=>{class e extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==z.bigint){const a=this._getOrReturnCtx(r);return $(a,{code:P.invalid_type,expected:z.bigint,received:a.parsedType}),ie}let i;const s=new Bt;for(const a of this._def.checks)"min"===a.kind?(a.inclusive?r.data<a.value:r.data<=a.value)&&(i=this._getOrReturnCtx(r,i),$(i,{code:P.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):"max"===a.kind?(a.inclusive?r.data>a.value:r.data>=a.value)&&(i=this._getOrReturnCtx(r,i),$(i,{code:P.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):"multipleOf"===a.kind?r.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(r,i),$(i,{code:P.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):De.assertNever(a);return{status:s.value,value:r.data}}gte(r,o){return this.setLimit("min",r,!0,K.toString(o))}gt(r,o){return this.setLimit("min",r,!1,K.toString(o))}lte(r,o){return this.setLimit("max",r,!0,K.toString(o))}lt(r,o){return this.setLimit("max",r,!1,K.toString(o))}setLimit(r,o,i,s){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:o,inclusive:i,message:K.toString(s)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:K.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:K.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:K.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:K.toString(r)})}multipleOf(r,o){return this._addCheck({kind:"multipleOf",value:r,message:K.toString(o)})}get minValue(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return r}get maxValue(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return r}}return e.create=t=>{var r;return new e({checks:[],typeName:se.ZodBigInt,coerce:null!==(r=t?.coerce)&&void 0!==r&&r,...fe(t)})},e})(),zw=(()=>{class e extends me{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==z.boolean){const i=this._getOrReturnCtx(r);return $(i,{code:P.invalid_type,expected:z.boolean,received:i.parsedType}),ie}return Yt(r.data)}}return e.create=t=>new e({typeName:se.ZodBoolean,coerce:t?.coerce||!1,...fe(t)}),e})(),qw=(()=>{class e extends me{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==z.date){const a=this._getOrReturnCtx(r);return $(a,{code:P.invalid_type,expected:z.date,received:a.parsedType}),ie}if(isNaN(r.data.getTime()))return $(this._getOrReturnCtx(r),{code:P.invalid_date}),ie;const i=new Bt;let s;for(const a of this._def.checks)"min"===a.kind?r.data.getTime()<a.value&&(s=this._getOrReturnCtx(r,s),$(s,{code:P.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):"max"===a.kind?r.data.getTime()>a.value&&(s=this._getOrReturnCtx(r,s),$(s,{code:P.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):De.assertNever(a);return{status:i.value,value:new Date(r.data.getTime())}}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}min(r,o){return this._addCheck({kind:"min",value:r.getTime(),message:K.toString(o)})}max(r,o){return this._addCheck({kind:"max",value:r.getTime(),message:K.toString(o)})}get minDate(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return null!=r?new Date(r):null}get maxDate(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return null!=r?new Date(r):null}}return e.create=t=>new e({checks:[],coerce:t?.coerce||!1,typeName:se.ZodDate,...fe(t)}),e})(),F2=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.symbol){const i=this._getOrReturnCtx(r);return $(i,{code:P.invalid_type,expected:z.symbol,received:i.parsedType}),ie}return Yt(r.data)}}return e.create=t=>new e({typeName:se.ZodSymbol,...fe(t)}),e})(),Gw=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.undefined){const i=this._getOrReturnCtx(r);return $(i,{code:P.invalid_type,expected:z.undefined,received:i.parsedType}),ie}return Yt(r.data)}}return e.create=t=>new e({typeName:se.ZodUndefined,...fe(t)}),e})(),Ww=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.null){const i=this._getOrReturnCtx(r);return $(i,{code:P.invalid_type,expected:z.null,received:i.parsedType}),ie}return Yt(r.data)}}return e.create=t=>new e({typeName:se.ZodNull,...fe(t)}),e})(),zh=(()=>{class e extends me{constructor(){super(...arguments),this._any=!0}_parse(r){return Yt(r.data)}}return e.create=t=>new e({typeName:se.ZodAny,...fe(t)}),e})(),ol=(()=>{class e extends me{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Yt(r.data)}}return e.create=t=>new e({typeName:se.ZodUnknown,...fe(t)}),e})(),zi=(()=>{class e extends me{_parse(r){const o=this._getOrReturnCtx(r);return $(o,{code:P.invalid_type,expected:z.never,received:o.parsedType}),ie}}return e.create=t=>new e({typeName:se.ZodNever,...fe(t)}),e})(),B2=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.undefined){const i=this._getOrReturnCtx(r);return $(i,{code:P.invalid_type,expected:z.void,received:i.parsedType}),ie}return Yt(r.data)}}return e.create=t=>new e({typeName:se.ZodVoid,...fe(t)}),e})(),il=(()=>{class e extends me{_parse(r){const{ctx:o,status:i}=this._processInputParams(r),s=this._def;if(o.parsedType!==z.array)return $(o,{code:P.invalid_type,expected:z.array,received:o.parsedType}),ie;if(null!==s.exactLength){const c=o.data.length>s.exactLength.value,u=o.data.length<s.exactLength.value;(c||u)&&($(o,{code:c?P.too_big:P.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(null!==s.minLength&&o.data.length<s.minLength.value&&($(o,{code:P.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),null!==s.maxLength&&o.data.length>s.maxLength.value&&($(o,{code:P.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),o.common.async)return Promise.all([...o.data].map((c,u)=>s.type._parseAsync(new Lr(o,c,o.path,u)))).then(c=>Bt.mergeArray(i,c));const a=[...o.data].map((c,u)=>s.type._parseSync(new Lr(o,c,o.path,u)));return Bt.mergeArray(i,a)}get element(){return this._def.type}min(r,o){return new e({...this._def,minLength:{value:r,message:K.toString(o)}})}max(r,o){return new e({...this._def,maxLength:{value:r,message:K.toString(o)}})}length(r,o){return new e({...this._def,exactLength:{value:r,message:K.toString(o)}})}nonempty(r){return this.min(1,r)}}return e.create=(t,r)=>new e({type:t,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...fe(r)}),e})();function Fa(e){if(e instanceof Ba){const t={};for(const r in e.shape)t[r]=Qo.create(Fa(e.shape[r]));return new Ba({...e._def,shape:()=>t})}return e instanceof il?new il({...e._def,type:Fa(e.element)}):e instanceof Qo?Qo.create(Fa(e.unwrap())):e instanceof $a?$a.create(Fa(e.unwrap())):e instanceof Ua?Ua.create(e.items.map(t=>Fa(t))):e}let Ba=(()=>{class e extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const r=this._def.shape(),o=De.objectKeys(r);return this._cached={shape:r,keys:o}}_parse(r){if(this._getType(r)!==z.object){const d=this._getOrReturnCtx(r);return $(d,{code:P.invalid_type,expected:z.object,received:d.parsedType}),ie}const{status:i,ctx:s}=this._processInputParams(r),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof zi&&"strip"===this._def.unknownKeys))for(const d in s.data)c.includes(d)||u.push(d);const l=[];for(const d of c)l.push({key:{status:"valid",value:d},value:a[d]._parse(new Lr(s,s.data[d],s.path,d)),alwaysSet:d in s.data});if(this._def.catchall instanceof zi){const d=this._def.unknownKeys;if("passthrough"===d)for(const f of u)l.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if("strict"===d)u.length>0&&($(s,{code:P.unrecognized_keys,keys:u}),i.dirty());else if("strip"!==d)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of u)l.push({key:{status:"valid",value:f},value:d._parse(new Lr(s,s.data[f],s.path,f)),alwaysSet:f in s.data})}return s.common.async?Promise.resolve().then(V(function*(){const d=[];for(const f of l){const h=yield f.key,p=yield f.value;d.push({key:h,value:p,alwaysSet:f.alwaysSet})}return d})).then(d=>Bt.mergeObjectSync(i,d)):Bt.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(r){return new e({...this._def,unknownKeys:"strict",...void 0!==r?{errorMap:(o,i)=>{var s,a,c,u;const l=null!==(c=null===(a=(s=this._def).errorMap)||void 0===a?void 0:a.call(s,o,i).message)&&void 0!==c?c:i.defaultError;return"unrecognized_keys"===o.code?{message:null!==(u=K.errToObj(r).message)&&void 0!==u?u:l}:{message:l}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(r){return new e({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new e({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:se.ZodObject})}setKey(r,o){return this.augment({[r]:o})}catchall(r){return new e({...this._def,catchall:r})}pick(r){const o={};return De.objectKeys(r).forEach(i=>{r[i]&&this.shape[i]&&(o[i]=this.shape[i])}),new e({...this._def,shape:()=>o})}omit(r){const o={};return De.objectKeys(this.shape).forEach(i=>{r[i]||(o[i]=this.shape[i])}),new e({...this._def,shape:()=>o})}deepPartial(){return Fa(this)}partial(r){const o={};return De.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];o[i]=r&&!r[i]?s:s.optional()}),new e({...this._def,shape:()=>o})}required(r){const o={};return De.objectKeys(this.shape).forEach(i=>{if(r&&!r[i])o[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof Qo;)a=a._def.innerType;o[i]=a}}),new e({...this._def,shape:()=>o})}keyof(){return $2(De.objectKeys(this.shape))}}return e.create=(t,r)=>new e({shape:()=>t,unknownKeys:"strip",catchall:zi.create(),typeName:se.ZodObject,...fe(r)}),e.strictCreate=(t,r)=>new e({shape:()=>t,unknownKeys:"strict",catchall:zi.create(),typeName:se.ZodObject,...fe(r)}),e.lazycreate=(t,r)=>new e({shape:t,unknownKeys:"strip",catchall:zi.create(),typeName:se.ZodObject,...fe(r)}),e})(),Zw=(()=>{class e extends me{_parse(r){const{ctx:o}=this._processInputParams(r),i=this._def.options;if(o.common.async)return Promise.all(i.map(function(){var a=V(function*(c){const u={...o,common:{...o.common,issues:[]},parent:null};return{result:yield c._parseAsync({data:o.data,path:o.path,parent:u}),ctx:u}});return function(c){return a.apply(this,arguments)}}())).then(function s(a){for(const u of a)if("valid"===u.result.status)return u.result;for(const u of a)if("dirty"===u.result.status)return o.common.issues.push(...u.ctx.common.issues),u.result;const c=a.map(u=>new uo(u.ctx.common.issues));return $(o,{code:P.invalid_union,unionErrors:c}),ie});{let a;const c=[];for(const l of i){const d={...o,common:{...o.common,issues:[]},parent:null},f=l._parseSync({data:o.data,path:o.path,parent:d});if("valid"===f.status)return f;"dirty"===f.status&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&c.push(d.common.issues)}if(a)return o.common.issues.push(...a.ctx.common.issues),a.result;const u=c.map(l=>new uo(l));return $(o,{code:P.invalid_union,unionErrors:u}),ie}}get options(){return this._def.options}}return e.create=(t,r)=>new e({options:t,typeName:se.ZodUnion,...fe(r)}),e})();const lo=e=>e instanceof Qw?lo(e.schema):e instanceof qi?lo(e.innerType()):e instanceof Jw?[e.value]:e instanceof Yo?e.options:e instanceof al?De.objectValues(e.enum):e instanceof Xw?lo(e._def.innerType):e instanceof Gw?[void 0]:e instanceof Ww?[null]:e instanceof Qo?[void 0,...lo(e.unwrap())]:e instanceof $a?[null,...lo(e.unwrap())]:e instanceof tb||e instanceof nb?lo(e.unwrap()):e instanceof eb?lo(e._def.innerType):[];class qh extends me{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==z.object)return $(r,{code:P.invalid_type,expected:z.object,received:r.parsedType}),ie;const o=this.discriminator,s=this.optionsMap.get(r.data[o]);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):($(r,{code:P.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,o){const i=new Map;for(const s of r){const a=lo(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of a){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,s)}}return new qh({typeName:se.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...fe(o)})}}function Kw(e,t){const r=Ko(e),o=Ko(t);if(e===t)return{valid:!0,data:e};if(r===z.object&&o===z.object){const i=De.objectKeys(t),s=De.objectKeys(e).filter(c=>-1!==i.indexOf(c)),a={...e,...t};for(const c of s){const u=Kw(e[c],t[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}if(r===z.array&&o===z.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const u=Kw(e[s],t[s]);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}return r===z.date&&o===z.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let Yw=(()=>{class e extends me{_parse(r){const{status:o,ctx:i}=this._processInputParams(r),s=(a,c)=>{if(Uw(a)||Uw(c))return ie;const u=Kw(a.value,c.value);return u.valid?((jw(a)||jw(c))&&o.dirty(),{status:o.value,value:u.data}):($(i,{code:P.invalid_intersection_types}),ie)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}return e.create=(t,r,o)=>new e({left:t,right:r,typeName:se.ZodIntersection,...fe(o)}),e})(),Ua=(()=>{class e extends me{_parse(r){const{status:o,ctx:i}=this._processInputParams(r);if(i.parsedType!==z.array)return $(i,{code:P.invalid_type,expected:z.array,received:i.parsedType}),ie;if(i.data.length<this._def.items.length)return $(i,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&i.data.length>this._def.items.length&&($(i,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const a=[...i.data].map((c,u)=>{const l=this._def.items[u]||this._def.rest;return l?l._parse(new Lr(i,c,i.path,u)):null}).filter(c=>!!c);return i.common.async?Promise.all(a).then(c=>Bt.mergeArray(o,c)):Bt.mergeArray(o,a)}get items(){return this._def.items}rest(r){return new e({...this._def,rest:r})}}return e.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new e({items:t,typeName:se.ZodTuple,rest:null,...fe(r)})},e})();class sl extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==z.object)return $(o,{code:P.invalid_type,expected:z.object,received:o.parsedType}),ie;const i=[],s=this._def.keyType,a=this._def.valueType;for(const c in o.data)i.push({key:s._parse(new Lr(o,c,o.path,c)),value:a._parse(new Lr(o,o.data[c],o.path,c)),alwaysSet:c in o.data});return o.common.async?Bt.mergeObjectAsync(r,i):Bt.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,o){return new sl(r instanceof me?{keyType:t,valueType:r,typeName:se.ZodRecord,...fe(o)}:{keyType:Vh.create(),valueType:t,typeName:se.ZodRecord,...fe(r)})}}let U2=(()=>{class e extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:o,ctx:i}=this._processInputParams(r);if(i.parsedType!==z.map)return $(i,{code:P.invalid_type,expected:z.map,received:i.parsedType}),ie;const s=this._def.keyType,a=this._def.valueType,c=[...i.data.entries()].map(([u,l],d)=>({key:s._parse(new Lr(i,u,i.path,[d,"key"])),value:a._parse(new Lr(i,l,i.path,[d,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(V(function*(){for(const l of c){const d=yield l.key,f=yield l.value;if("aborted"===d.status||"aborted"===f.status)return ie;("dirty"===d.status||"dirty"===f.status)&&o.dirty(),u.set(d.value,f.value)}return{status:o.value,value:u}}))}{const u=new Map;for(const l of c){const d=l.key,f=l.value;if("aborted"===d.status||"aborted"===f.status)return ie;("dirty"===d.status||"dirty"===f.status)&&o.dirty(),u.set(d.value,f.value)}return{status:o.value,value:u}}}}return e.create=(t,r,o)=>new e({valueType:r,keyType:t,typeName:se.ZodMap,...fe(o)}),e})(),j2=(()=>{class e extends me{_parse(r){const{status:o,ctx:i}=this._processInputParams(r);if(i.parsedType!==z.set)return $(i,{code:P.invalid_type,expected:z.set,received:i.parsedType}),ie;const s=this._def;null!==s.minSize&&i.data.size<s.minSize.value&&($(i,{code:P.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),o.dirty()),null!==s.maxSize&&i.data.size>s.maxSize.value&&($(i,{code:P.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),o.dirty());const a=this._def.valueType;function c(l){const d=new Set;for(const f of l){if("aborted"===f.status)return ie;"dirty"===f.status&&o.dirty(),d.add(f.value)}return{status:o.value,value:d}}const u=[...i.data.values()].map((l,d)=>a._parse(new Lr(i,l,i.path,d)));return i.common.async?Promise.all(u).then(l=>c(l)):c(u)}min(r,o){return new e({...this._def,minSize:{value:r,message:K.toString(o)}})}max(r,o){return new e({...this._def,maxSize:{value:r,message:K.toString(o)}})}size(r,o){return this.min(r,o).max(r,o)}nonempty(r){return this.min(1,r)}}return e.create=(t,r)=>new e({valueType:t,minSize:null,maxSize:null,typeName:se.ZodSet,...fe(r)}),e})();class ja extends me{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==z.function)return $(r,{code:P.invalid_type,expected:z.function,received:r.parsedType}),ie;function o(c,u){return $h({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,jh(),Pa].filter(l=>!!l),issueData:{code:P.invalid_arguments,argumentsError:u}})}function i(c,u){return $h({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,jh(),Pa].filter(l=>!!l),issueData:{code:P.invalid_return_type,returnTypeError:u}})}const s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Gh){const c=this;return Yt(V(function*(...u){const l=new uo([]),d=yield c._def.args.parseAsync(u,s).catch(p=>{throw l.addIssue(o(u,p)),l}),f=yield Reflect.apply(a,this,d);return yield c._def.returns._def.type.parseAsync(f,s).catch(p=>{throw l.addIssue(i(f,p)),l})}))}{const c=this;return Yt(function(...u){const l=c._def.args.safeParse(u,s);if(!l.success)throw new uo([o(u,l.error)]);const d=Reflect.apply(a,this,l.data),f=c._def.returns.safeParse(d,s);if(!f.success)throw new uo([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ja({...this._def,args:Ua.create(t).rest(ol.create())})}returns(t){return new ja({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,o){return new ja({args:t||Ua.create([]).rest(ol.create()),returns:r||ol.create(),typeName:se.ZodFunction,...fe(o)})}}let Qw=(()=>{class e extends me{get schema(){return this._def.getter()}_parse(r){const{ctx:o}=this._processInputParams(r);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}return e.create=(t,r)=>new e({getter:t,typeName:se.ZodLazy,...fe(r)}),e})(),Jw=(()=>{class e extends me{_parse(r){if(r.data!==this._def.value){const o=this._getOrReturnCtx(r);return $(o,{received:o.data,code:P.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:r.data}}get value(){return this._def.value}}return e.create=(t,r)=>new e({value:t,typeName:se.ZodLiteral,...fe(r)}),e})();function $2(e,t){return new Yo({values:e,typeName:se.ZodEnum,...fe(t)})}class Yo extends me{constructor(){super(...arguments),nl.set(this,void 0)}_parse(t){if("string"!=typeof t.data){const r=this._getOrReturnCtx(t);return $(r,{expected:De.joinValues(this._def.values),received:r.parsedType,code:P.invalid_type}),ie}if(Hh(this,nl,"f")||R2(this,nl,new Set(this._def.values),"f"),!Hh(this,nl,"f").has(t.data)){const r=this._getOrReturnCtx(t);return $(r,{received:r.data,code:P.invalid_enum_value,options:this._def.values}),ie}return Yt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Yo.create(t,{...this._def,...r})}exclude(t,r=this._def){return Yo.create(this.options.filter(o=>!t.includes(o)),{...this._def,...r})}}nl=new WeakMap,Yo.create=$2;class al extends me{constructor(){super(...arguments),rl.set(this,void 0)}_parse(t){const r=De.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==z.string&&o.parsedType!==z.number){const i=De.objectValues(r);return $(o,{expected:De.joinValues(i),received:o.parsedType,code:P.invalid_type}),ie}if(Hh(this,rl,"f")||R2(this,rl,new Set(De.getValidEnumValues(this._def.values)),"f"),!Hh(this,rl,"f").has(t.data)){const i=De.objectValues(r);return $(o,{received:o.data,code:P.invalid_enum_value,options:i}),ie}return Yt(t.data)}get enum(){return this._def.values}}rl=new WeakMap,al.create=(e,t)=>new al({values:e,typeName:se.ZodNativeEnum,...fe(t)});let Gh=(()=>{class e extends me{unwrap(){return this._def.type}_parse(r){const{ctx:o}=this._processInputParams(r);if(o.parsedType!==z.promise&&!1===o.common.async)return $(o,{code:P.invalid_type,expected:z.promise,received:o.parsedType}),ie;const i=o.parsedType===z.promise?o.data:Promise.resolve(o.data);return Yt(i.then(s=>this._def.type.parseAsync(s,{path:o.path,errorMap:o.common.contextualErrorMap})))}}return e.create=(t,r)=>new e({type:t,typeName:se.ZodPromise,...fe(r)}),e})(),qi=(()=>{class e extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){var o=this;const{status:i,ctx:s}=this._processInputParams(r),a=this._def.effect||null,c={addIssue:u=>{$(s,u),u.fatal?i.abort():i.dirty()},get path(){return s.path}};if(c.addIssue=c.addIssue.bind(c),"preprocess"===a.type){const u=a.transform(s.data,c);if(s.common.async)return Promise.resolve(u).then(function(){var l=V(function*(d){if("aborted"===i.value)return ie;const f=yield o._def.schema._parseAsync({data:d,path:s.path,parent:s});return"aborted"===f.status?ie:"dirty"===f.status||"dirty"===i.value?La(f.value):f});return function(d){return l.apply(this,arguments)}}());{if("aborted"===i.value)return ie;const l=this._def.schema._parseSync({data:u,path:s.path,parent:s});return"aborted"===l.status?ie:"dirty"===l.status||"dirty"===i.value?La(l.value):l}}if("refinement"===a.type){const u=l=>{const d=a.refinement(l,c);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(!1===s.common.async){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===l.status?ie:("dirty"===l.status&&i.dirty(),u(l.value),{status:i.value,value:l.value})}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>"aborted"===l.status?ie:("dirty"===l.status&&i.dirty(),u(l.value).then(()=>({status:i.value,value:l.value}))))}if("transform"===a.type){if(!1===s.common.async){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!el(u))return u;const l=a.transform(u.value,c);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:l}}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>el(u)?Promise.resolve(a.transform(u.value,c)).then(l=>({status:i.value,value:l})):u)}De.assertNever(a)}}return e.create=(t,r,o)=>new e({schema:t,typeName:se.ZodEffects,effect:r,...fe(o)}),e.createWithPreprocess=(t,r,o)=>new e({schema:r,effect:{type:"preprocess",transform:t},typeName:se.ZodEffects,...fe(o)}),e})(),Qo=(()=>{class e extends me{_parse(r){return this._getType(r)===z.undefined?Yt(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodOptional,...fe(r)}),e})(),$a=(()=>{class e extends me{_parse(r){return this._getType(r)===z.null?Yt(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodNullable,...fe(r)}),e})(),Xw=(()=>{class e extends me{_parse(r){const{ctx:o}=this._processInputParams(r);let i=o.data;return o.parsedType===z.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodDefault,defaultValue:"function"==typeof r.default?r.default:()=>r.default,...fe(r)}),e})(),eb=(()=>{class e extends me{_parse(r){const{ctx:o}=this._processInputParams(r),i={...o,common:{...o.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return tl(s)?s.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new uo(i.common.issues)},input:i.data})})):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new uo(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodCatch,catchValue:"function"==typeof r.catch?r.catch:()=>r.catch,...fe(r)}),e})(),H2=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.nan){const i=this._getOrReturnCtx(r);return $(i,{code:P.invalid_type,expected:z.nan,received:i.parsedType}),ie}return{status:"valid",value:r.data}}}return e.create=t=>new e({typeName:se.ZodNaN,...fe(t)}),e})();const MK=Symbol("zod_brand");class tb extends me{_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.type._parse({data:r.data,path:r.path,parent:r})}unwrap(){return this._def.type}}class cl extends me{_parse(t){var r=this;const{status:o,ctx:i}=this._processInputParams(t);if(i.common.async)return function(){var a=V(function*(){const c=yield r._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===c.status?ie:"dirty"===c.status?(o.dirty(),La(c.value)):r._def.out._parseAsync({data:c.value,path:i.path,parent:i})});return function(){return a.apply(this,arguments)}}()();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===s.status?ie:"dirty"===s.status?(o.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(t,r){return new cl({in:t,out:r,typeName:se.ZodPipeline})}}let nb=(()=>{class e extends me{_parse(r){const o=this._def.innerType._parse(r),i=s=>(el(s)&&(s.value=Object.freeze(s.value)),s);return tl(o)?o.then(s=>i(s)):i(o)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodReadonly,...fe(r)}),e})();function V2(e,t={},r){return e?zh.create().superRefine((o,i)=>{var s,a;if(!e(o)){const c="function"==typeof t?t(o):"string"==typeof t?{message:t}:t,u=null===(a=null!==(s=c.fatal)&&void 0!==s?s:r)||void 0===a||a;i.addIssue({code:"custom",..."string"==typeof c?{message:c}:c,fatal:u})}}):zh.create()}const NK={object:Ba.lazycreate};var se=function(e){return e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly",e}(se||{});const z2=Vh.create,q2=Hw.create,G2=zw.create,W2=qi.create;var U=Object.freeze({__proto__:null,defaultErrorMap:Pa,setErrorMap:function hK(e){N2=e},getErrorMap:jh,makeIssue:$h,EMPTY_PATH:[],addIssueToContext:$,ParseStatus:Bt,INVALID:ie,DIRTY:La,OK:Yt,isAborted:Uw,isDirty:jw,isValid:el,isAsync:tl,get util(){return De},get objectUtil(){return M2},ZodParsedType:z,getParsedType:Ko,ZodType:me,datetimeRegex:L2,ZodString:Vh,ZodNumber:Hw,ZodBigInt:Vw,ZodBoolean:zw,ZodDate:qw,ZodSymbol:F2,ZodUndefined:Gw,ZodNull:Ww,ZodAny:zh,ZodUnknown:ol,ZodNever:zi,ZodVoid:B2,ZodArray:il,ZodObject:Ba,ZodUnion:Zw,ZodDiscriminatedUnion:qh,ZodIntersection:Yw,ZodTuple:Ua,ZodRecord:sl,ZodMap:U2,ZodSet:j2,ZodFunction:ja,ZodLazy:Qw,ZodLiteral:Jw,ZodEnum:Yo,ZodNativeEnum:al,ZodPromise:Gh,ZodEffects:qi,ZodTransformer:qi,ZodOptional:Qo,ZodNullable:$a,ZodDefault:Xw,ZodCatch:eb,ZodNaN:H2,BRAND:MK,ZodBranded:tb,ZodPipeline:cl,ZodReadonly:nb,custom:V2,Schema:me,ZodSchema:me,late:NK,get ZodFirstPartyTypeKind(){return se},coerce:{string:e=>Vh.create({...e,coerce:!0}),number:e=>Hw.create({...e,coerce:!0}),boolean:e=>zw.create({...e,coerce:!0}),bigint:e=>Vw.create({...e,coerce:!0}),date:e=>qw.create({...e,coerce:!0})},any:zh.create,array:il.create,bigint:Vw.create,boolean:G2,date:qw.create,discriminatedUnion:qh.create,effect:W2,enum:Yo.create,function:ja.create,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>V2(r=>r instanceof e,t),intersection:Yw.create,lazy:Qw.create,literal:Jw.create,map:U2.create,nan:H2.create,nativeEnum:al.create,never:zi.create,null:Ww.create,nullable:$a.create,number:q2,object:Ba.create,oboolean:()=>G2().optional(),onumber:()=>q2().optional(),optional:Qo.create,ostring:()=>z2().optional(),pipeline:cl.create,preprocess:qi.createWithPreprocess,promise:Gh.create,record:sl.create,set:j2.create,strictObject:Ba.strictCreate,string:z2,symbol:F2.create,transformer:W2,tuple:Ua.create,undefined:Gw.create,union:Zw.create,unknown:ol.create,void:B2.create,NEVER:ie,ZodIssueCode:P,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:uo});class Ge{static id(){return U.string().regex(/^[0-9a-f]{64}$/)}static event(){return U.object({id:Ge.id(),kind:U.number().int().nonnegative(),pubkey:Ge.id(),tags:U.string().array().array(),content:U.string(),created_at:U.number().int().nonnegative(),sig:U.string()})}static filter(){return U.object({kinds:U.number().int().nonnegative().array().optional(),ids:Ge.id().array().optional(),authors:Ge.id().array().optional(),since:U.number().int().nonnegative().optional(),until:U.number().int().nonnegative().optional(),limit:U.number().int().nonnegative().optional(),search:U.string().optional()}).passthrough().transform(t=>{const r=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((o,[i,s])=>((r.includes(i)||i.startsWith("#"))&&(o[i]=s),o),{})})}static bech32(t){return U.string().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(r=>!t||r.startsWith(`${t}1`))}static clientEVENT(){return U.tuple([U.literal("EVENT"),Ge.event()])}static clientREQ(){return U.tuple([U.literal("REQ"),U.string()]).rest(Ge.filter())}static clientCOUNT(){return U.tuple([U.literal("COUNT"),U.string()]).rest(Ge.filter())}static clientCLOSE(){return U.tuple([U.literal("CLOSE"),U.string()])}static clientAUTH(){return U.tuple([U.literal("AUTH"),Ge.event()])}static clientMsg(){return U.union([Ge.clientEVENT(),Ge.clientREQ(),Ge.clientCOUNT(),Ge.clientCLOSE(),Ge.clientAUTH()])}static relayEVENT(){return U.tuple([U.literal("EVENT"),U.string(),Ge.event()])}static relayOK(){return U.tuple([U.literal("OK"),Ge.id(),U.boolean(),U.string()])}static relayEOSE(){return U.tuple([U.literal("EOSE"),U.string()])}static relayNOTICE(){return U.tuple([U.literal("NOTICE"),U.string()])}static relayCLOSED(){return U.tuple([U.literal("CLOSED"),U.string(),U.string()])}static relayAUTH(){return U.tuple([U.literal("AUTH"),U.string()])}static relayCOUNT(){return U.tuple([U.literal("COUNT"),U.string(),U.object({count:U.number().int().nonnegative(),approximate:U.boolean().optional()})])}static relayMsg(){return U.union([Ge.relayEVENT(),Ge.relayOK(),Ge.relayEOSE(),Ge.relayNOTICE(),Ge.relayCLOSED(),Ge.relayAUTH(),Ge.relayCOUNT()])}static metadata(){return U.object({about:U.string().optional().catch(void 0),banner:U.string().url().optional().catch(void 0),bot:U.boolean().optional().catch(void 0),display_name:U.string().optional().catch(void 0),lud06:Ge.bech32("lnurl").optional().catch(void 0),lud16:U.string().email().optional().catch(void 0),name:U.string().optional().catch(void 0),nip05:U.string().email().optional().catch(void 0),picture:U.string().url().optional().catch(void 0),website:U.string().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return U.object({id:U.string(),method:U.string(),params:U.string().array()})}static connectResponse(){return U.object({id:U.string(),result:U.string(),error:U.string().optional()})}static json(){return U.string().transform((t,r)=>{try{return JSON.parse(t)}catch{return r.addIssue({code:U.ZodIssueCode.custom,message:"Invalid JSON"}),U.NEVER}})}}class uY{socket;subscriptions=new Map;ee=new EventTarget;constructor(t,r={}){const{auth:o,backoff:i=new cK(1e3),verifyEvent:s=Da}=r;this.socket=new lK(t).withBuffer(new dK).withBackoff(!1===i?void 0:i).onOpen(()=>{for(const a of this.subscriptions.values())this.send(a)}).onMessage((a,c)=>{const u=Ge.json().pipe(Ge.relayMsg()).safeParse(c.data);if(!u.success)return;const l=u.data;switch(l[0]){case"EVENT":case"EOSE":case"CLOSED":if("EVENT"===l[0]&&!s(l[2]))break;"CLOSED"===l[0]&&this.subscriptions.delete(l[1]),this.ee.dispatchEvent(new CustomEvent(`sub:${l[1]}`,{detail:l}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${l[1]}`,{detail:l}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:l}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${l[1]}`,{detail:l}));break;case"AUTH":o?.(l[1]).then(d=>this.send(["AUTH",d])).catch(()=>{})}}).build()}send(t){switch(t[0]){case"REQ":this.subscriptions.set(t[1],t);break;case"CLOSE":this.subscriptions.delete(t[1]);break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}req(t,r={}){var o=this;return Bh(function*(){const{signal:i}=r,s=crypto.randomUUID(),a=o.on(`sub:${s}`,i),c=["REQ",s,...t];o.send(c);try{var d,u=!1,l=!1;try{for(var h,f=Vi(a);u=!(h=yield Zo(f.next())).done;u=!1){const p=h.value;if("EOSE"===p[0]&&(yield p),"CLOSED"===p[0])break;if("EVENT"===p[0]){if(!fh(t,p[2]))continue;yield p}}}catch(p){l=!0,d=p}finally{try{u&&null!=f.return&&(yield Zo(f.return()))}finally{if(l)throw d}}}finally{o.send(["CLOSE",s])}})()}query(t,r){var o=this;return V(function*(){const i=new On,s=t.reduce((f,h)=>f+KM(h),0);if(0===s)return[];var u,a=!1,c=!1;try{for(var d,l=Vi(o.req(t,r));a=!(d=yield l.next()).done;a=!1){const f=d.value;if("EOSE"===f[0])break;if("EVENT"===f[0]&&i.add(f[2]),"CLOSED"===f[0])throw new Error("Subscription closed");if(i.size>=s)break}}catch(f){c=!0,u=f}finally{try{a&&null!=l.return&&(yield l.return())}finally{if(c)throw u}}return[...i]})()}event(t,r){var o=this;return V(function*(){const i=o.once(`ok:${t.id}`,r?.signal);o.send(["EVENT",t]);const[,,s,a]=yield i;if(!s)throw new Error(a)})()}count(t,r){var o=this;return V(function*(){const i=crypto.randomUUID(),s=o.once(`count:${i}`,r?.signal);o.send(["COUNT",i,...t]);const[,,a]=yield s;return a})()}on(t,r){var o=this;return Bh(function*(){if(r?.aborted)throw o.abortError();const i=new T2(r),s=f=>i.push(f.detail);o.ee.addEventListener(t,s);try{var u,a=!1,c=!1;try{for(var d,l=Vi(i);a=!(d=yield Zo(l.next())).done;a=!1)yield d.value}catch(f){c=!0,u=f}finally{try{a&&null!=l.return&&(yield Zo(l.return()))}finally{if(c)throw u}}}finally{o.ee.removeEventListener(t,s)}})()}once(t,r){var o=this;return V(function*(){var a,i=!1,s=!1;try{for(var u,c=Vi(o.on(t,r));i=!(u=yield c.next()).done;i=!1)return u.value}catch(l){s=!0,a=l}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(s)throw a}}throw new Error("Unreachable")})()}abortError(){return new DOMException("The signal has been aborted","AbortError")}close(){var t=this;return V(function*(){t.socket.readyState!==WebSocket.CLOSED&&(yield new Promise(r=>{t.socket.addEventListener(je.close,r,{once:!0}),t.socket.close()}))})()}}class Wh extends aK{constructor(){var t;super({open:t=>new uY(t),reqRouter:(t=V(function*(r){return new Map([["wss://umbrel.local:8484",r]])}),function(o){return t.apply(this,arguments)}),eventRouter:function(){var t=V(function*(){return["wss://umbrel.local:8484"]});return function(){return t.apply(this,arguments)}}()})}observe(t){const r=Et(this.req(t)),o=r.pipe(Er(([i])=>"CLOSED"===i),dv(ae(void 0)));return r.pipe(Er(([i])=>"EVENT"===i),dv(o)).pipe(Me(([,,i])=>i))}}let Z2=(()=>{class e{constructor(r){this.mainPool=r}listenUserStatusUpdate(r){return this.mainPool.observe([{kinds:[Number(Pi.UserStatuses)],"#t":["omegle"],authors:[r]}])}listenChatAvailable(r){const o=(new Date).getTime()/1e3-5;return this.mainPool.observe([{kinds:[Number(Pi.UserStatuses)],"#t":["wannachat","omegle"],since:o-3600},{kinds:[Number(Pi.UserStatuses)],"#t":["chating","omegle"],"#p":[r.publicKeyHex],since:o}])}static#e=this.\u0275fac=function(o){return new(o||e)(J(Wh))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),K2=(()=>{class e{constructor(r,o,i){this.nostrEventFactory=r,this.findStrangerNostr=o,this.mainPool=i}publish(r){return this.mainPool.event(r)}searchStranger(r){var o=this;return V(function*(){return o.publishWannaChatStatus(r),new Promise(i=>{const s=o.findStrangerNostr.listenChatAvailable(r).subscribe(function(){var a=V(function*(c){if(console.info((new Date).toLocaleString(),"event was listen: ",c),c.pubkey!==r.publicKeyHex){if(o.isChatingInvite(c)&&o.isChatingToMe(c,r))s.unsubscribe(),console.info((new Date).toLocaleString(),"it's a chating invitation from ",c.pubkey," repling invitation..."),yield o.inviteToChating(r,c),console.info((new Date).toLocaleString(),"replied... resolving... "),i(oo.fromPubkey(c.pubkey)),console.info((new Date).toLocaleString(),"[searchStranger] unsubscribe");else if(o.isWannaChat(c))if(console.info((new Date).toLocaleString(),"[searchStranger] unsubscribe"),s.unsubscribe(),console.info((new Date).toLocaleString(),"inviting ",c.pubkey," to chat"),yield o.inviteToChating(r,c),yield o.listenChatingConfirmation(c,r))i(oo.fromPubkey(c.pubkey));else{const l=yield o.searchStranger(r);i(l)}}else console.info((new Date).toLocaleString(),"lol, my own event")});return function(c){return a.apply(this,arguments)}}())})})()}isChatingInvite(r){return"chating"===r.content}isWannaChat(r){return"wannachat"===r.content}isChatingToMe(r,o){console.info((new Date).toLocaleString(),"is wannachat reply with chating? event: ",r);const i=r.tags.filter(([s])=>"p"===s).find(([,s])=>s===o.publicKeyHex)||[];return console.info((new Date).toLocaleString(),i.length?"yes":"no"),!!i.length}inviteToChating(r,o){const i=oo.fromPubkey(o.pubkey);return this.publishChatInviteStatus(r,i)}listenChatingConfirmation(r,o){var i=this;return V(function*(){return new Promise(s=>{console.info((new Date).toLocaleString(),"listening status update from: ",r.pubkey);const a=i.findStrangerNostr.listenUserStatusUpdate(r.pubkey).subscribe(c=>{c.id!==r.id||"wannachat"!==c.content?(a.unsubscribe(),console.info((new Date).toLocaleString(),"[listenUserStatusUpdate] unsubscribe"),console.info((new Date).toLocaleString(),"stranger ",r.pubkey," update status: ",c),i.isChatingToMe(c,o)?(s(!0),console.info((new Date).toLocaleString(),'is "chating" status confirmed, resolved with true')):(console.info((new Date).toLocaleString(),"unexpected status was given, resolved with false, event: ",c),s(!1))):console.info((new Date).toLocaleString(),"stranger #wannachat status was listen, ignoring and waiting new status...")})})})()}publishWannaChatStatus(r){const o=this.nostrEventFactory.createWannaChatUserStatus(r);return console.info((new Date).toLocaleString(),"updating my status to: ",o),this.mainPool.event(o)}publishChatInviteStatus(r,o){const i=this.nostrEventFactory.createChatingUserStatus(r,o);return console.info((new Date).toLocaleString(),"updating my status to: ",i),this.mainPool.event(i)}connect(){return oo.create()}disconnect(r){const o=this.nostrEventFactory.createDisconnectedUserStatus(r);return console.info((new Date).toLocaleString(),"updating my status to: ",o),this.mainPool.event(o)}static#e=this.\u0275fac=function(o){return new(o||e)(J(nw),J(Z2),J(Wh))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),Y2=(()=>{class e{constructor(r,o){this.nostrEventFactory=r,this.mainPool=o}openEncryptedDirectMessage(r,o,i){return V(function*(){return ju.decrypt(r.nostrSecret,o.nostrPublic,i.content)})()}listenMessages(r,o){return this.mainPool.observe([{kinds:[Number(Pi.EncryptedDirectMessage)],authors:[o.publicKeyHex],"#p":[r.publicKeyHex]}])}sendMessage(r,o,i){var s=this;return V(function*(){const a=yield s.nostrEventFactory.createEncryptedDirectMessage(r,o,i);return s.mainPool.event(a)})()}isTyping(r){const o=this.nostrEventFactory.createTypingUserStatus(r);return this.mainPool.event(o)}stopTyping(r){const o=this.nostrEventFactory.cleanUserStatus(r);return this.mainPool.event(o)}static#e=this.\u0275fac=function(o){return new(o||e)(J(nw),J(Wh))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),lY=(()=>{class e{constructor(){this.authorTypes={[Ii.STRANGE]:"Stranger",[Ii.YOU]:"You"}}transform(r){return this.authorTypes[r]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275pipe=jt({name:"author",type:e,pure:!0})}return e})();function dY(e,t){if(1&e&&(on(0,"div",15)(1,"span"),Io(2),function KI(e,t){const r=be();let o;const i=e+le;r.firstCreatePass?(o=function UU(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[i]=o,o.onDestroy&&(r.destroyHooks??=[]).push(i,o.onDestroy)):o=r.data[i];const s=o.factory||(o.factory=ni(o.type)),c=Jt(ne);try{const u=zl(!1),l=s();return zl(u),function cU(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,T(),i,l),l}finally{Jt(c)}}(3,"author"),xn(),on(4,"span",16),Io(5),xn()()),2&e){const r=t.$implicit,o=Xc();pr(),qm("author-stranger",r.author===o.AUTHOR_STRANGE)("author-you",r.author===o.AUTHOR_YOU),pr(),Gd("",YI(3,6,r.author),": "),pr(3),oy(r.text)}}function fY(e,t){if(1&e){const r=Gc();on(0,"button",17),So("click",function(){return ui(r),li(Xc().findStranger())}),Io(1," Start "),xn()}}function hY(e,t){if(1&e){const r=Gc();on(0,"button",18),So("click",function(){ui(r);const i=Xc();return li(i.currentState=i.STATE_UP_TO_DISCONNECT)}),Io(1," Stop "),xn()}}function pY(e,t){if(1&e){const r=Gc();on(0,"button",19),So("click",function(){return ui(r),li(Xc().disconnect())}),Io(1," Really? "),xn()}}const gY=[{path:"chat",component:(()=>{class e{constructor(r,o){this.findStrangerProxy=r,this.talkToStrangerProxy=o,this.STATE_CONNECTED=xi.CONNECTED,this.STATE_UP_TO_DISCONNECT=xi.UP_TO_DISCONNECT,this.STATE_DISCONNECTED=xi.DISCONNECTED,this.AUTHOR_STRANGE=Ii.STRANGE,this.AUTHOR_YOU=Ii.YOU,this.TYPING_TIMEOUT=3e3,this.typingTimeoutId=0,this.currentOnline=0,this.currentState=xi.DISCONNECTED,this.you=null,this.stranger=null,this.messages=[]}findStranger(){const r=this.you=this.findStrangerProxy.connect();console.info((new Date).toLocaleString(),"me: ",r),this.findStrangerProxy.searchStranger(this.you).then(o=>this.startConversation(r,o)).catch(o=>console.error(o))}disconnect(){return this.you?this.findStrangerProxy.disconnect(this.you).then(()=>(this.currentState=xi.DISCONNECTED,Promise.resolve())):Promise.resolve()}startConversation(r,o){console.log("starting conversation, stranger: ",o),this.stranger=o,this.currentState=xi.CONNECTED,this.talkToStrangerProxy.listenMessages(r,o).subscribe({next:i=>this.addMessageFromStranger(r,o,i)})}addMessageFromStranger(r,o,i){this.talkToStrangerProxy.openEncryptedDirectMessage(r,o,i).then(s=>{this.messages.push({author:Ii.STRANGE,text:s,time:i.created_at})})}sendMessage(r){const o=this.you,i=this.stranger;o&&i&&(this.talkToStrangerProxy.sendMessage(o,i,r),this.messages.push({author:Ii.YOU,text:r,time:Math.floor((new Date).getTime()/1e3)}))}onTyping(){const r=this.you;r&&(this.typingTimeoutId||this.talkToStrangerProxy.isTyping(r),clearTimeout(this.typingTimeoutId),this.typingTimeoutId=Number(setTimeout(()=>{this.talkToStrangerProxy.stopTyping(r),this.typingTimeoutId=0},this.TYPING_TIMEOUT)))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(K2),ne(Y2))};static#t=this.\u0275cmp=Tl({type:e,selectors:[["omg-chat"]],decls:17,vars:6,consts:[["conversation",""],["messageField",""],["send",""],[1,"navbar"],["src","/omegle-nostr/assets/logo.png","alt","logo",1,"logo"],[1,"description"],[1,"main"],[1,"conversation"],["class","chat",4,"ngFor","ngForOf"],["novalidate","","autocomplete","off",1,"form"],["type","button","class","btn start bottom-left-radius",3,"click",4,"ngIf"],["type","button","class","btn bottom-left-radius",3,"click",4,"ngIf"],["type","button","class","btn bottom-left-radius bold",3,"click",4,"ngIf"],["name","text",1,"textarea",3,"keydown.enter","keydown"],["type","button",1,"btn","bottom-right-radius",3,"click"],[1,"chat"],[1,"text"],["type","button",1,"btn","start","bottom-left-radius",3,"click"],["type","button",1,"btn","bottom-left-radius",3,"click"],["type","button",1,"btn","bottom-left-radius","bold",3,"click"]],template:function(o,i){if(1&o){const s=Gc();on(0,"section",3),qc(1,"img",4),on(2,"h2",5),Io(3,"Talk to strangers!"),xn()(),on(4,"main",6)(5,"section",7,0),vi(7,dY,6,8,"div",8),xn(),on(8,"form",9),vi(9,fY,2,0,"button",10)(10,hY,2,0,"button",11)(11,pY,2,0,"button",12),on(12,"textarea",13,1),So("keydown.enter",function(){ui(s);const c=ry(13);return li(i.sendMessage(c.value))})("keydown",function(){return ui(s),li(i.onTyping())}),xn(),on(14,"button",14,2),So("click",function(){ui(s);const c=ry(13);return i.sendMessage(c.value),li(c.value="")}),Io(16," Send "),xn()()()}2&o&&(pr(7),Vs("ngForOf",i.messages),pr(2),Vs("ngIf",i.currentState===i.STATE_DISCONNECTED),pr(),Vs("ngIf",i.currentState===i.STATE_CONNECTED),pr(),Vs("ngIf",i.currentState===i.STATE_UP_TO_DISCONNECT),pr(),Vc("disabled",i.currentState===i.STATE_DISCONNECTED?"disabled":null),pr(2),Vc("disabled",i.currentState===i.STATE_DISCONNECTED?"disabled":null))},dependencies:[C1,I1,lY]})}return e})()},{path:"",redirectTo:"chat",pathMatch:"full"}];let mY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({imports:[_A.forRoot(gY,{useHash:!0}),_A]})}return e})(),yY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Tl({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,i){1&o&&qc(0,"router-outlet")},dependencies:[xv]})}return e})(),vY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({imports:[cu]})}return e})(),Q2=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({providers:[nw,Wh],imports:[cu]})}return e})(),wY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({providers:[SN],imports:[cu]})}return e})(),bY=(()=>{class e{constructor(){}getAuthorFromEvent(r){return new oo(Ca.npubEncode(r.pubkey))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),_Y=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Bn({type:e});static#r=this.\u0275inj=Sn({providers:[Z2,K2,Y2,bY],imports:[cu]})}return e})(),EY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Bn({type:e,bootstrap:[yY]});static#r=this.\u0275inj=Sn({imports:[vY,E5,mY,wY,_Y,Q2,Q2]})}return e})();b5().bootstrapModule(EY).catch(e=>console.error(e))}},Zh=>{Zh(Zh.s=394)}]);