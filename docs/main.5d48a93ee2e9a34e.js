"use strict";(self.webpackChunkomeglestr=self.webpackChunkomeglestr||[]).push([[792],{59:(rp,ib,Ha)=>{var za={};Ha.r(za),Ha.d(za,{OG:()=>Yv,My:()=>pa,Ph:()=>fn,lX:()=>Zv,Id:()=>Oi,fg:()=>kA,qj:()=>$t,aT:()=>ga,lq:()=>Fo,z:()=>Kv,Q5:()=>Nu});var op={};function sb(e,t,r,o,i,s,a){try{var c=e[s](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(o,i)}function U(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var s=e.apply(t,r);function a(u){sb(s,o,i,a,c,"next",u)}function c(u){sb(s,o,i,a,c,"throw",u)}a(void 0)})}}Ha.r(op),Ha.d(op,{aK:()=>zi,e8:()=>Ma,DO:()=>Wu,dJ:()=>ZN,OG:()=>bw,My:()=>Na,Ph:()=>Hi,lX:()=>yw,Id:()=>Zu,fg:()=>YN,qj:()=>sr,aT:()=>Oa,r4:()=>Fh,aY:()=>Vi,x:()=>Ew,lq:()=>ka,z:()=>vw,zW:()=>Ra,Q5:()=>Ku});let lt=null,hl=1;const oi=Symbol("SIGNAL");function pe(e){const t=lt;return lt=e,t}function ab(e){if((!Ga(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==hl)){if(!e.producerMustRecompute(e)&&!sp(e))return e.dirty=!1,void(e.lastCleanEpoch=hl);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=hl}}function sp(e){Yi(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(ab(r),o!==r.version))return!0}return!1}function pl(e,t){if(function gb(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Yi(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)pl(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Yi(i),i.producerIndexOfThis[o]=t}}function Ga(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Yi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let mb=null;function We(e){return"function"==typeof e}function gl(e){const r=e(o=>{Error.call(o),o.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const cp=gl(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((o,i)=>`${i+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function ml(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class Ot{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const s of r)s.remove(this);else r.remove(this);const{initialTeardown:o}=this;if(We(o))try{o()}catch(s){t=s instanceof cp?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_b(s)}catch(a){t=t??[],a instanceof cp?t=[...t,...a.errors]:t.push(a)}}if(t)throw new cp(t)}}add(t){var r;if(t&&t!==this)if(this.closed)_b(t);else{if(t instanceof Ot){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&ml(r,t)}remove(t){const{_finalizers:r}=this;r&&ml(r,t),t instanceof Ot&&t._removeParent(this)}}Ot.EMPTY=(()=>{const e=new Ot;return e.closed=!0,e})();const wb=Ot.EMPTY;function bb(e){return e instanceof Ot||e&&"closed"in e&&We(e.remove)&&We(e.add)&&We(e.unsubscribe)}function _b(e){We(e)?e():e.unsubscribe()}const ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yl={setTimeout(e,t,...r){const{delegate:o}=yl;return o?.setTimeout?o.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=yl;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Eb(e){yl.setTimeout(()=>{const{onUnhandledError:t}=ii;if(!t)throw e;t(e)})}function up(){}const hR=lp("C",void 0,void 0);function lp(e,t,r){return{kind:e,value:t,error:r}}let si=null;function vl(e){if(ii.useDeprecatedSynchronousErrorHandling){const t=!si;if(t&&(si={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:o}=si;if(si=null,r)throw o}}else e()}class dp extends Ot{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,bb(t)&&t.add(this)):this.destination=bR}static create(t,r,o){return new hp(t,r,o)}next(t){this.isStopped?pp(function gR(e){return lp("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?pp(function pR(e){return lp("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?pp(hR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yR=Function.prototype.bind;function fp(e,t){return yR.call(e,t)}class vR{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(o){wl(o)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(o){wl(o)}else wl(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){wl(r)}}}class hp extends dp{constructor(t,r,o){let i;if(super(),We(t)||!t)i={next:t??void 0,error:r??void 0,complete:o??void 0};else{let s;this&&ii.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&fp(t.next,s),error:t.error&&fp(t.error,s),complete:t.complete&&fp(t.complete,s)}):i=t}this.destination=new vR(i)}}function wl(e){ii.useDeprecatedSynchronousErrorHandling?function mR(e){ii.useDeprecatedSynchronousErrorHandling&&si&&(si.errorThrown=!0,si.error=e)}(e):Eb(e)}function pp(e,t){const{onStoppedNotification:r}=ii;r&&yl.setTimeout(()=>r(e,t))}const bR={closed:!0,next:up,error:function wR(e){throw e},complete:up},gp="function"==typeof Symbol&&Symbol.observable||"@@observable";function ai(e){return e}function Db(e){return 0===e.length?ai:1===e.length?e[0]:function(r){return e.reduce((o,i)=>i(o),r)}}let It=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const o=new e;return o.source=this,o.operator=r,o}subscribe(r,o,i){const s=function DR(e){return e&&e instanceof dp||function ER(e){return e&&We(e.next)&&We(e.error)&&We(e.complete)}(e)&&bb(e)}(r)?r:new hp(r,o,i);return vl(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(o){r.error(o)}}forEach(r,o){return new(o=Cb(o))((i,s)=>{const a=new hp({next:c=>{try{r(c)}catch(u){s(u),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(r){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(r)}[gp](){return this}pipe(...r){return Db(r)(this)}toPromise(r){return new(r=Cb(r))((o,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>o(s))})}}return e.create=t=>new e(t),e})();function Cb(e){var t;return null!==(t=e??ii.Promise)&&void 0!==t?t:Promise}const CR=gl(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nn=(()=>{class e extends It{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const o=new Sb(this,this);return o.operator=r,o}_throwIfClosed(){if(this.closed)throw new CR}next(r){vl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(r)}})}error(r){vl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:o}=this;for(;o.length;)o.shift().error(r)}})}complete(){vl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:o,isStopped:i,observers:s}=this;return o||i?wb:(this.currentObservers=null,s.push(r),new Ot(()=>{this.currentObservers=null,ml(s,r)}))}_checkFinalizedStatuses(r){const{hasError:o,thrownError:i,isStopped:s}=this;o?r.error(i):s&&r.complete()}asObservable(){const r=new It;return r.source=this,r}}return e.create=(t,r)=>new Sb(t,r),e})();class Sb extends nn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,o;null===(o=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===o||o.call(r,t)}error(t){var r,o;null===(o=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===o||o.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,o;return null!==(o=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==o?o:wb}}class Tn extends nn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:o}=this;if(t)throw r;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}function Ib(e){return We(e?.lift)}function Dt(e){return t=>{if(Ib(t))return t.lift(function(r){try{return e(r,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(e,t,r,o,i){return new SR(e,t,r,o,i)}class SR extends dp{constructor(t,r,o,i,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=r?function(c){try{r(c)}catch(u){t.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Oe(e,t){return Dt((r,o)=>{let i=0;r.subscribe(dt(o,s=>{o.next(e.call(t,s,i++))}))})}class O extends Error{constructor(t,r){super(function Qi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function $r(e){return{toString:e}.toString()}const Xi="__parameters__";function ts(e,t,r){return $r(()=>{const o=function mp(e){return function(...r){if(e){const o=e(...r);for(const i in o)this[i]=o[i]}}}(t);function i(...s){if(this instanceof i)return o.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(u,l,d){const f=u.hasOwnProperty(Xi)?u[Xi]:Object.defineProperty(u,Xi,{value:[]})[Xi];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(a),u}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const Te=globalThis;function Me(e){for(let t in e)if(e[t]===Me)return t;throw Error("Could not find renamed property on target object.")}function ft(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ft).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function yp(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const xR=Me({__forward_ref__:Me});function vp(e){return e.__forward_ref__=vp,e.toString=function(){return ft(this())},e}function te(e){return _l(e)?e():e}function _l(e){return"function"==typeof e&&e.hasOwnProperty(xR)&&e.__forward_ref__===vp}function G(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function An(e){return{providers:e.providers||[],imports:e.imports||[]}}function El(e){return Nb(e,Cl)||Nb(e,Rb)}function Nb(e,t){return e.hasOwnProperty(t)?e[t]:null}function Dl(e){return e&&(e.hasOwnProperty(wp)||e.hasOwnProperty(OR))?e[wp]:null}const Cl=Me({\u0275prov:Me}),wp=Me({\u0275inj:Me}),Rb=Me({ngInjectableDef:Me}),OR=Me({ngInjectorDef:Me});class W{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=G({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cp(e){return e&&!!e.\u0275providers}const Wa=Me({\u0275cmp:Me}),Sp=Me({\u0275dir:Me}),Ip=Me({\u0275pipe:Me}),kb=Me({\u0275mod:Me}),Vr=Me({\u0275fac:Me}),Za=Me({__NG_ELEMENT_ID__:Me}),Pb=Me({__NG_ENV_ID__:Me});function ue(e){return"string"==typeof e?e:null==e?"":String(e)}function xp(e,t){throw new O(-201,!1)}var we=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(we||{});let Tp;function Lb(){return Tp}function rn(e){const t=Tp;return Tp=e,t}function Fb(e,t,r){const o=El(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&we.Optional?null:void 0!==t?t:void xp()}const Ka={},Ap="__NG_DI_FLAG__",Sl="ngTempTokenPath",UR=/\n/gm,Bb="__source";let ns;function vo(e){const t=ns;return ns=e,t}function VR(e,t=we.Default){if(void 0===ns)throw new O(-203,!1);return null===ns?Fb(e,void 0,t):ns.get(e,t&we.Optional?null:void 0,t)}function Z(e,t=we.Default){return(Lb()||VR)(te(e),t)}function k(e,t=we.Default){return Z(e,Il(t))}function Il(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Mp(e){const t=[];for(let r=0;r<e.length;r++){const o=te(e[r]);if(Array.isArray(o)){if(0===o.length)throw new O(900,!1);let i,s=we.Default;for(let a=0;a<o.length;a++){const c=o[a],u=HR(c);"number"==typeof u?-1===u?i=c.token:s|=u:i=c}t.push(Z(i,s))}else t.push(Z(o))}return t}function Ya(e,t){return e[Ap]=t,e.prototype[Ap]=t,e}function HR(e){return e[Ap]}const xl=Ya(ts("Optional"),8),Tl=Ya(ts("SkipSelf"),4);function ci(e,t){return e.hasOwnProperty(Vr)?e[Vr]:null}function rs(e,t){e.forEach(r=>Array.isArray(r)?rs(r,t):t(r))}function jb(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Al(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wn(e,t,r){let o=os(e,t);return o>=0?e[1|o]=r:(o=~o,function $b(e,t,r,o){let i=e.length;if(i==t)e.push(r,o);else if(1===i)e.push(o,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Rp(e,t){const r=os(e,t);if(r>=0)return e[1|r]}function os(e,t){return function Vb(e,t,r){let o=0,i=e.length>>r;for(;i!==o;){const s=o+(i-o>>1),a=e[s<<r];if(t===a)return s<<r;a>t?i=s:o=s+1}return~(i<<r)}(e,t,1)}const lr={},Ce=[],ui=new W(""),Hb=new W("",-1),Op=new W("");class Nl{get(t,r=Ka){if(r===Ka){const o=new Error(`NullInjectorError: No provider for ${ft(t)}!`);throw o.name="NullInjectorError",o}return r}}var Rl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Rl||{}),jn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jn||{}),$n=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}($n||{});function YR(e,t,r){let o=e.length;for(;;){const i=e.indexOf(t,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===o||e.charCodeAt(i+s)<=32)return i}r=i+1}}function kp(e,t,r){let o=0;for(;o<r.length;){const i=r[o];if("number"==typeof i){if(0!==i)break;o++;const s=r[o++],a=r[o++],c=r[o++];e.setAttribute(t,a,c,s)}else{const s=i,a=r[++o];qb(s)?e.setProperty(t,s,a):e.setAttribute(t,s,a),o++}}return o}function zb(e){return 3===e||4===e||6===e}function qb(e){return 64===e.charCodeAt(0)}function Qa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const i=t[o];"number"==typeof i?r=i:0===r||Gb(e,r,i,null,-1===r||2===r?t[++o]:null)}}return e}function Gb(e,t,r,o,i){let s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){const c=e[s++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=s-1;break}}}for(;s<e.length;){const c=e[s];if("number"==typeof c)break;if(c===r){if(null===o)return void(null!==i&&(e[s+1]=i));if(o===e[s+1])return void(e[s+2]=i)}s++,null!==o&&s++,null!==i&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,r),null!==o&&e.splice(s++,0,o),null!==i&&e.splice(s++,0,i)}const Wb="ng-template";function QR(e,t,r,o){let i=0;if(o){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==YR(t[i+1].toLowerCase(),r,0))return!0}else if(Pp(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&"string"==typeof(s=t[i]);)if(s.toLowerCase()===r)return!0}return!1}function Pp(e){return 4===e.type&&e.value!==Wb}function JR(e,t,r){return t===(4!==e.type||r?e.value:Wb)}function XR(e,t,r){let o=4;const i=e.attrs,s=null!==i?function nO(e){for(let t=0;t<e.length;t++)if(zb(e[t]))return t;return e.length}(i):0;let a=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!a)if(4&o){if(o=2|1&o,""!==u&&!JR(e,u,r)||""===u&&1===t.length){if(Vn(o))return!1;a=!0}}else if(8&o){if(null===i||!QR(e,i,u,r)){if(Vn(o))return!1;a=!0}}else{const l=t[++c],d=eO(u,i,Pp(e),r);if(-1===d){if(Vn(o))return!1;a=!0;continue}if(""!==l){let f;if(f=d>s?"":i[d+1].toLowerCase(),2&o&&l!==f){if(Vn(o))return!1;a=!0}}}}else{if(!a&&!Vn(o)&&!Vn(u))return!1;if(a&&Vn(u))continue;a=!1,o=u|1&o}}return Vn(o)||a}function Vn(e){return!(1&e)}function eO(e,t,r,o){if(null===t)return-1;let i=0;if(o||!r){let s=!1;for(;i<t.length;){const a=t[i];if(a===e)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=t[++i];for(;"string"==typeof c;)c=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function rO(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Zb(e,t,r=!1){for(let o=0;o<t.length;o++)if(XR(e,t[o],r))return!0;return!1}function Kb(e,t){return e?":not("+t.trim()+")":t}function iO(e){let t=e[0],r=1,o=2,i="",s=!1;for(;r<e.length;){let a=e[r];if("string"==typeof a)if(2&o){const c=e[++r];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&o?i+="."+a:4&o&&(i+=" "+a);else""!==i&&!Vn(a)&&(t+=Kb(s,i),i=""),o=a,s=s||!Vn(o);r++}return""!==i&&(t+=Kb(s,i)),t}function Ol(e){return $r(()=>{const t=Qb(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Rl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jn.Emulated,styles:e.styles||Ce,_:null,schemas:e.schemas||null,tView:null,id:""};Jb(r);const o=e.dependencies;return r.directiveDefs=kl(o,!1),r.pipeDefs=kl(o,!0),r.id=function dO(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of r)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function cO(e){return ye(e)||ht(e)}function uO(e){return null!==e}function Hn(e){return $r(()=>({type:e.type,bootstrap:e.bootstrap||Ce,declarations:e.declarations||Ce,imports:e.imports||Ce,exports:e.exports||Ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Yb(e,t){if(null==e)return lr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const i=e[o];let s,a,c=$n.None;Array.isArray(i)?(c=i[0],s=i[1],a=i[2]??s):(s=i,a=i),t?(r[s]=c!==$n.None?[o,c]:o,t[s]=a):r[s]=o}return r}function zt(e){return $r(()=>{const t=Qb(e);return Jb(t),t})}function qt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ye(e){return e[Wa]||null}function ht(e){return e[Sp]||null}function xt(e){return e[Ip]||null}function kt(e,t){const r=e[kb]||null;if(!r&&!0===t)throw new Error(`Type ${ft(e)} does not have '\u0275mod' property.`);return r}function Qb(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||lr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ce,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yb(e.inputs,t),outputs:Yb(e.outputs),debugInfo:null}}function Jb(e){e.features?.forEach(t=>t(e))}function kl(e,t){if(!e)return null;const r=t?xt:cO;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(uO)}function fO(...e){return{\u0275providers:Lp(0,e),\u0275fromNgModule:!0}}function Lp(e,...t){const r=[],o=new Set;let i;const s=a=>{r.push(a)};return rs(t,a=>{const c=a;Ll(c,s,[],o)&&(i||=[],i.push(c))}),void 0!==i&&Xb(i,s),r}function Xb(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:i}=e[r];Fp(i,s=>{t(s,o)})}}function Ll(e,t,r,o){if(!(e=te(e)))return!1;let i=null,s=Dl(e);const a=!s&&ye(e);if(s||a){if(a&&!a.standalone)return!1;i=e}else{const u=e.ngModule;if(s=Dl(u),!s)return!1;i=u}const c=o.has(i);if(a){if(c)return!1;if(o.add(i),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of u)Ll(l,t,r,o)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let l;o.add(i);try{rs(s.imports,d=>{Ll(d,t,r,o)&&(l||=[],l.push(d))})}finally{}void 0!==l&&Xb(l,t)}if(!c){const l=ci(i)||(()=>new i);t({provide:i,useFactory:l,deps:Ce},i),t({provide:Op,useValue:i,multi:!0},i),t({provide:ui,useValue:()=>Z(i),multi:!0},i)}const u=s.providers;if(null!=u&&!c){const l=e;Fp(u,d=>{t(d,l)})}}}return i!==e&&void 0!==e.providers}function Fp(e,t){for(let r of e)Cp(r)&&(r=r.\u0275providers),Array.isArray(r)?Fp(r,t):t(r)}const hO=Me({provide:String,useValue:Me});function Bp(e){return null!==e&&"object"==typeof e&&hO in e}function li(e){return"function"==typeof e}const Up=new W(""),Fl={},gO={};let jp;function Bl(){return void 0===jp&&(jp=new Nl),jp}class sn{}class is extends sn{get destroyed(){return this._destroyed}constructor(t,r,o,i){super(),this.parent=r,this.source=o,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vp(t,a=>this.processProvider(a)),this.records.set(Hb,ss(void 0,this)),i.has("environment")&&this.records.set(sn,ss(void 0,this));const s=this.records.get(Up);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Op,Ce,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=pe(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=vo(this),o=rn(void 0);try{return t()}finally{vo(r),rn(o)}}get(t,r=Ka,o=we.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Pb))return t[Pb](this);o=Il(o);const s=vo(this),a=rn(void 0);try{if(!(o&we.SkipSelf)){let u=this.records.get(t);if(void 0===u){const l=function bO(e){return"function"==typeof e||"object"==typeof e&&e instanceof W}(t)&&El(t);u=l&&this.injectableDefInScope(l)?ss($p(t),Fl):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(o&we.Self?Bl():this.parent).get(t,r=o&we.Optional&&r===Ka?null:r)}catch(c){if("NullInjectorError"===c.name){if((c[Sl]=c[Sl]||[]).unshift(ft(t)),s)throw c;return function zR(e,t,r,o){const i=e[Sl];throw t[Bb]&&i.unshift(t[Bb]),e.message=function qR(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ft(t);if(Array.isArray(t))i=t.map(ft).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):ft(c)))}i=`{${s.join(", ")}}`}return`${r}${o?"("+o+")":""}[${i}]: ${e.replace(UR,"\n  ")}`}("\n"+e.message,i,r,o),e.ngTokenPath=i,e[Sl]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{rn(a),vo(s)}}resolveInjectorInitializers(){const t=pe(null),r=vo(this),o=rn(void 0);try{const s=this.get(ui,Ce,we.Self);for(const a of s)a()}finally{vo(r),rn(o),pe(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(ft(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(t){let r=li(t=te(t))?t:te(t&&t.provide);const o=function yO(e){return Bp(e)?ss(void 0,e.useValue):ss(function n_(e,t,r){let o;if(li(e)){const i=te(e);return ci(i)||$p(i)}if(Bp(e))o=()=>te(e.useValue);else if(function t_(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Mp(e.deps||[]));else if(function e_(e){return!(!e||!e.useExisting)}(e))o=()=>Z(te(e.useExisting));else{const i=te(e&&(e.useClass||e.provide));if(!function vO(e){return!!e.deps}(e))return ci(i)||$p(i);o=()=>new i(...Mp(e.deps))}return o}(e),Fl)}(t);if(!li(t)&&!0===t.multi){let i=this.records.get(r);i||(i=ss(void 0,Fl,!0),i.factory=()=>Mp(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=pe(null);try{return r.value===Fl&&(r.value=gO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function wO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{pe(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=te(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function $p(e){const t=El(e),r=null!==t?t.factory:ci(e);if(null!==r)return r;if(e instanceof W)throw new O(204,!1);if(e instanceof Function)return function mO(e){if(e.length>0)throw new O(204,!1);const r=function RR(e){return e&&(e[Cl]||e[Rb])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new O(204,!1)}function ss(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Vp(e,t){for(const r of e)Array.isArray(r)?Vp(r,t):r&&Cp(r)?Vp(r.\u0275providers,t):t(r)}function Hr(e,t){e instanceof is&&e.assertNotDestroyed();const o=vo(e),i=rn(void 0);try{return t()}finally{vo(o),rn(i)}}function r_(){return void 0!==Lb()||null!=function $R(){return ns}()}const Ze=0,L=1,K=2,Je=3,zn=4,Pt=5,bn=6,cs=7,$e=8,st=9,qn=10,re=11,Xa=12,i_=13,us=14,Ye=15,ec=16,ls=17,zr=18,tc=19,s_=20,bo=21,$l=22,di=23,le=25,zp=1,dr=7,ds=9,Xe=10;var qp=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(qp||{});function Lt(e){return Array.isArray(e)&&"object"==typeof e[zp]}function Ft(e){return Array.isArray(e)&&!0===e[zp]}function Gp(e){return!!(4&e.flags)}function fi(e){return e.componentOffset>-1}function Hl(e){return!(1&~e.flags)}function Gn(e){return!!e.template}function Wp(e){return!!(512&e[K])}class OO{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function l_(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function hi(){return d_}function d_(e){return e.type.prototype.ngOnChanges&&(e.setInput=PO),kO}function kO(){const e=h_(this),t=e?.current;if(t){const r=e.previous;if(r===lr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function PO(e,t,r,o,i){const s=this.declaredInputs[o],a=h_(e)||function LO(e,t){return e[f_]=t}(e,{previous:lr,current:null}),c=a.current||(a.current={}),u=a.previous,l=u[s];c[s]=new OO(l&&l.currentValue,r,u===lr),l_(e,t,i,r)}hi.ngInherit=!0;const f_="__ngSimpleChanges__";function h_(e){return e[f_]||null}const fr=function(e,t,r){};let m_=!1;function ke(e){for(;Array.isArray(e);)e=e[Ze];return e}function rc(e,t){return ke(t[e])}function Gt(e,t){return ke(t[e.index])}function oc(e,t){return e.data[t]}function fs(e,t){return e[t]}function _n(e,t){const r=t[e];return Lt(r)?r:r[Ze]}function Jp(e){return!(128&~e[K])}function hr(e,t){return null==t?null:e[t]}function y_(e){e[ls]=0}function VO(e){1024&e[K]||(e[K]|=1024,Jp(e)&&ic(e))}function Xp(e){return!!(9216&e[K]||e[di]?.dirty)}function eg(e){e[qn].changeDetectionScheduler?.notify(1),Xp(e)?ic(e):64&e[K]&&(function BO(){return m_}()?(e[K]|=1024,ic(e)):e[qn].changeDetectionScheduler?.notify())}function ic(e){e[qn].changeDetectionScheduler?.notify();let t=pi(e);for(;null!==t&&!(8192&t[K])&&(t[K]|=8192,Jp(t));)t=pi(t)}function zl(e,t){if(!(256&~e[K]))throw new O(911,!1);null===e[bo]&&(e[bo]=[]),e[bo].push(t)}function pi(e){const t=e[Je];return Ft(t)?t[Je]:t}const oe={lFrame:x_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function b_(){return oe.bindingsEnabled}function T(){return oe.lFrame.lView}function be(){return oe.lFrame.tView}function gi(e){return oe.lFrame.contextLView=e,e[$e]}function mi(e){return oe.lFrame.contextLView=null,e}function Ne(){let e=__();for(;null!==e&&64===e.type;)e=e.parent;return e}function __(){return oe.lFrame.currentTNode}function pr(e,t){const r=oe.lFrame;r.currentTNode=e,r.isParent=t}function ng(){return oe.lFrame.isParent}function rg(){oe.lFrame.isParent=!1}function Wn(){return oe.lFrame.bindingIndex++}function XO(e,t){const r=oe.lFrame;r.bindingIndex=r.bindingRootIndex=e,og(t)}function og(e){oe.lFrame.currentDirectiveIndex=e}function ql(e){oe.lFrame.currentQueryIndex=e}function tk(e){const t=e[L];return 2===t.type?t.declTNode:1===t.type?e[Pt]:null}function S_(e,t,r){if(r&we.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||r&we.Host||(i=tk(s),null===i||(s=s[us],10&i.type))););if(null===i)return!1;t=i,e=s}const o=oe.lFrame=I_();return o.currentTNode=t,o.lView=e,!0}function ag(e){const t=I_(),r=e[L];oe.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function I_(){const e=oe.lFrame,t=null===e?null:e.child;return null===t?x_(e):t}function x_(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function T_(){const e=oe.lFrame;return oe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const A_=T_;function cg(){const e=T_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Bt(){return oe.lFrame.selectedIndex}function yi(e){oe.lFrame.selectedIndex=e}function Ve(){const e=oe.lFrame;return oc(e.tView,e.selectedIndex)}let N_=!0;function ac(){return N_}function gr(e){N_=e}function Gl(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const s=e.data[r].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=s;a&&(e.contentHooks??=[]).push(-r,a),c&&((e.contentHooks??=[]).push(r,c),(e.contentCheckHooks??=[]).push(r,c)),u&&(e.viewHooks??=[]).push(-r,u),l&&((e.viewHooks??=[]).push(r,l),(e.viewCheckHooks??=[]).push(r,l)),null!=d&&(e.destroyHooks??=[]).push(r,d)}}function Wl(e,t,r){R_(e,t,3,r)}function Zl(e,t,r,o){(3&e[K])===r&&R_(e,t,r,o)}function ug(e,t){let r=e[K];(3&r)===t&&(r&=16383,r+=1,e[K]=r)}function R_(e,t,r,o){const s=o??-1,a=t.length-1;let c=0;for(let u=void 0!==o?65535&e[ls]:0;u<a;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=o&&c>=o)break}else t[u]<0&&(e[ls]+=65536),(c<s||-1==s)&&(ck(e,r,t,u),e[ls]=(4294901760&e[ls])+u+2),u++}function O_(e,t){fr(4,e,t);const r=pe(null);try{t.call(e)}finally{pe(r),fr(5,e,t)}}function ck(e,t,r,o){const i=r[o]<0,s=r[o+1],c=e[i?-r[o]:r[o]];i?e[K]>>14<e[ls]>>16&&(3&e[K])===t&&(e[K]+=16384,O_(c,s)):O_(c,s)}const ps=-1;class cc{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function dg(e){return e!==ps}function uc(e){return 32767&e}function lc(e,t){let r=function hk(e){return e>>16}(e),o=t;for(;r>0;)o=o[us],r--;return o}let fg=!0;function Kl(e){const t=fg;return fg=e,t}const k_=255,P_=5;let pk=0;const mr={};function Yl(e,t){const r=L_(e,t);if(-1!==r)return r;const o=t[L];o.firstCreatePass&&(e.injectorIndex=t.length,hg(o.data,e),hg(t,null),hg(o.blueprint,null));const i=Ql(e,t),s=e.injectorIndex;if(dg(i)){const a=uc(i),c=lc(i,t),u=c[L].data;for(let l=0;l<8;l++)t[s+l]=c[a+l]|u[a+l]}return t[s+8]=i,s}function hg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function L_(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ql(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,i=t;for(;null!==i;){if(o=H_(i),null===o)return ps;if(r++,i=i[us],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return ps}function pg(e,t,r){!function gk(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Za)&&(o=r[Za]),null==o&&(o=r[Za]=pk++);const i=o&k_;t.data[e+(i>>P_)]|=1<<i}(e,t,r)}function F_(e,t,r){if(r&we.Optional||void 0!==e)return e;xp()}function B_(e,t,r,o){if(r&we.Optional&&void 0===o&&(o=null),!(r&(we.Self|we.Host))){const i=e[st],s=rn(void 0);try{return i?i.get(t,o,r&we.Optional):Fb(t,o,r&we.Optional)}finally{rn(s)}}return F_(o,0,r)}function U_(e,t,r,o=we.Default,i){if(null!==e){if(2048&t[K]&&!(o&we.Self)){const a=function bk(e,t,r,o,i){let s=e,a=t;for(;null!==s&&null!==a&&2048&a[K]&&!(512&a[K]);){const c=j_(s,a,r,o|we.Self,mr);if(c!==mr)return c;let u=s.parent;if(!u){const l=a[s_];if(l){const d=l.get(r,mr,o);if(d!==mr)return d}u=H_(a),a=a[us]}s=u}return i}(e,t,r,o,mr);if(a!==mr)return a}const s=j_(e,t,r,o,mr);if(s!==mr)return s}return B_(t,r,o,i)}function j_(e,t,r,o,i){const s=function vk(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Za)?e[Za]:void 0;return"number"==typeof t?t>=0?t&k_:wk:t}(r);if("function"==typeof s){if(!S_(t,e,o))return o&we.Host?F_(i,0,o):B_(t,r,o,i);try{let a;if(a=s(o),null!=a||o&we.Optional)return a;xp()}finally{A_()}}else if("number"==typeof s){let a=null,c=L_(e,t),u=ps,l=o&we.Host?t[Ye][Pt]:null;for((-1===c||o&we.SkipSelf)&&(u=-1===c?Ql(e,t):t[c+8],u!==ps&&V_(o,!1)?(a=t[L],c=uc(u),t=lc(u,t)):c=-1);-1!==c;){const d=t[L];if($_(s,c,d.data)){const f=yk(c,t,r,a,o,l);if(f!==mr)return f}u=t[c+8],u!==ps&&V_(o,t[L].data[c+8]===l)&&$_(s,c,t)?(a=d,c=uc(u),t=lc(u,t)):c=-1}}return i}function yk(e,t,r,o,i,s){const a=t[L],c=a.data[e+8],d=function Jl(e,t,r,o,i){const s=e.providerIndexes,a=t.data,c=1048575&s,u=e.directiveStart,d=s>>20,h=i?c+d:e.directiveEnd;for(let p=o?c:c+d;p<h;p++){const g=a[p];if(p<u&&r===g||p>=u&&g.type===r)return p}if(i){const p=a[u];if(p&&Gn(p)&&p.type===r)return u}return null}(c,a,r,null==o?fi(c)&&fg:o!=a&&!!(3&c.type),i&we.Host&&s===c);return null!==d?vi(t,a,d,c):mr}function vi(e,t,r,o){let i=e[r];const s=t.data;if(function uk(e){return e instanceof cc}(i)){const a=i;a.resolving&&function LR(e,t){throw t&&t.join(" > "),new O(-200,e)}(function Se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ue(e)}(s[r]));const c=Kl(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?rn(a.injectImpl):null;S_(e,o,we.Default);try{i=e[r]=a.factory(void 0,s,e,o),t.firstCreatePass&&r>=o.directiveStart&&function ak(e,t,r){const{ngOnChanges:o,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(o){const a=d_(t);(r.preOrderHooks??=[]).push(e,a),(r.preOrderCheckHooks??=[]).push(e,a)}i&&(r.preOrderHooks??=[]).push(0-e,i),s&&((r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s))}(r,s[r],t)}finally{null!==l&&rn(l),Kl(c),a.resolving=!1,A_()}}return i}function $_(e,t,r){return!!(r[t+(e>>P_)]&1<<e)}function V_(e,t){return!(e&we.Self||e&we.Host&&t)}class gt{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return U_(this._tNode,this._lView,t,Il(o),r)}}function wk(){return new gt(Ne(),T())}function gg(e){return $r(()=>{const t=e.prototype.constructor,r=t[Vr]||mg(t),o=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==o;){const s=i[Vr]||mg(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function mg(e){return _l(e)?()=>{const t=mg(te(e));return t&&t()}:ci(e)}function H_(e){const t=e[L],r=t.type;return 2===r?t.declTNode:1===r?e[Pt]:null}function Z_(e,t=null,r=null,o){const i=K_(e,t,r,o);return i.resolveInjectorInitializers(),i}function K_(e,t=null,r=null,o,i=new Set){const s=[r||Ce,fO(e)];return o=o||("object"==typeof e?void 0:ft(e)),new is(s,t||Bl(),o||null,i)}let an=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ka;static#t=this.NULL=new Nl;static create(r,o){if(Array.isArray(r))return Z_({name:""},o,r,"");{const i=r.name??"";return Z_({name:i},r.parent,r.providers,i)}}static#r=this.\u0275prov=G({token:e,providedIn:"any",factory:()=>Z(Hb)});static#h=this.__NG_ELEMENT_ID__=-1}return e})();function vg(e){return e.ngOriginalError}class yr{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&vg(t);for(;r&&vg(r);)r=vg(r);return r||null}}const Q_=new W("",{providedIn:"root",factory:()=>k(yr).handleError.bind(void 0)});let ys=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Ak;static#t=this.__NG_ENV_ID__=r=>r}return e})();class Tk extends ys{constructor(t){super(),this._lView=t}onDestroy(t){return zl(this._lView,t),()=>function tg(e,t){if(null===e[bo])return;const r=e[bo].indexOf(t);-1!==r&&e[bo].splice(r,1)}(this._lView,t)}}function Ak(){return new Tk(T())}function Mk(){return vs(Ne(),T())}function vs(e,t){return new _o(Gt(e,t))}let _o=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=Mk}return e})();function wg(e){return t=>{setTimeout(e,void 0,t)}}const Zt=class Nk extends nn{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,r_()&&(this.destroyRef=k(ys,{optional:!0})??void 0)}emit(t){const r=pe(null);try{super.next(t)}finally{pe(r)}}subscribe(t,r,o){let i=t,s=r||(()=>null),a=o;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=wg(s),i&&(i=wg(i)),a&&(a=wg(a)));const c=super.subscribe({next:i,error:s,complete:a});return t instanceof Ot&&t.add(c),c}};function ed(e){return!(128&~e.flags)}Symbol;const _g=new Map;let kk=0;const Dg="__ngContext__";function Ut(e,t){Lt(t)?(e[Dg]=t[tc],function Lk(e){_g.set(e[tc],e)}(t)):e[Dg]=t}function uE(e){return dE(e[Xa])}function lE(e){return dE(e[zn])}function dE(e){for(;null!==e&&!Ft(e);)e=e[zn];return e}let Cg;const rd=new W("",{providedIn:"root",factory:()=>eP}),eP="ng",wE=new W(""),wi=new W("",{providedIn:"platform",factory:()=>"unknown"}),bE=new W("",{providedIn:"root",factory:()=>function Eo(){if(void 0!==Cg)return Cg;if(typeof document<"u")return document;throw new O(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _E=()=>null;function Rg(e,t,r=!1){return _E(e,t,r)}const IE=new W("",{providedIn:"root",factory:()=>!1});class NE{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const UP=/^>|^->|<!--|-->|--!>|<!-$/g,jP=/(<|>)/g,$P="\u200b$1\u200b";function GE(e){return e.ownerDocument.defaultView}function En(e){return e instanceof Function?e():e}var Co=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Co||{});let qg;function Gg(e,t){return qg(e,t)}function Cs(e,t,r,o,i){if(null!=o){let s,a=!1;Ft(o)?s=o:Lt(o)&&(a=!0,o=o[Ze]);const c=ke(o);0===e&&null!==r?null==i?tD(t,r,c):bi(t,r,c,i||null,!0):1===e&&null!==r?bi(t,r,c,i||null,!0):2===e?function Dc(e,t,r){const o=yd(e,t);o&&function iL(e,t,r,o){e.removeChild(t,r,o)}(e,o,t,r)}(t,c,a):3===e&&t.destroyNode(c),null!=s&&function cL(e,t,r,o,i){const s=r[dr];s!==ke(r)&&Cs(t,e,o,s,i);for(let c=Xe;c<r.length;c++){const u=r[c];wd(u[L],u,e,t,o,s)}}(t,e,s,r,i)}}function Zg(e,t){return e.createComment(function HE(e){return e.replace(UP,t=>t.replace(jP,$P))}(t))}function gd(e,t,r){return e.createElement(t,r)}function JE(e,t){t[qn].changeDetectionScheduler?.notify(1),wd(e,t,t[re],2,null,null)}function XE(e,t){const r=e[ds],o=r.indexOf(t);r.splice(o,1)}function _c(e,t){if(e.length<=Xe)return;const r=Xe+t,o=e[r];if(o){const i=o[ec];null!==i&&i!==e&&XE(i,o),t>0&&(e[r-1][zn]=o[zn]);const s=Al(e,Xe+t);!function JP(e,t){JE(e,t),t[Ze]=null,t[Pt]=null}(o[L],o);const a=s[zr];null!==a&&a.detachView(s[L]),o[Je]=null,o[zn]=null,o[K]&=-129}return o}function md(e,t){if(!(256&t[K])){const r=t[re];r.destroyNode&&wd(e,t,r,3,null,null),function eL(e){let t=e[Xa];if(!t)return Kg(e[L],e);for(;t;){let r=null;if(Lt(t))r=t[Xa];else{const o=t[Xe];o&&(r=o)}if(!r){for(;t&&!t[zn]&&t!==e;)Lt(t)&&Kg(t[L],t),t=t[Je];null===t&&(t=e),Lt(t)&&Kg(t[L],t),r=t&&t[zn]}t=r}}(t)}}function Kg(e,t){if(256&t[K])return;const r=pe(null);try{t[K]&=-129,t[K]|=256,t[di]&&function hb(e){if(Yi(e),Ga(e))for(let t=0;t<e.producerNode.length;t++)pl(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[di]),function oL(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const i=t[r[o]];if(!(i instanceof cc)){const s=r[o+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],u=s[a+1];fr(4,c,u);try{u.call(c)}finally{fr(5,c,u)}}else{fr(4,i,s);try{s.call(i)}finally{fr(5,i,s)}}}}}(e,t),function rL(e,t){const r=e.cleanup,o=t[cs];if(null!==r)for(let s=0;s<r.length-1;s+=2)if("string"==typeof r[s]){const a=r[s+3];a>=0?o[a]():o[-a].unsubscribe(),s+=2}else r[s].call(o[r[s+1]]);null!==o&&(t[cs]=null);const i=t[bo];if(null!==i){t[bo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[L].type&&t[re].destroy();const o=t[ec];if(null!==o&&Ft(t[Je])){o!==t[Je]&&XE(o,t);const i=t[zr];null!==i&&i.detachView(e)}!function Fk(e){_g.delete(e[tc])}(t)}finally{pe(r)}}function Yg(e,t,r){return function eD(e,t,r){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return r[Ze];{const{componentOffset:i}=o;if(i>-1){const{encapsulation:s}=e.data[o.directiveStart+i];if(s===jn.None||s===jn.Emulated)return null}return Gt(o,r)}}(e,t.parent,r)}function bi(e,t,r,o,i){e.insertBefore(t,r,o,i)}function tD(e,t,r){e.appendChild(t,r)}function nD(e,t,r,o,i){null!==o?bi(e,t,r,o,i):tD(e,t,r)}function yd(e,t){return e.parentNode(t)}let Qg,iD=function oD(e,t,r){return 40&e.type?Gt(e,r):null};function vd(e,t,r,o){const i=Yg(e,o,t),s=t[re],c=function rD(e,t,r){return iD(e,t,r)}(o.parent||t[Pt],o,t);if(null!=i)if(Array.isArray(r))for(let u=0;u<r.length;u++)nD(s,i,r[u],c,!1);else nD(s,i,r,c,!1);void 0!==Qg&&Qg(s,o,t,r,i)}function Ec(e,t){if(null!==t){const r=t.type;if(3&r)return Gt(t,e);if(4&r)return Jg(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return Ec(e,o);{const i=e[t.index];return Ft(i)?Jg(-1,i):ke(i)}}if(32&r)return Gg(t,e)()||ke(e[t.index]);{const o=aD(e,t);return null!==o?Array.isArray(o)?o[0]:Ec(pi(e[Ye]),o):Ec(e,t.next)}}return null}function aD(e,t){return null!==t?e[Ye][Pt].projection[t.projection]:null}function Jg(e,t){const r=Xe+e+1;if(r<t.length){const o=t[r],i=o[L].firstChild;if(null!==i)return Ec(o,i)}return t[dr]}function Xg(e,t,r,o,i,s,a){for(;null!=r;){const c=o[r.index],u=r.type;if(a&&0===t&&(c&&Ut(ke(c),o),r.flags|=2),32&~r.flags)if(8&u)Xg(e,t,r.child,o,i,s,!1),Cs(t,e,i,c,s);else if(32&u){const l=Gg(r,o);let d;for(;d=l();)Cs(t,e,i,d,s);Cs(t,e,i,c,s)}else 16&u?uD(e,t,o,r,i,s):Cs(t,e,i,c,s);r=a?r.projectionNext:r.next}}function wd(e,t,r,o,i,s){Xg(r,o,e.firstChild,t,i,s,!1)}function uD(e,t,r,o,i,s){const a=r[Ye],u=a[Pt].projection[o.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Cs(t,e,i,u[l],s);else{let l=u;const d=a[Je];ed(o)&&(l.flags|=128),Xg(e,t,l,d,i,s,!0)}}function lD(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function dD(e,t,r){const{mergedAttrs:o,classes:i,styles:s}=r;null!==o&&kp(e,t,o),null!==i&&lD(e,t,i),null!==s&&function lL(e,t,r){e.setAttribute(t,"style",r)}(e,t,s)}const de={};function Tt(e=1){fD(be(),T(),Bt()+e,!1)}function fD(e,t,r,o){if(!o)if(3&~t[K]){const s=e.preOrderHooks;null!==s&&Zl(t,s,0,r)}else{const s=e.preOrderCheckHooks;null!==s&&Wl(t,s,r)}yi(r)}function ne(e,t=we.Default){const r=T();return null===r?Z(e,t):U_(Ne(),r,te(e),t)}function pD(e,t,r,o,i,s){const a=pe(null);try{let c=null;i&$n.SignalBased&&(c=t[o][oi]),null!==c&&void 0!==c.transformFn&&(s=c.transformFn(s)),i&$n.HasDecoratorInputTransform&&(s=e.inputTransforms[o].call(t,s)),null!==e.setInput?e.setInput(t,c,s,r,o):l_(t,c,o,s)}finally{pe(a)}}function bd(e,t,r,o,i,s,a,c,u,l,d){const f=t.blueprint.slice();return f[Ze]=i,f[K]=204|o,(null!==l||e&&2048&e[K])&&(f[K]|=2048),y_(f),f[Je]=f[us]=e,f[$e]=r,f[qn]=a||e&&e[qn],f[re]=c||e&&e[re],f[st]=u||e&&e[st]||null,f[Pt]=s,f[tc]=function Pk(){return kk++}(),f[bn]=d,f[s_]=l,f[Ye]=2==t.type?e[Ye]:f,f}function Ss(e,t,r,o,i){let s=e.data[t];if(null===s)s=function em(e,t,r,o,i){const s=__(),a=ng(),u=e.data[t]=function vL(e,t,r,o,i,s){let a=t?t.injectorIndex:-1,c=0;return function hs(){return null!==oe.skipHydrationRootTNode}()&&(c|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,r,t,o,i);return null===e.firstChild&&(e.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(e,t,r,o,i),function JO(){return oe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=r,s.value=o,s.attrs=i;const a=function sc(){const e=oe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return pr(s,!0),s}function Cc(e,t,r,o){if(0===r)return-1;const i=t.length;for(let s=0;s<r;s++)t.push(o),e.blueprint.push(o),e.data.push(null);return i}function gD(e,t,r,o,i){const s=Bt(),a=2&o;try{yi(-1),a&&t.length>le&&fD(e,t,le,!1),fr(a?2:0,i),r(o,i)}finally{yi(s),fr(a?3:1,i)}}function tm(e,t,r){if(Gp(t)){const o=pe(null);try{const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,r[a],a)}}finally{pe(o)}}}function nm(e,t,r){b_()&&(function SL(e,t,r,o){const i=r.directiveStart,s=r.directiveEnd;fi(r)&&function RL(e,t,r){const o=Gt(t,e),i=mD(r);let a=16;r.signals?a=4096:r.onPush&&(a=64);const c=_d(e,bd(e,i,null,a,o,t,null,e[qn].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=c}(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||Yl(r,t),Ut(o,t);const a=r.initialInputs;for(let c=i;c<s;c++){const u=e.data[c],l=vi(t,e,c,r);Ut(l,t),null!==a&&OL(0,c-i,l,u,0,a),Gn(u)&&(_n(r.index,t)[$e]=vi(t,e,c,r))}}(e,t,r,Gt(r,t)),!(64&~r.flags)&&_D(e,t,r))}function rm(e,t,r=Gt){const o=t.localNames;if(null!==o){let i=t.index+1;for(let s=0;s<o.length;s+=2){const a=o[s+1],c=-1===a?r(t,e):e[a];e[i++]=c}}}function mD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=om(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function om(e,t,r,o,i,s,a,c,u,l,d){const f=le+o,h=f+i,p=function fL(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:de);return r}(f,h),g="function"==typeof l?l():l;return p[L]={type:e,blueprint:p,template:r,queries:null,viewQuery:c,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:d}}let yD=()=>null;function vD(e,t,r,o,i){for(let s in t){if(!t.hasOwnProperty(s))continue;const a=t[s];if(void 0===a)continue;o??={};let c,u=$n.None;Array.isArray(a)?(c=a[0],u=a[1]):c=a;let l=s;if(null!==i){if(!i.hasOwnProperty(s))continue;l=i[s]}0===e?wD(o,r,l,c,u):wD(o,r,l,c)}return o}function wD(e,t,r,o,i){let s;e.hasOwnProperty(r)?(s=e[r]).push(t,o):s=e[r]=[t,o],void 0!==i&&s.push(i)}function im(e,t,r,o){if(b_()){const i=null===o?null:{"":-1},s=function xL(e,t){const r=e.directiveRegistry;let o=null,i=null;if(r)for(let s=0;s<r.length;s++){const a=r[s];if(Zb(t,a.selectors,!1))if(o||(o=[]),Gn(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),o.unshift(...c,a),sm(e,t,c.length)}else o.unshift(a),sm(e,t,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,o,i),o.push(a)}return null===o?null:[o,i]}(e,r);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&bD(e,t,r,a,i,c),i&&function TL(e,t,r){if(t){const o=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=r[t[i+1]];if(null==s)throw new O(-301,!1);o.push(t[i],s)}}}(r,o,i)}r.mergedAttrs=Qa(r.mergedAttrs,r.attrs)}function bD(e,t,r,o,i,s){for(let l=0;l<o.length;l++)pg(Yl(r,t),e,o[l].type);!function ML(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let l=0;l<o.length;l++){const d=o[l];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,u=Cc(e,t,o.length,null);for(let l=0;l<o.length;l++){const d=o[l];r.mergedAttrs=Qa(r.mergedAttrs,d.hostAttrs),NL(e,r,t,u,d),AL(u,d,i),null!==d.contentQueries&&(r.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(r.flags|=64);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),a=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),c=!0),u++}!function wL(e,t,r){const i=t.directiveEnd,s=e.data,a=t.attrs,c=[];let u=null,l=null;for(let d=t.directiveStart;d<i;d++){const f=s[d],h=r?r.get(f):null,g=h?h.outputs:null;u=vD(0,f.inputs,d,u,h?h.inputs:null),l=vD(1,f.outputs,d,l,g);const m=null===u||null===a||Pp(t)?null:kL(u,d,a);c.push(m)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=l}(e,r,s)}function _D(e,t,r){const o=r.directiveStart,i=r.directiveEnd,s=r.index,a=function ek(){return oe.lFrame.currentDirectiveIndex}();try{yi(s);for(let c=o;c<i;c++){const u=e.data[c],l=t[c];og(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&IL(u,l)}}finally{yi(-1),og(a)}}function IL(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function sm(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function AL(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Gn(t)&&(r[""]=e)}}function NL(e,t,r,o,i){e.data[o]=i;const s=i.factory||(i.factory=ci(i.type)),a=new cc(s,Gn(i),ne);e.blueprint[o]=a,r[o]=a,function DL(e,t,r,o,i){const s=i.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const c=~t.index;(function CL(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}(e,t,o,Cc(e,r,i.hostVars,de),i)}function vr(e,t,r,o,i,s){const a=Gt(e,t);!function am(e,t,r,o,i,s,a){if(null==s)e.removeAttribute(t,i,r);else{const c=null==a?ue(s):a(s,o||"",i);e.setAttribute(t,i,c,r)}}(t[re],a,s,e.value,r,o,i)}function OL(e,t,r,o,i,s){const a=s[t];if(null!==a)for(let c=0;c<a.length;)pD(o,r,a[c++],a[c++],a[c++],a[c++])}function kL(e,t,r){let o=null,i=0;for(;i<r.length;){const s=r[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===o&&(o=[]);const a=e[s];for(let c=0;c<a.length;c+=3)if(a[c]===t){o.push(s,a[c+1],a[c+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return o}function ED(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function DD(e,t){const r=e.contentQueries;if(null!==r){const o=pe(null);try{for(let i=0;i<r.length;i+=2){const a=r[i+1];if(-1!==a){const c=e.data[a];ql(r[i]),c.contentQueries(2,t[a],a)}}}finally{pe(o)}}}function _d(e,t){return e[Xa]?e[i_][zn]=t:e[Xa]=t,e[i_]=t,t}function cm(e,t,r){ql(0);const o=pe(null);try{t(e,r)}finally{pe(o)}}function Ed(e,t){const r=e[st],o=r?r.get(yr,null):null;o&&o.handleError(t)}function um(e,t,r,o,i){for(let s=0;s<r.length;){const a=r[s++],c=r[s++],u=r[s++];pD(e.data[a],t[a],o,c,u,i)}}function PL(e,t){const r=_n(t,e),o=r[L];!function LL(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const i=r[Ze];null!==i&&null===r[bn]&&(r[bn]=Rg(i,r[st])),lm(o,r,r[$e])}function lm(e,t,r){ag(t);try{const o=e.viewQuery;null!==o&&cm(1,o,r);const i=e.template;null!==i&&gD(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[zr]?.finishViewCreation(e),e.staticContentQueries&&DD(e,t),e.staticViewQueries&&cm(2,e.viewQuery,r);const s=e.components;null!==s&&function FL(e,t){for(let r=0;r<t.length;r++)PL(e,t[r])}(t,s)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[K]&=-5,cg()}}function Is(e,t){return!t||null===t.firstChild||ed(e)}function Ic(e,t,r,o=!0){const i=t[L];if(function tL(e,t,r,o){const i=Xe+o,s=r.length;o>0&&(r[i-1][zn]=t),o<s-Xe?(t[zn]=r[i],jb(r,Xe+o,t)):(r.push(t),t[zn]=null),t[Je]=r;const a=t[ec];null!==a&&r!==a&&function nL(e,t){const r=e[ds];t[Ye]!==t[Je][Je][Ye]&&(e[K]|=qp.HasTransplantedViews),null===r?e[ds]=[t]:r.push(t)}(a,t);const c=t[zr];null!==c&&c.insertView(e),eg(t),t[K]|=128}(i,t,e,r),o){const a=Jg(r,e),c=t[re],u=yd(c,e[dr]);null!==u&&function XP(e,t,r,o,i,s){o[Ze]=i,o[Pt]=t,wd(e,o,r,1,i,s)}(i,e[Pt],c,t,u,a)}const s=t[bn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function xc(e,t,r,o,i=!1){for(;null!==r;){const s=t[r.index];null!==s&&o.push(ke(s)),Ft(s)&&TD(s,o);const a=r.type;if(8&a)xc(e,t,r.child,o);else if(32&a){const c=Gg(r,t);let u;for(;u=c();)o.push(u)}else if(16&a){const c=aD(t,r);if(Array.isArray(c))o.push(...c);else{const u=pi(t[Ye]);xc(u[L],u,c,o,!0)}}r=i?r.projectionNext:r.next}return o}function TD(e,t){for(let r=Xe;r<e.length;r++){const o=e[r],i=o[L].firstChild;null!==i&&xc(o[L],o,i,t)}e[dr]!==e[Ze]&&t.push(e[dr])}let AD=[];const $L={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ic(e.lView)},consumerOnSignalRead(){this.lView[di]=this}},MD=100;function Dd(e,t=!0,r=0){const o=e[qn],i=o.rendererFactory;i.begin?.();try{!function VL(e,t){fm(e,t);let r=0;for(;Xp(e);){if(r===MD)throw new O(103,!1);r++,fm(e,1)}}(e,r)}catch(a){throw t&&Ed(e,a),a}finally{i.end?.(),o.inlineEffectRunner?.flush()}}function HL(e,t,r,o){const i=t[K];if(!(256&~i))return;t[qn].inlineEffectRunner?.flush(),ag(t);let a=null,c=null;(function zL(e){return 2!==e.type})(e)&&(c=function BL(e){return e[di]??function UL(e){const t=AD.pop()??Object.create($L);return t.lView=e,t}(e)}(t),a=function db(e){return e&&(e.nextProducerIndex=0),pe(e)}(c));try{y_(t),function D_(e){return oe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&gD(e,t,r,2,o);const u=!(3&~i);if(u){const f=e.preOrderCheckHooks;null!==f&&Wl(t,f,null)}else{const f=e.preOrderHooks;null!==f&&Zl(t,f,0,null),ug(t,0)}if(function qL(e){for(let t=uE(e);null!==t;t=lE(t)){if(!(t[K]&qp.HasTransplantedViews))continue;const r=t[ds];for(let o=0;o<r.length;o++){VO(r[o])}}}(t),ND(t,0),null!==e.contentQueries&&DD(e,t),u){const f=e.contentCheckHooks;null!==f&&Wl(t,f)}else{const f=e.contentHooks;null!==f&&Zl(t,f,1),ug(t,1)}!function dL(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const i=r[o];if(i<0)yi(~i);else{const s=i,a=r[++o],c=r[++o];XO(a,s),c(2,t[s])}}}finally{yi(-1)}}(e,t);const l=e.components;null!==l&&OD(t,l,0);const d=e.viewQuery;if(null!==d&&cm(2,d,o),u){const f=e.viewCheckHooks;null!==f&&Wl(t,f)}else{const f=e.viewHooks;null!==f&&Zl(t,f,2),ug(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[$l]){for(const f of t[$l])f();t[$l]=null}t[K]&=-73}catch(u){throw ic(t),u}finally{null!==c&&(function fb(e,t){if(pe(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ga(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)pl(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(c,a),function jL(e){e.lView[di]!==e&&(e.lView=null,AD.push(e))}(c)),cg()}}function ND(e,t){for(let r=uE(e);null!==r;r=lE(r))for(let o=Xe;o<r.length;o++)RD(r[o],t)}function GL(e,t,r){RD(_n(t,e),r)}function RD(e,t){Jp(e)&&fm(e,t)}function fm(e,t){const o=e[L],i=e[K],s=e[di];let a=!!(0===t&&16&i);if(a||=!!(64&i&&0===t),a||=!!(1024&i),a||=!(!s?.dirty||!sp(s)),s&&(s.dirty=!1),e[K]&=-9217,a)HL(o,e,o.template,e[$e]);else if(8192&i){ND(e,1);const c=o.components;null!==c&&OD(e,c,1)}}function OD(e,t,r){for(let o=0;o<t.length;o++)GL(e,t[o],r)}function Tc(e){for(e[qn].changeDetectionScheduler?.notify();e;){e[K]|=64;const t=pi(e);if(Wp(e)&&!t)return e;e=t}return null}class Ac{get rootNodes(){const t=this._lView,r=t[L];return xc(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(t){this._lView[$e]=t}get destroyed(){return!(256&~this._lView[K])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Je];if(Ft(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(_c(t,o),Al(r,o))}this._attachedToViewContainer=!1}md(this._lView[L],this._lView)}onDestroy(t){zl(this._lView,t)}markForCheck(){Tc(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){eg(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,Dd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,JE(this._lView[L],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t,eg(this._lView)}}let Kr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=KL}return e})();const WL=Kr,ZL=class extends WL{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const i=function Sc(e,t,r,o){const i=pe(null);try{const s=t.tView,u=bd(e,s,r,4096&e[K]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);u[ec]=e[t.index];const d=e[zr];return null!==d&&(u[zr]=d.createEmbeddedView(s)),lm(s,u,r),u}finally{pe(i)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Ac(i)}};function KL(){return function Cd(e,t){return 4&e.type?new ZL(t,e,vs(e,t)):null}(Ne(),T())}class vm{}class w3{}class jD{}class _3{resolveComponentFactory(t){throw function b3(e){const t=Error(`No component factory found for ${ft(e)}.`);return t.ngComponent=e,t}(t)}}let Ad=(()=>{class e{static#e=this.NULL=new _3}return e})();class VD{}let D3=(()=>{class e{static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:()=>null})}return e})();const wm={},HD=new Set;function wr(e){HD.has(e)||(HD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function zD(...e){}class Re{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zt(!1),this.onMicrotaskEmpty=new Zt(!1),this.onStable=new Zt(!1),this.onError=new Zt(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&r,i.shouldCoalesceRunChangeDetection=o,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function C3(){const e="function"==typeof Te.requestAnimationFrame;let t=Te[e?"requestAnimationFrame":"setTimeout"],r=Te[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function x3(e){const t=()=>{!function I3(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Te,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_m(e),e.isCheckStableRunning=!0,bm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_m(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(function T3(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(c))return r.invokeTask(i,s,a,c);try{return qD(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),GD(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return qD(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),GD(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,_m(e),bm(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new O(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,t,S3,zD,zD);try{return s.runTask(a,r,o)}finally{s.cancelTask(a)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const S3={};function bm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _m(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function qD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function GD(e){e._nesting--,bm(e)}class WD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zt,this.onMicrotaskEmpty=new Zt,this.onStable=new Zt,this.onError=new Zt}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,i){return t.apply(r,o)}}var _i=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_i||{});const ZD={destroy(){}};function Dm(e,t){!t&&function Ul(e){if(!r_())throw new O(-203,!1)}();const r=t?.injector??k(an);if(!function Zn(e){return"browser"===(e??k(an)).get(wi)}(r))return ZD;wr("NgAfterNextRender");const o=r.get(kc),i=o.handler??=new YD,s=t?.phase??_i.MixedReadWrite,a=()=>{i.unregister(u),c()},c=r.get(ys).onDestroy(a),u=Hr(r,()=>new KD(s,()=>{a(),e()}));return i.register(u),{destroy:a}}class KD{constructor(t,r){this.phase=t,this.callbackFn=r,this.zone=k(Re),this.errorHandler=k(yr,{optional:!0}),k(vm,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class YD{constructor(){this.executingCallbacks=!1,this.buckets={[_i.EarlyRead]:new Set,[_i.Write]:new Set,[_i.MixedReadWrite]:new Set,[_i.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let kc=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})();function Rd(e,t,r){let o=r?e.styles:null,i=r?e.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?s=c:1==s?i=yp(i,c):2==s&&(o=yp(o,c+": "+t[++a]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=i:e.classesWithoutHost=i}class XD extends Ad{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=ye(t);return new Fc(r,this.ngModule)}}function eC(e){const t=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];void 0!==o&&t.push({propName:Array.isArray(o)?o[0]:o,templateName:r})}return t}class Od{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=Il(o);const i=this.injector.get(t,wm,o);return i!==wm||r===wm?i:this.parentInjector.get(t,r,o)}}class Fc extends jD{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=eC(t.inputs);if(null!==r)for(const i of o)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return o}get outputs(){return eC(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function sO(e){return e.map(iO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,i){const s=pe(null);try{let a=(i=i||this.ngModule)instanceof sn?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const c=a?new Od(t,a):t,u=c.get(VD,null);if(null===u)throw new O(407,!1);const l=c.get(D3,null),h={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c.get(kc,null),changeDetectionScheduler:c.get(vm,null)},p=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=o?function hL(e,t,r,o){const s=o.get(IE,!1)||r===jn.ShadowDom,a=e.selectRootElement(t,s);return function pL(e){yD(e)}(a),a}(p,o,this.componentDef.encapsulation,c):gd(p,g,function O3(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let v=null;null!==m&&(v=Rg(m,c,!0));const w=om(0,null,null,1,0,null,null,null,null,null,null),b=bd(null,w,null,y,null,null,h,p,c,null,v);let _,D;ag(b);try{const E=this.componentDef;let S,I=null;E.findHostDirectiveDefs?(S=[],I=new Map,E.findHostDirectiveDefs(E,S,I),S.push(E)):S=[E];const R=function P3(e,t){const r=e[L],o=le;return e[o]=t,Ss(r,o,2,"#host",null)}(b,m),$=function L3(e,t,r,o,i,s,a){const c=i[L];!function F3(e,t,r,o){for(const i of e)t.mergedAttrs=Qa(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Rd(t,t.mergedAttrs,!0),null!==r&&dD(o,r,t))}(o,e,t,a);let u=null;null!==t&&(u=Rg(t,i[st]));const l=s.rendererFactory.createRenderer(t,r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const f=bd(i,mD(r),null,d,i[e.index],e,s,l,null,null,u);return c.firstCreatePass&&sm(c,e,o.length-1),_d(i,f),i[e.index]=f}(R,m,E,S,b,h,p);D=oc(w,le),m&&function U3(e,t,r,o){if(o)kp(e,r,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function aO(e){const t=[],r=[];let o=1,i=2;for(;o<e.length;){let s=e[o];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++o]):8===i&&r.push(s);else{if(!Vn(i))break;i=s}o++}return{attrs:t,classes:r}}(t.selectors[0]);i&&kp(e,r,i),s&&s.length>0&&lD(e,r,s.join(" "))}}(p,E,m,o),void 0!==r&&function j3(e,t,r){const o=e.projection=[];for(let i=0;i<t.length;i++){const s=r[i];o.push(null!=s?Array.from(s):null)}}(D,this.ngContentSelectors,r),_=function B3(e,t,r,o,i,s){const a=Ne(),c=i[L],u=Gt(a,i);bD(c,i,a,r,null,o);for(let d=0;d<r.length;d++)Ut(vi(i,c,a.directiveStart+d,a),i);_D(c,i,a),u&&Ut(u,i);const l=vi(i,c,a.directiveStart+a.componentOffset,a);if(e[$e]=i[$e]=l,null!==s)for(const d of s)d(l,t);return tm(c,a,i),l}($,E,S,I,b,[$3]),lm(w,b,null)}finally{cg()}return new k3(this.componentType,_,vs(D,b),b,D)}finally{pe(s)}}}class k3 extends w3{constructor(t,r,o,i,s){super(),this.location=o,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Ac(i,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let i;if(null!==o&&(i=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const s=this._rootLView;um(s[L],s,i,t,r),this.previousInputValues.set(t,r),Tc(_n(this._tNode.index,s))}}get injector(){return new gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function $3(){const e=Ne();Gl(T()[L],e)}let Kn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=V3}return e})();function V3(){return function rC(e,t){let r;const o=t[e.index];return Ft(o)?r=o:(r=ED(o,t,null,e),t[e.index]=r,_d(t,r)),oC(r,t,e,o),new tC(r,e,t)}(Ne(),T())}const H3=Kn,tC=class extends H3{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return vs(this._hostTNode,this._hostLView)}get injector(){return new gt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ql(this._hostTNode,this._hostLView);if(dg(t)){const r=lc(t,this._hostLView),o=uc(t);return new gt(r[L].data[o+8],r)}return new gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=nC(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(t,r,o){let i,s;"number"==typeof o?i=o:null!=o&&(i=o.index,s=o.injector);const c=t.createEmbeddedViewImpl(r||{},s,null);return this.insertImpl(c,i,Is(this._hostTNode,null)),c}createComponent(t,r,o,i,s){const a=t&&!function Ja(e){return"function"==typeof e}(t);let c;if(a)c=r;else{const g=r||{};c=g.index,o=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=a?t:new Fc(ye(t)),l=o||this.parentInjector;if(!s&&null==u.ngModule){const m=(a?l:this.parentInjector).get(sn,null);m&&(s=m)}ye(u.componentType??{});const p=u.create(l,i,null,s);return this.insertImpl(p.hostView,c,Is(this._hostTNode,null)),p}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const i=t._lView;if(function $O(e){return Ft(e[Je])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=i[Je],l=new tC(u,u[Pt],u[Je]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(r),a=this._lContainer;return Ic(a,i,s,o),t.attachToViewContainerRef(),jb(Im(a),s,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=nC(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=_c(this._lContainer,r);o&&(Al(Im(this._lContainer),r),md(o[L],o))}detach(t){const r=this._adjustIndex(t,-1),o=_c(this._lContainer,r);return o&&null!=Al(Im(this._lContainer),r)?new Ac(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function nC(e){return e[8]}function Im(e){return e[8]||(e[8]=[])}let oC=function sC(e,t,r,o){if(e[dr])return;let i;i=8&r.type?ke(o):function z3(e,t){const r=e[re],o=r.createComment(""),i=Gt(t,e);return bi(r,yd(r,i),o,function sL(e,t){return e.nextSibling(t)}(r,i),!1),o}(t,r),e[dr]=i},xm=()=>!1;class Ei{}class OC{}class Lm extends Ei{constructor(t,r,o){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XD(this);const i=kt(t);this._bootstrapComponents=En(i.bootstrap),this._r3Injector=K_(t,r,[{provide:Ei,useValue:this},{provide:Ad,useValue:this.componentFactoryResolver},...o],ft(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fm extends OC{constructor(t){super(),this.moduleType=t}create(t){return new Lm(this.moduleType,t,[])}}class kC extends Ei{constructor(t){super(),this.componentFactoryResolver=new XD(this),this.instance=null;const r=new is([...t.providers,{provide:Ei,useValue:this},{provide:Ad,useValue:this.componentFactoryResolver}],t.parent||Bl(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ld(e,t,r=null){return new kC({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let As=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Tn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bd(e){return!!function Bm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function et(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function xo(e,t,r,o,i,s,a,c){const u=T(),l=be(),d=e+le,f=l.firstCreatePass?function xF(e,t,r,o,i,s,a,c,u){const l=t.consts,d=Ss(t,e,4,a||null,hr(l,c));im(t,r,d,hr(l,u)),Gl(t,d);const f=d.tView=om(2,d,o,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}(d,l,u,t,r,o,i,s,a):l.data[d];pr(f,!1);const h=PC(l,u,f,e);ac()&&vd(l,u,h,f),Ut(h,u);const p=ED(h,u,h,f);return u[d]=p,_d(u,p),function iC(e,t,r){return xm(e,t,r)}(p,f,u),Hl(f)&&nm(l,u,f),null!=a&&rm(u,f,c),xo}let PC=function LC(e,t,r,o){return gr(!0),t[re].createComment("")};function Ls(e,t,r,o){const i=T();return et(i,Wn(),t)&&(be(),vr(Ve(),i,e,t,r,o)),Ls}function qd(e,t){return e<<17|t<<2}function Ao(e){return e>>17&32767}function Zm(e){return 2|e}function Si(e){return(131068&e)>>2}function Km(e,t){return-131069&e|t<<2}function Ym(e){return 1|e}function hS(e,t,r,o){const i=e[r+1],s=null===t;let a=o?Ao(i):Si(i),c=!1;for(;0!==a&&(!1===c||s);){const l=e[a+1];h8(e[a],t)&&(c=!0,e[a+1]=o?Ym(l):Zm(l)),a=o?Ao(l):Si(l)}c&&(e[r+1]=o?Zm(i):Ym(i))}function h8(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&os(e,t)>=0}function Nn(e,t,r){const o=T();return et(o,Wn(),t)&&function un(e,t,r,o,i,s,a,c){const u=Gt(t,r);let d,l=t.inputs;!c&&null!=l&&(d=l[o])?(um(e,r,d,o,i),fi(t)&&function _L(e,t){const r=_n(t,e);16&r[K]||(r[K]|=64)}(r,t.index)):3&t.type&&(o=function bL(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),i=null!=a?a(i,t.value||"",o):i,s.setProperty(u,o,i))}(be(),Ve(),o,e,t,o[re],r,!1),Nn}function Qm(e,t,r,o,i){const a=i?"class":"style";um(e,r,t.inputs[a],a,o)}function Jm(e,t){return function Yn(e,t,r,o){const i=T(),s=be(),a=function Gr(e){const t=oe.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);s.firstUpdatePass&&function ES(e,t,r,o){const i=e.data;if(null===i[r+1]){const s=i[Bt()],a=function _S(e,t){return t>=e.expandoStartIndex}(e,r);(function IS(e,t){return!!(e.flags&(t?8:16))})(s,o)&&null===t&&!a&&(t=!1),t=function E8(e,t,r,o){const i=function ig(e){const t=oe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=o?t.residualClasses:t.residualStyles;if(null===i)0===(o?t.classBindings:t.styleBindings)&&(r=zc(r=Xm(null,e,t,r,o),t.attrs,o),s=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(r=Xm(i,e,t,r,o),null===s){let u=function D8(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Si(o))return e[Ao(o)]}(e,t,o);void 0!==u&&Array.isArray(u)&&(u=Xm(null,e,t,u[1],o),u=zc(u,t.attrs,o),function C8(e,t,r,o){e[Ao(r?t.classBindings:t.styleBindings)]=o}(e,t,o,u))}else s=function S8(e,t,r){let o;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)o=zc(o,e[s].hostAttrs,r);return zc(o,t.attrs,r)}(e,t,o)}return void 0!==s&&(o?t.residualClasses=s:t.residualStyles=s),r}(i,s,t,o),function d8(e,t,r,o,i,s){let a=s?t.classBindings:t.styleBindings,c=Ao(a),u=Si(a);e[o]=r;let d,l=!1;if(Array.isArray(r)?(d=r[1],(null===d||os(r,d)>0)&&(l=!0)):d=r,i)if(0!==u){const h=Ao(e[c+1]);e[o+1]=qd(h,c),0!==h&&(e[h+1]=Km(e[h+1],o)),e[c+1]=function u8(e,t){return 131071&e|t<<17}(e[c+1],o)}else e[o+1]=qd(c,0),0!==c&&(e[c+1]=Km(e[c+1],o)),c=o;else e[o+1]=qd(u,0),0===c?c=o:e[u+1]=Km(e[u+1],o),u=o;l&&(e[o+1]=Zm(e[o+1])),hS(e,d,o,!0),hS(e,d,o,!1),function f8(e,t,r,o,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&os(s,t)>=0&&(r[o+1]=Ym(r[o+1]))}(t,d,e,o,s),a=qd(c,u),s?t.classBindings=a:t.styleBindings=a}(i,s,t,r,a,o)}}(s,e,a,o),t!==de&&et(i,a,t)&&function CS(e,t,r,o,i,s,a,c){if(!(3&t.type))return;const u=e.data,l=u[c+1],d=function l8(e){return!(1&~e)}(l)?SS(u,t,r,i,Si(l),a):void 0;Gd(d)||(Gd(s)||function c8(e){return!(2&~e)}(l)&&(s=SS(u,null,r,i,c,a)),function uL(e,t,r,o,i){if(t)i?e.addClass(r,o):e.removeClass(r,o);else{let s=-1===o.indexOf("-")?void 0:Co.DashCase;null==i?e.removeStyle(r,o,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Co.Important),e.setStyle(r,o,i,s))}}(o,a,rc(Bt(),r),i,s))}(s,s.data[Bt()],i,i[re],e,i[a+1]=function A8(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ft(function Do(e){return e instanceof NE?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,r),o,a)}(e,t,null,!0),Jm}function Xm(e,t,r,o,i){let s=null;const a=r.directiveEnd;let c=r.directiveStylingLast;for(-1===c?c=r.directiveStart:c++;c<a&&(s=t[c],o=zc(o,s.hostAttrs,i),s!==e);)c++;return null!==e&&(r.directiveStylingLast=c),o}function zc(e,t,r){const o=r?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:i===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),wn(e,a,!!r||t[++s]))}return void 0===e?null:e}function SS(e,t,r,o,i,s){const a=null===t;let c;for(;i>0;){const u=e[i],l=Array.isArray(u),d=l?u[1]:u,f=null===d;let h=r[i+1];h===de&&(h=f?Ce:void 0);let p=f?Rp(h,o):d===o?h:void 0;if(l&&!Gd(p)&&(p=Rp(u,o)),Gd(p)&&(c=p,a))return c;const g=e[i+1];i=a?Ao(g):Si(g)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(c=Rp(u,o))}return c}function Gd(e){return void 0!==e}function at(e,t,r,o){const i=T(),s=be(),a=le+e,c=i[re],u=s.firstCreatePass?function J8(e,t,r,o,i,s){const a=t.consts,u=Ss(t,e,2,o,hr(a,i));return im(t,r,u,hr(a,s)),null!==u.attrs&&Rd(u,u.attrs,!1),null!==u.mergedAttrs&&Rd(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,s,i,t,r,o):s.data[a],l=MS(s,i,u,c,t,e);i[a]=l;const d=Hl(u);return pr(u,!0),dD(c,l,u),!function jc(e){return!(32&~e.flags)}(u)&&ac()&&vd(s,i,l,u),0===function HO(){return oe.lFrame.elementDepthCount}()&&Ut(l,i),function zO(){oe.lFrame.elementDepthCount++}(),d&&(nm(s,i,u),tm(s,u,i)),null!==o&&rm(i,u),at}function Ct(){let e=Ne();ng()?rg():(e=e.parent,pr(e,!1));const t=e;(function GO(e){return oe.skipHydrationRootTNode===e})(t)&&function YO(){oe.skipHydrationRootTNode=null}(),function qO(){oe.lFrame.elementDepthCount--}();const r=be();return r.firstCreatePass&&(Gl(r,e),Gp(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function dk(e){return!!(8&e.flags)}(t)&&Qm(r,t,T(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function fk(e){return!!(16&e.flags)}(t)&&Qm(r,t,T(),t.stylesWithoutHost,!1),Ct}function qc(e,t,r,o){return at(e,t,r,o),Ct(),qc}let MS=(e,t,r,o,i,s)=>(gr(!0),gd(o,i,function M_(){return oe.lFrame.currentNamespace}()));function Wd(e,t,r){const o=T(),i=be(),s=e+le,a=i.firstCreatePass?function tB(e,t,r,o,i){const s=t.consts,a=hr(s,o),c=Ss(t,e,8,"ng-container",a);return null!==a&&Rd(c,a,!0),im(t,r,c,hr(s,i)),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,o,t,r):i.data[s];pr(a,!0);const c=RS(i,o,a,e);return o[s]=c,ac()&&vd(i,o,c,a),Ut(c,o),Hl(a)&&(nm(i,o,a),tm(i,a,o)),null!=r&&rm(o,a),Wd}function Zd(){let e=Ne();const t=be();return ng()?rg():(e=e.parent,pr(e,!1)),t.firstCreatePass&&(Gl(t,e),Gp(e)&&t.queries.elementEnd(e)),Zd}let RS=(e,t,r,o)=>(gr(!0),Zg(t[re],""));function Gc(){return T()}const Zs="en-US";let FS=Zs;function Yr(e,t,r,o){const i=T(),s=be(),a=Ne();return function sy(e,t,r,o,i,s,a){const c=Hl(o),l=e.firstCreatePass&&function SD(e){return e.cleanup||(e.cleanup=[])}(e),d=t[$e],f=function CD(e){return e[cs]||(e[cs]=[])}(t);let h=!0;if(3&o.type||a){const m=Gt(o,t),y=a?a(m):m,v=f.length,w=a?_=>a(ke(_[o.index])):o.index;let b=null;if(!a&&c&&(b=function nU(e,t,r,o){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===r&&i[s+1]===o){const c=t[cs],u=i[s+2];return c.length>u?c[u]:null}"string"==typeof a&&(s+=2)}return null}(e,t,i,o.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=dI(o,t,d,s,!1);const _=r.listen(y,i,s);f.push(s,_),l&&l.push(i,w,v,v+1)}}else s=dI(o,t,d,s,!1);const p=o.outputs;let g;if(h&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const D=t[g[y]][g[y+1]].subscribe(s),E=f.length;f.push(s,D),l&&l.push(i,o.index,E,-(E+1))}}}(s,i,i[re],a,e,t,o),Yr}function lI(e,t,r,o){const i=pe(null);try{return fr(6,t,r),!1!==r(o)}catch(s){return Ed(e,s),!1}finally{fr(7,t,r),pe(i)}}function dI(e,t,r,o,i){return function s(a){if(a===Function)return o;Tc(e.componentOffset>-1?_n(e.index,t):t);let u=lI(t,r,o,a),l=s.__ngNextListenerFn__;for(;l;)u=lI(t,r,l,a)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&a.preventDefault(),u}}function xi(e=1){return function nk(e){return(oe.lFrame.contextLView=function v_(e,t){for(;e>0;)t=t[us],e--;return t}(e,oe.lFrame.contextLView))[$e]}(e)}function Xd(e){return fs(function QO(){return oe.lFrame.contextLView}(),le+e)}function dn(e,t=""){const r=T(),o=be(),i=e+le,s=o.firstCreatePass?Ss(o,i,1,t,null):o.data[i],a=OI(o,r,s,t,e);r[i]=a,ac()&&vd(o,r,a,s),pr(s,!1)}let OI=(e,t,r,o,i)=>(gr(!0),function Wg(e,t){return e.createText(t)}(t[re],o));function ef(e){return tf("",e,""),ef}function tf(e,t,r){const o=T(),i=function Bs(e,t,r,o){return et(e,Wn(),r)?t+ue(r)+o:de}(o,e,t,r);return i!==de&&function Zr(e,t,r){const o=rc(t,e);!function QE(e,t,r){e.setValue(t,r)}(e[re],o,r)}(o,Bt(),i),tf}let TU=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Lp(0,r.type),i=o.length>0?Ld([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(Z(sn))})}return e})();function qI(e){wr("NgStandalone"),e.getStandaloneInjector=t=>t.get(TU).getOrCreateStandaloneInjector(e)}function WI(e,t,r,o,i,s){const a=t+r;return et(e,a,i)?function br(e,t,r){return e[t]=r}(e,a+1,s?o.call(s,i):o(i)):function Xc(e,t){const r=e[t];return r===de?void 0:r}(e,a+1)}function XI(e,t,r){const o=e+le,i=T(),s=fs(i,o);return function eu(e,t){return e[L].data[t].pure}(i,o)?WI(i,function Wt(){const e=oe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,r,s):s.transform(r)}let gx=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const bx=new W(""),cf=new W("");let wy,yy=(()=>{class e{constructor(r,o,i){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wy||(function U4(e){wy=e}(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},o)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(Z(Re),Z(vy),Z(cf))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),vy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return wy?.findTestabilityInTree(this,r,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function uf(e){return!!e&&"function"==typeof e.then}function _x(e){return!!e&&"function"==typeof e.subscribe}const by=new W("");let _y=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=k(by,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const i of this.appInits){const s=i();if(uf(s))r.push(s);else if(_x(s)){const a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),0===r.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ey=new W("");function Cx(e,t){return Array.isArray(t)?t.reduce(Cx,e):{...e,...t}}let Mo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(Q_),this.afterRenderEffectManager=k(kc),this.externalTestViews=new Set,this.beforeRender=new nn,this.afterTick=new nn,this.componentTypes=[],this.components=[],this.isStable=k(As).hasPendingTasks.pipe(Oe(r=>!r)),this._injector=k(sn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){const i=r instanceof jD;if(!this._injector.get(_y).done)throw!i&&function wo(e){const t=ye(e)||ht(e)||xt(e);return null!==t&&t.standalone}(r),new O(405,!1);let a;a=i?r:this._injector.get(Ad).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function j4(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Ei),l=a.create(an.NULL,[],o||a.selector,c),d=l.location.nativeElement,f=l.injector.get(bx,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),lf(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new O(101,!1);const o=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,pe(o)}}detectChangesInAttachedViews(r){let o=0;const i=this.afterRenderEffectManager;for(;;){if(o===MD)throw new O(103,!1);if(r){const s=0===o;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)V4(a,s,c)}if(o++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Dy(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Dy(s))))break}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;lf(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(Ey,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>lf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lf(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function V4(e,t,r){!t&&!Dy(e)||function H4(e,t,r){let o;r?(o=0,e[K]|=1024):o=64&e[K]?0:1,Dd(e,t,o)}(e,r,t)}function Dy(e){return Xp(e)}class z4{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let Sx=(()=>{class e{compileModuleSync(r){return new Fm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),s=En(kt(r).declarations).reduce((a,c)=>{const u=ye(c);return u&&a.push(new Fc(u)),a},[]);return new z4(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),W4=(()=>{class e{constructor(){this.zone=k(Re),this.applicationRef=k(Mo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Z4(){const e=k(Re),t=k(yr);return r=>e.runOutsideAngular(()=>t.handleError(r))}let Y4=(()=>{class e{constructor(){this.subscription=new Ot,this.initialized=!1,this.zone=k(Re),this.pendingTasks=k(As)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Qr=new W("",{providedIn:"root",factory:()=>k(Qr,we.Optional|we.SkipSelf)||function Q4(){return typeof $localize<"u"&&$localize.locale||Zs}()}),Cy=new W("");let Ax=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const i=function A3(e="zone.js",t){return"noop"===e?new WD:"zone.js"===e?new Re(t):e}(o?.ngZone,function Tx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function _F(e,t,r){return new Lm(e,t,r)}(r.moduleType,this.injector,function xx(e){return[{provide:Re,useFactory:e},{provide:ui,multi:!0,useFactory:()=>{const t=k(W4,{optional:!0});return()=>t.initialize()}},{provide:ui,multi:!0,useFactory:()=>{const t=k(Y4);return()=>{t.initialize()}}},{provide:Q_,useFactory:Z4}]}(()=>i)),a=s.injector.get(yr,null);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{lf(this._modules,s),c.unsubscribe()})}),function Dx(e,t,r){try{const o=r();return uf(o)?o.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(a,i,()=>{const c=s.injector.get(_y);return c.runInitializers(),c.donePromise.then(()=>(function BS(e){"string"==typeof e&&(FS=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Qr,Zs)||Zs),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,o=[]){const i=Cx({},o);return function G4(e,t,r){const o=new Fm(r);return Promise.resolve(o)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(r){const o=r.injector.get(Mo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!r.instance.ngDoBootstrap)throw new O(-403,!1);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(Cy,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(Z(an))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),No=null;const Mx=new W("");function Nx(e,t,r=[]){const o=`Platform: ${t}`,i=new W(o);return(s=[])=>{let a=Sy();if(!a||a.injector.get(Mx,!1)){const c=[...r,...s,{provide:i,useValue:!0}];e?e(c):function ej(e){if(No&&!No.get(Mx,!1))throw new O(400,!1);(function Ex(){!function cR(e){mb=e}(()=>{throw new O(600,!1)})})(),No=e;const t=e.get(Ax);(function Ox(e){e.get(wE,null)?.forEach(r=>r())})(e)}(function Rx(e=[],t){return an.create({name:t,providers:[{provide:Up,useValue:"platform"},{provide:Cy,useValue:new Set([()=>No=null])},...e]})}(c,o))}return function tj(e){const t=Sy();if(!t)throw new O(401,!1);return t}()}}function Sy(){return No?.get(Ax)??null}let ff=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=rj}return e})();function rj(e){return function oj(e,t,r){if(fi(e)&&!r){const o=_n(e.index,t);return new Ac(o,o)}return 47&e.type?new Ac(t[Ye],t):null}(Ne(),T(),!(16&~e))}class Bx{constructor(){}supports(t){return Bd(t)}create(t){return new uj(t)}}const cj=(e,t)=>t;class uj{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||cj}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,i=0,s=null;for(;r||o;){const a=!o||r&&r.currentIndex<jx(o,i,s)?r:o,c=jx(a,i,s),u=a.currentIndex;if(a===o)i--,o=o._nextRemoved;else if(r=r._next,null==a.previousIndex)i++;else{s||(s=[]);const l=c-i,d=u-i;if(l!=d){for(let h=0;h<l;h++){const p=h<s.length?s[h]:s[h]=0,g=p+h;d<=g&&g<l&&(s[h]=p+1)}s[a.previousIndex]=d-l}}c!==u&&t(a,c,u)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Bd(t))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,a,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)s=t[c],a=this._trackByFn(c,s),null!==r&&Object.is(r.trackById,a)?(o&&(r=this._verifyReinsertion(r,s,a,c)),Object.is(r.item,s)||this._addIdentityChange(r,s)):(r=this._mismatch(r,s,a,c),o=!0),r=r._next}else i=0,function SF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,c=>{a=this._trackByFn(i,c),null!==r&&Object.is(r.trackById,a)?(o&&(r=this._verifyReinsertion(r,c,a,i)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,a,i),o=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,i))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,s,i)):t=this._addAfter(new lj(r,o),s,i),t}_verifyReinsertion(t,r,o,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const i=null===r?this._itHead:r._next;return t._next=i,t._prev=r,null===i?this._itTail=t:i._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ux),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ux),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lj{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dj{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class Ux{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new dj,this.map.set(r,o)),o.add(t)}get(t,r){const i=this.map.get(t);return i?i.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jx(e,t,r){const o=e.previousIndex;if(null===o)return o;let i=0;return r&&o<r.length&&(i=r[o]),o+t+i}function Vx(){return new My([new Bx])}let My=(()=>{class e{static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:Vx});constructor(r){this.factories=r}static create(r,o){if(null!=o){const i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||Vx()),deps:[[e,new Tl,new xl]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(null!=o)return o;throw new O(901,!1)}}return e})();const mj=Nx(null,"core",[]);let yj=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(o){return new(o||e)(Z(Mo))};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({})}return e})(),f1=null;function Js(){return f1}class e6{}const Rn=new W("");let ky=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(n6),providedIn:"platform"})}return e})();const t6=new W("");let n6=(()=>{class e extends ky{constructor(){super(),this._doc=k(Rn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Js().getBaseHref(this._doc)}onPopState(r){const o=Js().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){const o=Js().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,i){this._history.pushState(r,o,i)}replaceState(r,o,i){this._history.replaceState(r,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Py(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function h1(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Jr(e){return e&&"?"!==e[0]?"?"+e:e}let Ai=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(g1),providedIn:"root"})}return e})();const p1=new W("");let g1=(()=>{class e extends Ai{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??k(Rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Py(this._baseHref,r)}path(r=!1){const o=this._platformLocation.pathname+Jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&r?`${o}${i}`:o}pushState(r,o,i,s){const a=this.prepareExternalUrl(i+Jr(s));this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){const a=this.prepareExternalUrl(i+Jr(s));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(o){return new(o||e)(Z(ky),Z(p1,8))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),r6=(()=>{class e extends Ai{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){const o=this._platformLocation.hash??"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const o=Py(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+Jr(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+Jr(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(o){return new(o||e)(Z(ky),Z(p1,8))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),iu=(()=>{class e{constructor(r){this._subject=new Zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const o=this._locationStrategy.getBaseHref();this._basePath=function s6(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(h1(m1(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Jr(o))}normalize(r){return e.stripTrailingSlash(function i6(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,m1(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",i=null){this._locationStrategy.pushState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jr(o)),i)}replaceState(r,o="",i=null){this._locationStrategy.replaceState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jr(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{const o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(i=>i(r,o))}subscribe(r,o,i){return this._subject.subscribe({next:r,error:o,complete:i})}static#e=this.normalizeQueryParams=Jr;static#t=this.joinWithSlash=Py;static#r=this.stripTrailingSlash=h1;static#h=this.\u0275fac=function(o){return new(o||e)(Z(Ai))};static#x=this.\u0275prov=G({token:e,factory:()=>function o6(){return new iu(Z(Ai))}(),providedIn:"root"})}return e})();function m1(e){return e.replace(/\/index.html$/,"")}class W6{constructor(t,r,o,i){this.$implicit=t,this.ngForOf=r,this.index=o,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let x1=(()=>{class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,i){this._viewContainer=r,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new W6(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const c=o.get(s);o.move(c,a),T1(c,i)}});for(let i=0,s=o.length;i<s;i++){const c=o.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(i=>{T1(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(r,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Kn),ne(Kr),ne(My))};static#t=this.\u0275dir=zt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function T1(e,t){e.context.$implicit=t.item}let A1=(()=>{class e{constructor(r,o){this._viewContainer=r,this._context=new Z6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){M1("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){M1("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Kn),ne(Kr))};static#t=this.\u0275dir=zt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class Z6{constructor(){this.$implicit=null,this.ngIf=null}}function M1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ft(t)}'.`)}let au=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({})}return e})();const O1="browser";function k1(e){return"server"===e}let C5=(()=>{class e{static#e=this.\u0275prov=G({token:e,providedIn:"root",factory:()=>function D5(e){return e===O1}(k(wi))?new S5(k(Rn),window):new x5})}return e})();class S5{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const r=function I5(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=o.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}i=o.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(o-s[0],i-s[1])}}class x5{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class n$ extends e6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qy extends n${static makeCurrent(){!function Xj(e){f1??=e}(new Qy)}onAndCancel(t,r,o){return t.addEventListener(r,o),()=>{t.removeEventListener(r,o)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function r$(){return lu=lu||document.querySelector("base"),lu?lu.getAttribute("href"):null}();return null==r?null:function o$(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){lu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function z6(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const o=r.indexOf("="),[i,s]=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let lu=null,s$=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const Jy=new W("");let H1=(()=>{class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,i){return this._findPluginFor(o).addEventListener(r,o,i)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(s=>s.supports(r)),!o)throw new O(5101,!1);return this._eventNameToPlugin.set(r,o),o}static#e=this.\u0275fac=function(o){return new(o||e)(Z(Jy),Z(Re))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();class z1{constructor(t){this._doc=t}}const Xy="ng-app-id";let q1=(()=>{class e{constructor(r,o,i,s={}){this.doc=r,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=k1(s),this.resetHostNodes()}addStyles(r){for(const o of r)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(r){for(const o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){const o=this.styleRef;o.get(r)?.elements?.forEach(i=>i.remove()),o.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Xy}="${this.appId}"]`);if(r?.length){const o=new Map;return r.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(r,o){const i=this.styleRef;if(i.has(r)){const s=i.get(r);return s.usage+=o,s.usage}return i.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===r)return i.delete(o),s.removeAttribute(Xy),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Xy,this.appId),r.appendChild(a),a}}addStyleToHost(r,o){const i=this.getStyleElement(r,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||e)(Z(Rn),Z(rd),Z(bE,8),Z(wi))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const ev={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tv=/%COMP%/g,l$=new W("",{providedIn:"root",factory:()=>!0});function W1(e,t){return t.map(r=>r.replace(tv,e))}let Z1=(()=>{class e{constructor(r,o,i,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=k1(c),this.defaultRenderer=new nv(r,a,u,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===jn.ShadowDom&&(o={...o,encapsulation:jn.Emulated});const i=this.getOrCreateRenderer(r,o);return i instanceof Y1?i.applyToHost(r):i instanceof rv&&i.applyStyles(),i}getOrCreateRenderer(r,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(o.encapsulation){case jn.Emulated:s=new Y1(u,l,o,this.appId,d,a,c,f);break;case jn.ShadowDom:return new p$(u,l,r,o,a,c,this.nonce,f);default:s=new rv(u,l,o,d,a,c,f)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||e)(Z(H1),Z(q1),Z(rd),Z(l$),Z(Rn),Z(wi),Z(Re),Z(bE))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();class nv{constructor(t,r,o,i){this.eventManager=t,this.doc=r,this.ngZone=o,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(ev[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(K1(t)?t.content:t).appendChild(r)}insertBefore(t,r,o){t&&(K1(t)?t.content:t).insertBefore(r,o)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let o="string"==typeof t?this.doc.querySelector(t):t;if(!o)throw new O(-5104,!1);return r||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,o,i){if(i){r=i+":"+r;const s=ev[i];s?t.setAttributeNS(s,r,o):t.setAttribute(r,o)}else t.setAttribute(r,o)}removeAttribute(t,r,o){if(o){const i=ev[o];i?t.removeAttributeNS(i,r):t.removeAttribute(`${o}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,o,i){i&(Co.DashCase|Co.Important)?t.style.setProperty(r,o,i&Co.Important?"important":""):t.style[r]=o}removeStyle(t,r,o){o&Co.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,o){null!=t&&(t[r]=o)}setValue(t,r){t.nodeValue=r}listen(t,r,o){if("string"==typeof t&&!(t=Js().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(o))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function K1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class p$ extends nv{constructor(t,r,o,i,s,a,c,u){super(t,s,a,u),this.sharedStylesHost=r,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=W1(i.id,i.styles);for(const d of l){const f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,o){return super.insertBefore(this.nodeOrShadowRoot(t),r,o)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rv extends nv{constructor(t,r,o,i,s,a,c,u){super(t,s,a,c),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=u?W1(u,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Y1 extends rv{constructor(t,r,o,i,s,a,c,u){const l=i+"-"+o.id;super(t,r,o,s,a,c,u,l),this.contentAttr=function d$(e){return"_ngcontent-%COMP%".replace(tv,e)}(l),this.hostAttr=function f$(e){return"_nghost-%COMP%".replace(tv,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const o=super.createElement(t,r);return super.setAttribute(o,this.contentAttr,""),o}}let g$=(()=>{class e extends z1{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,i){return r.addEventListener(o,i,!1),()=>this.removeEventListener(r,o,i)}removeEventListener(r,o,i){return r.removeEventListener(o,i)}static#e=this.\u0275fac=function(o){return new(o||e)(Z(Rn))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const Q1=["alt","control","meta","shift"],m$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y$={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let v$=(()=>{class e extends z1{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,o,i){const s=e.parseEventName(o),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Js().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const o=r.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(o.pop());let a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),Q1.forEach(l=>{const d=o.indexOf(l);d>-1&&(o.splice(d,1),a+=l+".")}),a+=s,0!=o.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(r,o){let i=m$[r.key]||r.key,s="";return o.indexOf("code.")>-1&&(i=r.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Q1.forEach(a=>{a!==i&&(0,y$[a])(r)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(r,o,i){return s=>{e.matchEventFullKeyCode(s,r)&&i.runGuarded(()=>o(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}static#e=this.\u0275fac=function(o){return new(o||e)(Z(Rn))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();const X1=[{provide:wi,useValue:O1},{provide:wE,useValue:function w$(){Qy.makeCurrent()},multi:!0},{provide:Rn,useFactory:function _$(){return function Xk(e){Cg=e}(document),document},deps:[]}],E$=Nx(mj,"browser",X1),D$=new W(""),eT=[{provide:cf,useClass:class i${addToWindow(t){Te.getAngularTestability=(o,i=!0)=>{const s=t.findTestabilityInTree(o,i);if(null==s)throw new O(5103,!1);return s},Te.getAllAngularTestabilities=()=>t.getAllTestabilities(),Te.getAllAngularRootElements=()=>t.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(o=>{const i=Te.getAllAngularTestabilities();let s=i.length;const a=function(){s--,0==s&&o()};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,r,o){return null==r?null:t.getTestability(r)??(o?Js().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:bx,useClass:yy,deps:[Re,vy,cf]},{provide:yy,useClass:yy,deps:[Re,vy,cf]}],tT=[{provide:Up,useValue:"root"},{provide:yr,useFactory:function b$(){return new yr},deps:[]},{provide:Jy,useClass:g$,multi:!0,deps:[Rn,Re,wi]},{provide:Jy,useClass:v$,multi:!0,deps:[Rn]},Z1,q1,H1,{provide:VD,useExisting:Z1},{provide:class T5{},useClass:s$,deps:[]},[]];let C$=(()=>{class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:rd,useValue:r.appId}]}}static#e=this.\u0275fac=function(o){return new(o||e)(Z(D$,12))};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({providers:[...tT,...eT],imports:[au,yj]})}return e})(),S$=(()=>{class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static#e=this.\u0275fac=function(o){return new(o||e)(Z(Rn))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ro(e){return this instanceof Ro?(this.v=e,this):new Ro(e)}function cT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function av(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(s){r[s]=e[s]&&function(a){return new Promise(function(c,u){!function i(s,a,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},a)}(c,u,(a=e[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const uT=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function lT(e){return We(e?.then)}function dT(e){return We(e[gp])}function fT(e){return Symbol.asyncIterator&&We(e?.[Symbol.asyncIterator])}function hT(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pT=function Q$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gT(e){return We(e?.[pT])}function mT(e){return function aT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=r.apply(e,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function a(p){return function(g){return Promise.resolve(g).then(p,f)}}),i[Symbol.asyncIterator]=function(){return this},i;function c(p,g){o[p]&&(i[p]=function(m){return new Promise(function(y,v){s.push([p,m,y,v])>1||u(p,m)})},g&&(i[p]=g(i[p])))}function u(p,g){try{!function l(p){p.value instanceof Ro?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}(o[p](g))}catch(m){h(s[0][3],m)}}function d(p){u("next",p)}function f(p){u("throw",p)}function h(p,g){p(g),s.shift(),s.length&&u(s[0][0],s[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:o,done:i}=yield Ro(r.read());if(i)return yield Ro(void 0);yield yield Ro(o)}}finally{r.releaseLock()}})}function yT(e){return We(e?.getReader)}function Dr(e){if(e instanceof It)return e;if(null!=e){if(dT(e))return function J$(e){return new It(t=>{const r=e[gp]();if(We(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(uT(e))return function X$(e){return new It(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(lT(e))return function eV(e){return new It(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,Eb)})}(e);if(fT(e))return vT(e);if(gT(e))return function tV(e){return new It(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(yT(e))return function nV(e){return vT(mT(e))}(e)}throw hT(e)}function vT(e){return new It(t=>{(function rV(e,t){var r,o,i,s;return function iT(e,t,r,o){return new(r||(r=Promise))(function(s,a){function c(d){try{l(o.next(d))}catch(f){a(f)}}function u(d){try{l(o.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):function i(s){return s instanceof r?s:new r(function(a){a(s)})}(d.value).then(c,u)}l((o=o.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=cT(e);!(o=yield r.next()).done;)if(t.next(o.value),t.closed)return}catch(a){i={error:a}}finally{try{o&&!o.done&&(s=r.return)&&(yield s.call(r))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Cr(e,t,r,o=0,i=!1){const s=t.schedule(function(){r(),i?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(s),!i)return s}function wT(e,t=0){return Dt((r,o)=>{r.subscribe(dt(o,i=>Cr(o,e,()=>o.next(i),t),()=>Cr(o,e,()=>o.complete(),t),i=>Cr(o,e,()=>o.error(i),t)))})}function bT(e,t=0){return Dt((r,o)=>{o.add(e.schedule(()=>r.subscribe(o),t))})}function _T(e,t){if(!e)throw new Error("Iterable cannot be null");return new It(r=>{Cr(r,t,()=>{const o=e[Symbol.asyncIterator]();Cr(r,t,()=>{o.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function At(e,t){return t?function uV(e,t){if(null!=e){if(dT(e))return function oV(e,t){return Dr(e).pipe(bT(t),wT(t))}(e,t);if(uT(e))return function sV(e,t){return new It(r=>{let o=0;return t.schedule(function(){o===e.length?r.complete():(r.next(e[o++]),r.closed||this.schedule())})})}(e,t);if(lT(e))return function iV(e,t){return Dr(e).pipe(bT(t),wT(t))}(e,t);if(fT(e))return _T(e,t);if(gT(e))return function aV(e,t){return new It(r=>{let o;return Cr(r,t,()=>{o=e[pT](),Cr(r,t,()=>{let i,s;try{({value:i,done:s}=o.next())}catch(a){return void r.error(a)}s?r.complete():r.next(i)},0,!0)}),()=>We(o?.return)&&o.return()})}(e,t);if(yT(e))return function cV(e,t){return _T(mT(e),t)}(e,t)}throw hT(e)}(e,t):Dr(e)}function cv(e){return e[e.length-1]}function Pf(e){return function lV(e){return e&&We(e.schedule)}(cv(e))?e.pop():void 0}function ae(...e){return At(e,Pf(e))}const{isArray:fV}=Array,{getPrototypeOf:hV,prototype:pV,keys:gV}=Object;const{isArray:vV}=Array;function uv(...e){const t=Pf(e),r=function dV(e){return We(cv(e))?e.pop():void 0}(e),{args:o,keys:i}=function mV(e){if(1===e.length){const t=e[0];if(fV(t))return{args:t,keys:null};if(function yV(e){return e&&"object"==typeof e&&hV(e)===pV}(t)){const r=gV(t);return{args:r.map(o=>t[o]),keys:r}}}return{args:e,keys:null}}(e);if(0===o.length)return At([],t);const s=new It(function EV(e,t,r=ai){return o=>{ET(t,()=>{const{length:i}=e,s=new Array(i);let a=i,c=i;for(let u=0;u<i;u++)ET(t,()=>{const l=At(e[u],t);let d=!1;l.subscribe(dt(o,f=>{s[u]=f,d||(d=!0,c--),c||o.next(r(s.slice()))},()=>{--a||o.complete()}))},o)},o)}}(o,t,i?a=>function _V(e,t){return e.reduce((r,o,i)=>(r[o]=t[i],r),{})}(i,a):ai));return r?s.pipe(function bV(e){return Oe(t=>function wV(e,t){return vV(t)?e(...t):e(t)}(e,t))}(r)):s}function ET(e,t,r){e?Cr(r,e,t):t()}const Lf=gl(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function jt(e,t,r=1/0){return We(t)?jt((o,i)=>Oe((s,a)=>t(o,s,i,a))(Dr(e(o,i))),r):("number"==typeof t&&(r=t),Dt((o,i)=>function DV(e,t,r,o,i,s,a,c){const u=[];let l=0,d=0,f=!1;const h=()=>{f&&!u.length&&!l&&t.complete()},p=m=>l<o?g(m):u.push(m),g=m=>{s&&t.next(m),l++;let y=!1;Dr(r(m,d++)).subscribe(dt(t,v=>{i?.(v),s?p(v):t.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<o;){const v=u.shift();a?Cr(t,a,()=>g(v)):g(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(dt(t,p,()=>{f=!0,h()})),()=>{c?.()}}(o,i,e,r)))}function fu(e=1/0){return jt(ai,e)}function lv(...e){return function CV(){return fu(1)}()(At(e,Pf(e)))}function DT(e){return new It(t=>{Dr(e()).subscribe(t)})}function hu(e,t){const r=We(e)?e:()=>e,o=i=>i.error(r());return new It(t?i=>t.schedule(o,0,i):o)}const Sr=new It(e=>e.complete());function dv(){return Dt((e,t)=>{let r=null;e._refCount++;const o=dt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const i=e._connection,s=r;r=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(o),o.closed||(r=e.connect())})}class CT extends It{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Ib(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ot;const r=this.getSubject();t.add(this.source.subscribe(dt(r,void 0,()=>{this._teardown(),r.complete()},o=>{this._teardown(),r.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ot.EMPTY)}return t}refCount(){return dv()(this)}}function Ir(e,t){return Dt((r,o)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&o.complete();r.subscribe(dt(o,u=>{i?.unsubscribe();let l=0;const d=s++;Dr(e(u,d)).subscribe(i=dt(o,f=>o.next(t?t(u,f,d,l++):f),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function ea(e){return e<=0?()=>Sr:Dt((t,r)=>{let o=0;t.subscribe(dt(r,i=>{++o<=e&&(r.next(i),e<=o&&r.complete())}))})}function Oo(e,t){return Dt((r,o)=>{let i=0;r.subscribe(dt(o,s=>e.call(t,s,i++)&&o.next(s)))})}function Ff(e){return Dt((t,r)=>{let o=!1;t.subscribe(dt(r,i=>{o=!0,r.next(i)},()=>{o||r.next(e),r.complete()}))})}function ST(e=xV){return Dt((t,r)=>{let o=!1;t.subscribe(dt(r,i=>{o=!0,r.next(i)},()=>o?r.complete():r.error(e())))})}function xV(){return new Lf}function Mi(e,t){const r=arguments.length>=2;return o=>o.pipe(e?Oo((i,s)=>e(i,s,o)):ai,ea(1),r?Ff(t):ST(()=>new Lf))}function pu(e,t){return We(t)?jt(e,t,1):jt(e,1)}function Jt(e,t,r){const o=We(e)||t||r?{next:e,error:t,complete:r}:e;return o?Dt((i,s)=>{var a;null===(a=o.subscribe)||void 0===a||a.call(o);let c=!0;i.subscribe(dt(s,u=>{var l;null===(l=o.next)||void 0===l||l.call(o,u),s.next(u)},()=>{var u;c=!1,null===(u=o.complete)||void 0===u||u.call(o),s.complete()},u=>{var l;c=!1,null===(l=o.error)||void 0===l||l.call(o,u),s.error(u)},()=>{var u,l;c&&(null===(u=o.unsubscribe)||void 0===u||u.call(o)),null===(l=o.finalize)||void 0===l||l.call(o)}))}):ai}function Ni(e){return Dt((t,r)=>{let s,o=null,i=!1;o=t.subscribe(dt(r,void 0,void 0,a=>{s=Dr(e(a,Ni(e)(t))),o?(o.unsubscribe(),o=null,s.subscribe(r)):i=!0})),i&&(o.unsubscribe(),o=null,s.subscribe(r))})}function fv(e){return e<=0?()=>Sr:Dt((t,r)=>{let o=[];t.subscribe(dt(r,i=>{o.push(i),e<o.length&&o.shift()},()=>{for(const i of o)r.next(i);r.complete()},void 0,()=>{o=null}))})}function gu(e){return Dt((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}const he="primary",mu=Symbol("RouteTitle");class OV{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function ta(e){return new OV(e)}function kV(e,t,r){const o=r.path.split("/");if(o.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||o.length<e.length))return null;const i={};for(let s=0;s<o.length;s++){const a=o[s],c=e[s];if(a.startsWith(":"))i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:e.slice(0,o.length),posParams:i}}function xr(e,t){const r=e?hv(e):void 0,o=t?hv(t):void 0;if(!r||!o||r.length!=o.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!IT(e[i],t[i]))return!1;return!0}function hv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function IT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),o=[...t].sort();return r.every((i,s)=>o[s]===i)}return e===t}function xT(e){return e.length>0?e[e.length-1]:null}function ko(e){return function A$(e){return!!e&&(e instanceof It||We(e.lift)&&We(e.subscribe))}(e)?e:uf(e)?At(Promise.resolve(e)):ae(e)}const LV={exact:function MT(e,t,r){if(!Ri(e.segments,t.segments)||!Bf(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!e.children[o]||!MT(e.children[o],t.children[o],r))return!1;return!0},subset:NT},TT={exact:function FV(e,t){return xr(e,t)},subset:function BV(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>IT(e[r],t[r]))},ignored:()=>!0};function AT(e,t,r){return LV[r.paths](e.root,t.root,r.matrixParams)&&TT[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function NT(e,t,r){return RT(e,t,t.segments,r)}function RT(e,t,r,o){if(e.segments.length>r.length){const i=e.segments.slice(0,r.length);return!(!Ri(i,r)||t.hasChildren()||!Bf(i,r,o))}if(e.segments.length===r.length){if(!Ri(e.segments,r)||!Bf(e.segments,r,o))return!1;for(const i in t.children)if(!e.children[i]||!NT(e.children[i],t.children[i],o))return!1;return!0}{const i=r.slice(0,e.segments.length),s=r.slice(e.segments.length);return!!(Ri(e.segments,i)&&Bf(e.segments,i,o)&&e.children[he])&&RT(e.children[he],t,s,o)}}function Bf(e,t,r){return t.every((o,i)=>TT[r](e[i].parameters,o.parameters))}class na{constructor(t=new Pe([],{}),r={},o=null){this.root=t,this.queryParams=r,this.fragment=o}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){return $V.serialize(this)}}class Pe{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class yu{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=ta(this.parameters),this._parameterMap}toString(){return PT(this)}}function Ri(e,t){return e.length===t.length&&e.every((r,o)=>r.path===t[o].path)}let ra=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>new pv,providedIn:"root"})}return e})();class pv{parse(t){const r=new JV(t);return new na(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${vu(t.root,!0)}`,o=function zV(e){const t=Object.entries(e).map(([r,o])=>Array.isArray(o)?o.map(i=>`${jf(r)}=${jf(i)}`).join("&"):`${jf(r)}=${jf(o)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${o}${"string"==typeof t.fragment?`#${function VV(e){return encodeURI(e)}(t.fragment)}`:""}`}}const $V=new pv;function Uf(e){return e.segments.map(t=>PT(t)).join("/")}function vu(e,t){if(!e.hasChildren())return Uf(e);if(t){const r=e.children[he]?vu(e.children[he],!1):"",o=[];return Object.entries(e.children).forEach(([i,s])=>{i!==he&&o.push(`${i}:${vu(s,!1)}`)}),o.length>0?`${r}(${o.join("//")})`:r}{const r=function jV(e,t){let r=[];return Object.entries(e.children).forEach(([o,i])=>{o===he&&(r=r.concat(t(i,o)))}),Object.entries(e.children).forEach(([o,i])=>{o!==he&&(r=r.concat(t(i,o)))}),r}(e,(o,i)=>i===he?[vu(e.children[he],!1)]:[`${i}:${vu(o,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[he]?`${Uf(e)}/${r[0]}`:`${Uf(e)}/(${r.join("//")})`}}function OT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jf(e){return OT(e).replace(/%3B/gi,";")}function gv(e){return OT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $f(e){return decodeURIComponent(e)}function kT(e){return $f(e.replace(/\+/g,"%20"))}function PT(e){return`${gv(e.path)}${function HV(e){return Object.entries(e).map(([t,r])=>`;${gv(t)}=${gv(r)}`).join("")}(e.parameters)}`}const qV=/^[^\/()?;#]+/;function mv(e){const t=e.match(qV);return t?t[0]:""}const GV=/^[^\/()?;=#]+/,ZV=/^[^=?&#]+/,YV=/^[^&#]+/;class JV{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(o[he]=new Pe(t,r)),o}parseSegment(){const t=mv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(t),new yu($f(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function WV(e){const t=e.match(GV);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){const i=mv(this.remaining);i&&(o=i,this.capture(o))}t[$f(r)]=$f(o)}parseQueryParam(t){const r=function KV(e){const t=e.match(ZV);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){const a=function QV(e){const t=e.match(YV);return t?t[0]:""}(this.remaining);a&&(o=a,this.capture(o))}const i=kT(r),s=kT(o);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(s)}else t[i]=s}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=mv(this.remaining),i=this.remaining[o.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=he);const a=this.parseChildren();r[s]=1===Object.keys(a).length?a[he]:new Pe([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new O(4011,!1)}}function LT(e){return e.segments.length>0?new Pe([],{[he]:e}):e}function FT(e){const t={};for(const[o,i]of Object.entries(e.children)){const s=FT(i);if(o===he&&0===s.segments.length&&s.hasChildren())for(const[a,c]of Object.entries(s.children))t[a]=c;else(s.segments.length>0||s.hasChildren())&&(t[o]=s)}return function XV(e){if(1===e.numberOfChildren&&e.children[he]){const t=e.children[he];return new Pe(e.segments.concat(t.segments),t.children)}return e}(new Pe(e.segments,t))}function oa(e){return e instanceof na}function BT(e){let t;const i=LT(function r(s){const a={};for(const u of s.children){const l=r(u);a[u.outlet]=l}const c=new Pe(s.url,a);return s===e&&(t=c),c}(e.root));return t??i}function UT(e,t,r,o){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return yv(i,i,i,r,o);const s=function tH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new $T(!0,0,e);let t=0,r=!1;const o=e.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?r=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new $T(r,t,o)}(t);if(s.toRoot())return yv(i,i,new Pe([],{}),r,o);const a=function nH(e,t,r){if(e.isAbsolute)return new Hf(t,!0,0);if(!r)return new Hf(t,!1,NaN);if(null===r.parent)return new Hf(r,!0,0);const o=Vf(e.commands[0])?0:1;return function rH(e,t,r){let o=e,i=t,s=r;for(;s>i;){if(s-=i,o=o.parent,!o)throw new O(4005,!1);i=o.segments.length}return new Hf(o,!1,i-s)}(r,r.segments.length-1+o,e.numberOfDoubleDots)}(s,i,e),c=a.processChildren?bu(a.segmentGroup,a.index,s.commands):VT(a.segmentGroup,a.index,s.commands);return yv(i,a.segmentGroup,c,r,o)}function Vf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function wu(e){return"object"==typeof e&&null!=e&&e.outlets}function yv(e,t,r,o,i){let a,s={};o&&Object.entries(o).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),a=e===t?r:jT(e,t,r);const c=LT(FT(a));return new na(c,s,i)}function jT(e,t,r){const o={};return Object.entries(e.children).forEach(([i,s])=>{o[i]=s===t?r:jT(s,t,r)}),new Pe(e.segments,o)}class $T{constructor(t,r,o){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=o,t&&o.length>0&&Vf(o[0]))throw new O(4003,!1);const i=o.find(wu);if(i&&i!==xT(o))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hf{constructor(t,r,o){this.segmentGroup=t,this.processChildren=r,this.index=o}}function VT(e,t,r){if(e??=new Pe([],{}),0===e.segments.length&&e.hasChildren())return bu(e,t,r);const o=function iH(e,t,r){let o=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(o>=r.length)return s;const a=e.segments[i],c=r[o];if(wu(c))break;const u=`${c}`,l=o<r.length-1?r[o+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!zT(u,l,a))return s;o+=2}else{if(!zT(u,{},a))return s;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}(e,t,r),i=r.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const s=new Pe(e.segments.slice(0,o.pathIndex),{});return s.children[he]=new Pe(e.segments.slice(o.pathIndex),e.children),bu(s,0,i)}return o.match&&0===i.length?new Pe(e.segments,{}):o.match&&!e.hasChildren()?vv(e,t,r):o.match?bu(e,0,i):vv(e,t,r)}function bu(e,t,r){if(0===r.length)return new Pe(e.segments,{});{const o=function oH(e){return wu(e[0])?e[0].outlets:{[he]:e}}(r),i={};if(Object.keys(o).some(s=>s!==he)&&e.children[he]&&1===e.numberOfChildren&&0===e.children[he].segments.length){const s=bu(e.children[he],t,r);return new Pe(e.segments,s.children)}return Object.entries(o).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[s]=VT(e.children[s],t,a))}),Object.entries(e.children).forEach(([s,a])=>{void 0===o[s]&&(i[s]=a)}),new Pe(e.segments,i)}}function vv(e,t,r){const o=e.segments.slice(0,t);let i=0;for(;i<r.length;){const s=r[i];if(wu(s)){const u=sH(s.outlets);return new Pe(o,u)}if(0===i&&Vf(r[0])){o.push(new yu(e.segments[t].path,HT(r[0]))),i++;continue}const a=wu(s)?s.outlets[he]:`${s}`,c=i<r.length-1?r[i+1]:null;a&&c&&Vf(c)?(o.push(new yu(a,HT(c))),i+=2):(o.push(new yu(a,{})),i++)}return new Pe(o,{})}function sH(e){const t={};return Object.entries(e).forEach(([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(t[r]=vv(new Pe([],{}),0,o))}),t}function HT(e){const t={};return Object.entries(e).forEach(([r,o])=>t[r]=`${o}`),t}function zT(e,t,r){return e==r.path&&xr(t,r.parameters)}const _u="imperative";var Ee=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ee||{});class Tr{constructor(t,r){this.id=t,this.url=r}}class zf extends Tr{constructor(t,r,o="imperative",i=null){super(t,r),this.type=Ee.NavigationStart,this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class to extends Tr{constructor(t,r,o){super(t,r),this.urlAfterRedirects=o,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Sn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Sn||{}),qf=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(qf||{});class ia extends Tr{constructor(t,r,o,i){super(t,r),this.reason=o,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sa extends Tr{constructor(t,r,o,i){super(t,r),this.reason=o,this.code=i,this.type=Ee.NavigationSkipped}}class Gf extends Tr{constructor(t,r,o,i){super(t,r),this.error=o,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qT extends Tr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aH extends Tr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cH extends Tr{constructor(t,r,o,i,s){super(t,r),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=s,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uH extends Tr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lH extends Tr{constructor(t,r,o,i){super(t,r),this.urlAfterRedirects=o,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dH{constructor(t){this.route=t,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fH{constructor(t){this.route=t,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hH{constructor(t){this.snapshot=t,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pH{constructor(t){this.snapshot=t,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gH{constructor(t){this.snapshot=t,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mH{constructor(t){this.snapshot=t,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GT{constructor(t,r,o){this.routerEvent=t,this.position=r,this.anchor=o,this.type=Ee.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wv{}class bv{constructor(t){this.url=t}}class yH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Eu,this.attachRef=null}}let Eu=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){const i=this.getOrCreateContext(r);i.outlet=o,this.contexts.set(r,i)}onChildOutletDestroyed(r){const o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new yH,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class WT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=_v(t,this._root);return r?r.children.map(o=>o.value):[]}firstChild(t){const r=_v(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=Ev(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ev(t,this._root).map(r=>r.value)}}function _v(e,t){if(e===t.value)return t;for(const r of t.children){const o=_v(e,r);if(o)return o}return null}function Ev(e,t){if(e===t.value)return[t];for(const r of t.children){const o=Ev(e,r);if(o.length)return o.unshift(t),o}return[]}class er{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function aa(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class ZT extends WT{constructor(t,r){super(t),this.snapshot=r,Sv(this,t)}toString(){return this.snapshot.toString()}}function KT(e){const t=function vH(e){const s=new Cv([],{},{},"",{},he,e,null,{});return new YT("",new er(s,[]))}(e),r=new Tn([new yu("",{})]),o=new Tn({}),i=new Tn({}),s=new Tn({}),a=new Tn(""),c=new ca(r,o,s,a,i,he,e,t.root);return c.snapshot=t.root,new ZT(new er(c,[]),t)}class ca{constructor(t,r,o,i,s,a,c,u){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=o,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Oe(l=>l[mu]))??ae(void 0),this.url=t,this.params=r,this.queryParams=o,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(t=>ta(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(t=>ta(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dv(e,t,r="emptyOnly"){let o;const{routeConfig:i}=e;return o=null===t||"always"!==r&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&JT(i)&&(o.resolve[mu]=i.title),o}class Cv{get title(){return this.data?.[mu]}constructor(t,r,o,i,s,a,c,u,l){this.url=t,this.params=r,this.queryParams=o,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YT extends WT{constructor(t,r){super(r),this.url=t,Sv(this,r)}toString(){return QT(this._root)}}function Sv(e,t){t.value._routerState=e,t.children.forEach(r=>Sv(e,r))}function QT(e){const t=e.children.length>0?` { ${e.children.map(QT).join(", ")} } `:"";return`${e.value}${t}`}function Iv(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,xr(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),xr(t.params,r.params)||e.paramsSubject.next(r.params),function PV(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!xr(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),xr(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function xv(e,t){const r=xr(e.params,t.params)&&function UV(e,t){return Ri(e,t)&&e.every((r,o)=>xr(r.parameters,t[o].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||xv(e.parent,t.parent))}function JT(e){return"string"==typeof e.title||null===e.title}let Tv=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Zt,this.deactivateEvents=new Zt,this.attachEvents=new Zt,this.detachEvents=new Zt,this.parentContexts=k(Eu),this.location=k(Kn),this.changeDetector=k(ff),this.environmentInjector=k(sn),this.inputBinder=k(Wf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:o,previousValue:i}=r.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;const i=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Av(r,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=zt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hi]})}return e})();class Av{__ngOutletInjector(t){return new Av(this.route,this.childContexts,t)}constructor(t,r,o){this.route=t,this.childContexts=r,this.parent=o}get(t,r){return t===ca?this.route:t===Eu?this.childContexts:this.parent.get(t,r)}}const Wf=new W("");let XT=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:o}=r,i=uv([o.queryParams,o.params,o.data]).pipe(Ir(([s,a,c],u)=>(c={...s,...a,...c},0===u?ae(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(r);const a=function Jj(e){const t=ye(e);if(!t)return null;const r=new Fc(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(o.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,i)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function Du(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const o=r.value;o._futureSnapshot=t.value;const i=function bH(e,t,r){return t.children.map(o=>{for(const i of r.children)if(e.shouldReuseRoute(o.value,i.value.snapshot))return Du(e,o,i);return Du(e,o)})}(e,t,r);return new er(o,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>Du(e,c)),a}}const o=function _H(e){return new ca(new Tn(e.url),new Tn(e.params),new Tn(e.queryParams),new Tn(e.fragment),new Tn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Du(e,s));return new er(o,i)}}const eA="ngNavigationCancelingError";function tA(e,t){const{redirectTo:r,navigationBehaviorOptions:o}=oa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=nA(!1,Sn.Redirect);return i.url=r,i.navigationBehaviorOptions=o,i}function nA(e,t){const r=new Error(`NavigationCancelingError: ${e||""}`);return r[eA]=!0,r.cancellationCode=t,r}function rA(e){return!!e&&e[eA]}let oA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Ol({type:e,selectors:[["ng-component"]],standalone:!0,features:[qI],decls:1,vars:0,template:function(o,i){1&o&&qc(0,"router-outlet")},dependencies:[Tv],encapsulation:2})}return e})();function Mv(e){const t=e.children&&e.children.map(Mv),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==he&&(r.component=oA),r}function Ar(e){return e.outlet||he}function Cu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class AH{constructor(t,r,o,i,s){this.routeReuseStrategy=t,this.futureState=r,this.currState=o,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const r=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,o,t),Iv(this.futureState.root),this.activateChildRoutes(r,o,t)}deactivateChildRoutes(t,r,o){const i=aa(r);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],o),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,o)})}deactivateRoutes(t,r,o){const i=t.value,s=r?r.value:null;if(i===s)if(i.component){const a=o.getContext(i.outlet);a&&this.deactivateChildRoutes(t,r,a.children)}else this.deactivateChildRoutes(t,r,o);else s&&this.deactivateRouteAndItsChildren(r,o)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const o=r.getContext(t.value.outlet),i=o&&t.value.component?o.children:r,s=aa(t);for(const a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(o&&o.outlet){const a=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,r){const o=r.getContext(t.value.outlet),i=o&&t.value.component?o.children:r,s=aa(t);for(const a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(t,r,o){const i=aa(r);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],o),this.forwardEvent(new mH(s.value.snapshot))}),t.children.length&&this.forwardEvent(new pH(t.value.snapshot))}activateRoutes(t,r,o){const i=t.value,s=r?r.value:null;if(Iv(i),i===s)if(i.component){const a=o.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,a.children)}else this.activateChildRoutes(t,r,o);else if(i.component){const a=o.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Iv(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=Cu(i.snapshot);a.attachRef=null,a.route=i,a.injector=c,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,o)}}class iA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zf{constructor(t,r){this.component=t,this.route=r}}function MH(e,t,r){const o=e._root;return Su(o,t?t._root:null,r,[o.value])}function ua(e,t){const r=Symbol(),o=t.get(e,r);return o===r?"function"!=typeof e||function NR(e){return null!==El(e)}(e)?t.get(e):e:o}function Su(e,t,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=aa(t);return e.children.forEach(a=>{(function RH(e,t,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=t?t.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function OH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Ri(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ri(e.url,t.url)||!xr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(e,t)||!xr(e.queryParams,t.queryParams);default:return!xv(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new iA(o)):(s.data=a.data,s._resolvedData=a._resolvedData),Su(e,t,s.component?c?c.children:null:r,o,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Zf(c.outlet.component,a))}else a&&Iu(t,c,i),i.canActivateChecks.push(new iA(o)),Su(e,null,s.component?c?c.children:null:r,o,i)})(a,s[a.value.outlet],r,o.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>Iu(c,r.getContext(a),i)),i}function Iu(e,t,r){const o=aa(e),i=e.value;Object.entries(o).forEach(([s,a])=>{Iu(a,i.component?t?t.children.getContext(s):null:t,r)}),r.canDeactivateChecks.push(new Zf(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function xu(e){return"function"==typeof e}function sA(e){return e instanceof Lf||"EmptyError"===e?.name}const Kf=Symbol("INITIAL_VALUE");function la(){return Ir(e=>uv(e.map(t=>t.pipe(ea(1),function IV(...e){const t=Pf(e);return Dt((r,o)=>{(t?lv(e,r,t):lv(e,r)).subscribe(o)})}(Kf)))).pipe(Oe(t=>{for(const r of t)if(!0!==r){if(r===Kf)return Kf;if(!1===r||r instanceof na)return r}return!0}),Oo(t=>t!==Kf),ea(1)))}function aA(e){return function _R(...e){return Db(e)}(Jt(t=>{if(oa(t))throw tA(0,t)}),Oe(t=>!0===t))}class Nv{constructor(t){this.segmentGroup=t||null}}class Rv extends Error{constructor(t){super(),this.urlTree=t}}function da(e){return hu(new Nv(e))}class JH{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let o=[],i=r.root;for(;;){if(o=o.concat(i.segments),0===i.numberOfChildren)return ae(o);if(i.numberOfChildren>1||!i.children[he])return hu(new O(4e3,!1));i=i.children[he]}}applyRedirectCommands(t,r,o){const i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,o);if(r.startsWith("/"))throw new Rv(i);return i}applyRedirectCreateUrlTree(t,r,o,i){const s=this.createSegmentGroup(t,r.root,o,i);return new na(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const o={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);o[i]=r[c]}else o[i]=s}),o}createSegmentGroup(t,r,o,i){const s=this.createSegments(t,r.segments,o,i);let a={};return Object.entries(r.children).forEach(([c,u])=>{a[c]=this.createSegmentGroup(t,u,o,i)}),new Pe(s,a)}createSegments(t,r,o,i){return r.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,o))}findPosParam(t,r,o){const i=o[r.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(t,r){let o=0;for(const i of r){if(i.path===t.path)return r.splice(o),i;o++}return t}}const Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XH(e,t,r,o,i){const s=kv(e,t,r);return s.matched?(o=function DH(e,t){return e.providers&&!e._injector&&(e._injector=Ld(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,o),function KH(e,t,r,o){const i=t.canMatch;return i&&0!==i.length?ae(i.map(a=>{const c=ua(a,e);return ko(function UH(e){return e&&xu(e.canMatch)}(c)?c.canMatch(t,r):Hr(e,()=>c(t,r)))})).pipe(la(),aA()):ae(!0)}(o,t,r).pipe(Oe(a=>!0===a?s:{...Ov}))):ae(s)}function kv(e,t,r){if("**"===t.path)return function e9(e){return{matched:!0,parameters:e.length>0?xT(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...Ov}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(t.matcher||kV)(r,e,t);if(!i)return{...Ov};const s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function cA(e,t,r,o){return r.length>0&&function r9(e,t,r){return r.some(o=>Yf(e,t,o)&&Ar(o)!==he)}(e,r,o)?{segmentGroup:new Pe(t,n9(o,new Pe(r,e.children))),slicedSegments:[]}:0===r.length&&function o9(e,t,r){return r.some(o=>Yf(e,t,o))}(e,r,o)?{segmentGroup:new Pe(e.segments,t9(e,r,o,e.children)),slicedSegments:r}:{segmentGroup:new Pe(e.segments,e.children),slicedSegments:r}}function t9(e,t,r,o){const i={};for(const s of r)if(Yf(e,t,s)&&!o[Ar(s)]){const a=new Pe([],{});i[Ar(s)]=a}return{...o,...i}}function n9(e,t){const r={};r[he]=t;for(const o of e)if(""===o.path&&Ar(o)!==he){const i=new Pe([],{});r[Ar(o)]=i}return r}function Yf(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class a9{}class l9{constructor(t,r,o,i,s,a,c){this.injector=t,this.configLoader=r,this.rootComponentType=o,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new JH(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new O(4002,`'${t.segmentGroup}'`)}recognize(){const t=cA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Oe(r=>{const o=new Cv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new er(o,r),s=new YT("",i),a=function eH(e,t,r=null,o=null){return UT(BT(e),t,r,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root,null),{state:s,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,he).pipe(Ni(o=>{if(o instanceof Rv)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Nv?this.noMatchError(o):o}))}inheritParamsAndData(t,r){const o=t.value,i=Dv(o,r,this.paramsInheritanceStrategy);o.params=Object.freeze(i.params),o.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s,o))}processSegmentGroup(t,r,o,i){return 0===o.segments.length&&o.hasChildren()?this.processChildren(t,r,o):this.processSegment(t,r,o,o.segments,i,!0).pipe(Oe(s=>s instanceof er?[s]:[]))}processChildren(t,r,o){const i=[];for(const s of Object.keys(o.children))"primary"===s?i.unshift(s):i.push(s);return At(i).pipe(pu(s=>{const a=o.children[s],c=function xH(e,t){const r=e.filter(o=>Ar(o)===t);return r.push(...e.filter(o=>Ar(o)!==t)),r}(r,s);return this.processSegmentGroup(t,c,a,s)}),function AV(e,t){return Dt(function TV(e,t,r,o,i){return(s,a)=>{let c=r,u=t,l=0;s.subscribe(dt(a,d=>{const f=l++;u=c?e(u,d,f):(c=!0,d),o&&a.next(u)},i&&(()=>{c&&a.next(u),a.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Ff(null),function MV(e,t){const r=arguments.length>=2;return o=>o.pipe(e?Oo((i,s)=>e(i,s,o)):ai,fv(1),r?Ff(t):ST(()=>new Lf))}(),jt(s=>{if(null===s)return da(o);const a=uA(s);return function d9(e){e.sort((t,r)=>t.value.outlet===he?-1:r.value.outlet===he?1:t.value.outlet.localeCompare(r.value.outlet))}(a),ae(a)}))}processSegment(t,r,o,i,s,a){return At(r).pipe(pu(c=>this.processSegmentAgainstRoute(c._injector??t,r,c,o,i,s,a).pipe(Ni(u=>{if(u instanceof Nv)return ae(null);throw u}))),Mi(c=>!!c),Ni(c=>{if(sA(c))return function s9(e,t,r){return 0===t.length&&!e.children[r]}(o,i,s)?ae(new a9):da(o);throw c}))}processSegmentAgainstRoute(t,r,o,i,s,a,c){return function i9(e,t,r,o){return!!(Ar(e)===o||o!==he&&Yf(t,r,e))&&kv(t,e,r).matched}(o,i,s,a)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,i,o,s,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,o,s,a):da(i):da(i)}expandSegmentAgainstRouteUsingRedirect(t,r,o,i,s,a){const{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:d}=kv(r,i,s);if(!c)return da(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(jt(h=>this.processSegment(t,o,r,h.concat(d),a,!1)))}matchSegmentAgainstRoute(t,r,o,i,s){const a=XH(r,o,i,t);return"**"===o.path&&(r.children={}),a.pipe(Ir(c=>c.matched?this.getChildConfig(t=o._injector??t,o,i).pipe(Ir(({routes:u})=>{const l=o._loadedInjector??t,{consumedSegments:d,remainingSegments:f,parameters:h}=c,p=new Cv(d,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function h9(e){return e.data||{}}(o),Ar(o),o.component??o._loadedComponent??null,o,function p9(e){return e.resolve||{}}(o)),{segmentGroup:g,slicedSegments:m}=cA(r,d,f,u);if(0===m.length&&g.hasChildren())return this.processChildren(l,u,g).pipe(Oe(v=>null===v?null:new er(p,v)));if(0===u.length&&0===m.length)return ae(new er(p,[]));const y=Ar(o)===s;return this.processSegment(l,u,g,m,y?he:s,!0).pipe(Oe(v=>new er(p,v instanceof er?[v]:[])))})):da(r)))}getChildConfig(t,r,o){return r.children?ae({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?ae({routes:r._loadedRoutes,injector:r._loadedInjector}):function ZH(e,t,r,o){const i=t.canLoad;return void 0===i||0===i.length?ae(!0):ae(i.map(a=>{const c=ua(a,e);return ko(function PH(e){return e&&xu(e.canLoad)}(c)?c.canLoad(t,r):Hr(e,()=>c(t,r)))})).pipe(la(),aA())}(t,r,o).pipe(jt(i=>i?this.configLoader.loadChildren(t,r).pipe(Jt(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):function QH(e){return hu(nA(!1,Sn.GuardRejected))}())):ae({routes:[],injector:t})}}function f9(e){const t=e.value.routeConfig;return t&&""===t.path}function uA(e){const t=[],r=new Set;for(const o of e){if(!f9(o)){t.push(o);continue}const i=t.find(s=>o.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...o.children),r.add(i)):t.push(o)}for(const o of r){const i=uA(o.children);t.push(new er(o.value,i))}return t.filter(o=>!r.has(o))}function lA(e){const t=e.children.map(r=>lA(r)).flat();return[e,...t]}function Pv(e){return Ir(t=>{const r=e(t);return r?At(r).pipe(Oe(()=>t)):ae(t)})}let dA=(()=>{class e{buildTitle(r){let o,i=r.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===he);return o}getResolvedTitleForRoute(r){return r.data[mu]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(b9),providedIn:"root"})}return e})(),b9=(()=>{class e extends dA{constructor(r){super(),this.title=r}updateTitle(r){const o=this.buildTitle(r);void 0!==o&&this.title.setTitle(o)}static#e=this.\u0275fac=function(o){return new(o||e)(Z(S$))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const fa=new W("",{providedIn:"root",factory:()=>({})}),ha=new W("");let Lv=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Sx)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=ko(r.loadComponent()).pipe(Oe(fA),Jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),gu(()=>{this.componentLoaders.delete(r)})),i=new CT(o,()=>new nn).pipe(dv());return this.componentLoaders.set(r,i),i}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ae({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function _9(e,t,r,o){return ko(e.loadChildren()).pipe(Oe(fA),jt(i=>i instanceof OC||Array.isArray(i)?ae(i):At(t.compileModuleAsync(i))),Oe(i=>{o&&o(e);let s,a,c=!1;return Array.isArray(i)?(a=i,!0):(s=i.create(r).injector,a=s.get(ha,[],{optional:!0,self:!0}).flat()),{routes:a.map(Mv),injector:s}}))}(o,this.compiler,r,this.onLoadEndListener).pipe(gu(()=>{this.childrenLoaders.delete(o)})),a=new CT(s,()=>new nn).pipe(dv());return this.childrenLoaders.set(o,a),a}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fA(e){return function E9(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Fv=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(D9),providedIn:"root"})}return e})(),D9=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const hA=new W(""),pA=new W("");function C9(e,t,r){const o=e.get(pA),i=e.get(Rn);return e.get(Re).runOutsideAngular(()=>{if(!i.startViewTransition||o.skipNextTransition)return o.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s;const a=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),function S9(e){return new Promise(t=>{Dm(t,{injector:e})})}(e))),{onViewTransitionCreated:u}=o;return u&&Hr(e,()=>u({transition:c,from:t,to:r})),a})}let Qf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nn,this.transitionAbortSubject=new nn,this.configLoader=k(Lv),this.environmentInjector=k(sn),this.urlSerializer=k(ra),this.rootContexts=k(Eu),this.location=k(iu),this.inputBindingEnabled=null!==k(Wf,{optional:!0}),this.titleStrategy=k(dA),this.options=k(fa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Fv),this.createViewTransition=k(hA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new fH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:o})}setupNavigations(r,o,i){return this.transitions=new Tn({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_u,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oo(s=>0!==s.id),Oe(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ir(s=>{let a=!1,c=!1;return ae(s).pipe(Ir(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Sn.SupersededByNewNavigation),Sr;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new sa(u.id,this.urlSerializer.serialize(u.rawUrl),f,qf.IgnoredSameUrlNavigation)),u.resolve(null),Sr}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ae(u).pipe(Ir(f=>{const h=this.transitions?.getValue();return this.events.next(new zf(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Sr:Promise.resolve(f)}),function g9(e,t,r,o,i,s){return jt(a=>function c9(e,t,r,o,i,s,a="emptyOnly"){return new l9(e,t,r,o,i,a,s).recognize()}(e,t,r,o,a.extractedUrl,i,s).pipe(Oe(({state:c,tree:u})=>({...a,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Jt(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new qT(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=u,y=new zf(f,this.urlSerializer.serialize(h),p,g);this.events.next(y);const v=KT(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,ae(s)}{const f="";return this.events.next(new sa(u.id,this.urlSerializer.serialize(u.extractedUrl),f,qf.IgnoredByUrlHandlingStrategy)),u.resolve(null),Sr}}),Jt(u=>{const l=new aH(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Oe(u=>(this.currentTransition=s={...u,guards:MH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function jH(e,t){return jt(r=>{const{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=r;return 0===a.length&&0===s.length?ae({...r,guardsResult:!0}):function $H(e,t,r,o){return At(e).pipe(jt(i=>function WH(e,t,r,o,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(c=>{const u=Cu(t)??i,l=ua(c,u);return ko(function BH(e){return e&&xu(e.canDeactivate)}(l)?l.canDeactivate(e,t,r,o):Hr(u,()=>l(e,t,r,o))).pipe(Mi())})).pipe(la()):ae(!0)}(i.component,i.route,r,t,o)),Mi(i=>!0!==i,!0))}(a,o,i,e).pipe(jt(c=>c&&function kH(e){return"boolean"==typeof e}(c)?function VH(e,t,r,o){return At(t).pipe(pu(i=>lv(function zH(e,t){return null!==e&&t&&t(new hH(e)),ae(!0)}(i.route.parent,o),function HH(e,t){return null!==e&&t&&t(new gH(e)),ae(!0)}(i.route,o),function GH(e,t,r){const o=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function NH(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>DT(()=>ae(a.guards.map(u=>{const l=Cu(a.node)??r,d=ua(u,l);return ko(function FH(e){return e&&xu(e.canActivateChild)}(d)?d.canActivateChild(o,e):Hr(l,()=>d(o,e))).pipe(Mi())})).pipe(la())));return ae(s).pipe(la())}(e,i.path,r),function qH(e,t,r){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return ae(!0);const i=o.map(s=>DT(()=>{const a=Cu(t)??r,c=ua(s,a);return ko(function LH(e){return e&&xu(e.canActivate)}(c)?c.canActivate(t,e):Hr(a,()=>c(t,e))).pipe(Mi())}));return ae(i).pipe(la())}(e,i.route,r))),Mi(i=>!0!==i,!0))}(o,s,e,t):ae(c)),Oe(c=>({...r,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Jt(u=>{if(s.guardsResult=u.guardsResult,oa(u.guardsResult))throw tA(0,u.guardsResult);const l=new cH(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Oo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",Sn.GuardRejected),!1)),Pv(u=>{if(u.guards.canActivateChecks.length)return ae(u).pipe(Jt(l=>{const d=new uH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ir(l=>{let d=!1;return ae(l).pipe(function m9(e,t){return jt(r=>{const{targetSnapshot:o,guards:{canActivateChecks:i}}=r;if(!i.length)return ae(r);const s=new Set(i.map(u=>u.route)),a=new Set;for(const u of s)if(!a.has(u))for(const l of lA(u))a.add(l);let c=0;return At(a).pipe(pu(u=>s.has(u)?function y9(e,t,r,o){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!JT(i)&&(s[mu]=i.title),function v9(e,t,r,o){const i=hv(e);if(0===i.length)return ae({});const s={};return At(i).pipe(jt(a=>function w9(e,t,r,o){const i=Cu(t)??o,s=ua(e,i);return ko(s.resolve?s.resolve(t,r):Hr(i,()=>s(t,r)))}(e[a],t,r,o).pipe(Mi(),Jt(c=>{s[a]=c}))),fv(1),function NV(e){return Oe(()=>e)}(s),Ni(a=>sA(a)?Sr:hu(a)))}(s,e,t,o).pipe(Oe(a=>(e._resolvedData=a,e.data=Dv(e,e.parent,r).resolve,null)))}(u,o,e,t):(u.data=Dv(u,u.parent,e).resolve,ae(void 0))),Jt(()=>c++),fv(1),jt(u=>c===a.size?ae(r):Sr))})}(this.paramsInheritanceStrategy,this.environmentInjector),Jt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Sn.NoDataFromResolver)}}))}),Jt(l=>{const d=new lH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Pv(u=>{const l=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Jt(h=>{d.component=h}),Oe(()=>{})));for(const h of d.children)f.push(...l(h));return f};return uv(l(u.targetSnapshot.root)).pipe(Ff(null),ea(1))}),Pv(()=>this.afterPreactivation()),Ir(()=>{const{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?At(d).pipe(Oe(()=>s)):ae(s)}),Oe(u=>{const l=function wH(e,t,r){const o=Du(e,t._root,r?r._root:void 0);return new ZT(o,t)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),Jt(()=>{this.events.next(new wv)}),((e,t,r,o)=>Oe(i=>(new AH(t,i.targetRouterState,i.currentRouterState,r,o).activate(e),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ea(1),Jt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new to(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function RV(e){return Dt((t,r)=>{Dr(e).subscribe(dt(r,()=>r.complete(),up)),!r.closed&&t.subscribe(r)})}(this.transitionAbortSubject.pipe(Jt(u=>{throw u}))),gu(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Sn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ni(u=>{if(c=!0,rA(u))this.events.next(new ia(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function EH(e){return rA(e)&&oa(e.url)}(u)?this.events.next(new bv(u.url)):s.resolve(!1);else{this.events.next(new Gf(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return Sr}))}))}cancelNavigationTransition(r,o,i){const s=new ia(r.id,this.urlSerializer.serialize(r.extractedUrl),o,i);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function I9(e){return e!==_u}let x9=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(A9),providedIn:"root"})}return e})();class T9{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let A9=(()=>{class e extends T9{static#e=this.\u0275fac=(()=>{let r;return function(i){return(r||(r=gg(e)))(i||e)}})();static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:()=>k(M9),providedIn:"root"})}return e})(),M9=(()=>{class e extends gA{constructor(){super(...arguments),this.location=k(iu),this.urlSerializer=k(ra),this.options=k(fa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Fv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new na,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{"popstate"===o.type&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof zf)this.stateMemento=this.createStateMemento();else if(r instanceof sa)this.rawUrlTree=o.initialUrl;else if(r instanceof qT){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else r instanceof wv?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof ia&&(r.code===Sn.GuardRejected||r.code===Sn.NoDataFromResolver)?this.restoreHistory(o):r instanceof Gf?this.restoreHistory(o,!0):r instanceof to&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){const i=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(r,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}static#e=this.\u0275fac=(()=>{let r;return function(i){return(r||(r=gg(e)))(i||e)}})();static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Tu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Tu||{});function mA(e,t){e.events.pipe(Oo(r=>r instanceof to||r instanceof ia||r instanceof Gf||r instanceof sa),Oe(r=>r instanceof to||r instanceof sa?Tu.COMPLETE:r instanceof ia&&(r.code===Sn.Redirect||r.code===Sn.SupersededByNewNavigation)?Tu.REDIRECTING:Tu.FAILED),Oo(r=>r!==Tu.REDIRECTING),ea(1)).subscribe(()=>{t()})}function N9(e){throw e}const R9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(gx),this.stateManager=k(gA),this.options=k(fa,{optional:!0})||{},this.pendingTasks=k(As),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Qf),this.urlSerializer=k(ra),this.location=k(iu),this.urlHandlingStrategy=k(Fv),this._events=new nn,this.errorHandler=this.options.errorHandler||N9,this.navigated=!1,this.routeReuseStrategy=k(x9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(ha,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Wf,{optional:!0}),this.eventsSubscription=new Ot,this.isNgZoneEnabled=k(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof ia&&o.code!==Sn.Redirect&&o.code!==Sn.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof to)this.navigated=!0;else if(o instanceof bv){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||I9(i.source)};this.scheduleNavigation(a,_u,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function P9(e){return!(e instanceof wv||e instanceof bv)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_u,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(r);this.scheduleNavigation(c,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Mv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=o,l=u?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=BT(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return UT(f,r,d,l??null)}navigateByUrl(r,o={skipLocationChange:!1}){const i=oa(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,_u,null,o)}navigate(r,o={skipLocationChange:!1}){return function k9(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new O(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let i;if(i=!0===o?{...R9}:!1===o?{...O9}:o,oa(r))return AT(this.currentUrlTree,r,i);const s=this.parseUrl(r);return AT(this.currentUrlTree,s,i)}removeEmptyProps(r){return Object.entries(r).reduce((o,[i,s])=>(null!=s&&(o[i]=s),o),{})}scheduleNavigation(r,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});const d=this.pendingTasks.add();return mA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class yA{}let B9=(()=>{class e{constructor(r,o,i,s,a){this.router=r,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Oo(r=>r instanceof to),pu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Ld(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return At(i).pipe(fu())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(r,o):ae(null);const s=i.pipe(jt(a=>null===a?ae(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return o.loadComponent&&!o._loadedComponent?At([s,this.loader.loadComponent(o)]).pipe(fu()):s})}static#e=this.\u0275fac=function(o){return new(o||e)(Z(tr),Z(Sx),Z(sn),Z(yA),Z(Lv))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Uv=new W("");let vA=(()=>{class e{constructor(r,o,i,s,a={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(sn),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof to?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof sa&&r.code===qf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof GT&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){var i=this;this.zone.runOutsideAngular(U(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Dm(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new GT(r,"popstate"===i.lastSource?i.store[i.restoredId]:null,o))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){!function hD(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function Mr(e,t){return{\u0275kind:e,\u0275providers:t}}function bA(){const e=k(an);return t=>{const r=e.get(Mo);if(t!==r.components[0])return;const o=e.get(tr),i=e.get(_A);1===e.get(jv)&&o.initialNavigation(),e.get(EA,null,we.Optional)?.setUpPreloading(),e.get(Uv,null,we.Optional)?.init(),o.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _A=new W("",{factory:()=>new nn}),jv=new W("",{providedIn:"root",factory:()=>1}),EA=new W("");function V9(e){return Mr(0,[{provide:EA,useExisting:B9},{provide:yA,useExisting:e}])}function z9(e){return Mr(9,[{provide:hA,useValue:C9},{provide:pA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const DA=new W("ROUTER_FORROOT_GUARD"),q9=[iu,{provide:ra,useClass:pv},tr,Eu,{provide:ca,useFactory:function wA(e){return e.routerState.root},deps:[tr]},Lv,[]];let CA=(()=>{class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[q9,[],{provide:ha,multi:!0,useValue:r},{provide:DA,useFactory:K9,deps:[[tr,new xl,new Tl]]},{provide:fa,useValue:o||{}},o?.useHash?{provide:Ai,useClass:r6}:{provide:Ai,useClass:g1},{provide:Uv,useFactory:()=>{const e=k(C5),t=k(Re),r=k(fa),o=k(Qf),i=k(ra);return r.scrollOffset&&e.setOffset(r.scrollOffset),new vA(i,o,e,t,r)}},o?.preloadingStrategy?V9(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?Y9(o):[],o?.bindToComponentInputs?Mr(8,[XT,{provide:Wf,useExisting:XT}]).\u0275providers:[],o?.enableViewTransitions?z9().\u0275providers:[],[{provide:SA,useFactory:bA},{provide:Ey,multi:!0,useExisting:SA}]]}}static forChild(r){return{ngModule:e,providers:[{provide:ha,multi:!0,useValue:r}]}}static#e=this.\u0275fac=function(o){return new(o||e)(Z(DA,8))};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({})}return e})();function K9(e){return"guarded"}function Y9(e){return["disabled"===e.initialNavigation?Mr(3,[{provide:by,multi:!0,useFactory:()=>{const t=k(tr);return()=>{t.setUpLocationChangeListener()}}},{provide:jv,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Mr(2,[{provide:jv,useValue:0},{provide:by,multi:!0,deps:[an],useFactory:t=>{const r=t.get(t6,Promise.resolve());return()=>r.then(()=>new Promise(o=>{const i=t.get(tr),s=t.get(_A);mA(i,()=>{o(!0)}),t.get(Qf).afterPreactivation=()=>(o(!0),s.closed?ae(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const SA=new W("");var no=function(e){return e.STRANGE="STRANGE",e.YOU="YOU",e}(no||{}),ro=function(e){return e.CONNECTED="CONNECTED",e.UP_TO_DISCONNECT="UP_TO_DISCONNECT",e.DISCONNECTED="DISCONNECTED",e.SEARCHING_STRANGER="SEARCHING_STRANGER",e}(ro||{});function $v(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Vv(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Au(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Hv="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,zv=e=>e instanceof Uint8Array,qv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Nr=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Mu(e){if("string"==typeof e&&(e=function t7(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!zv(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class TA{clone(){return this._cloneInto()}}function o7(e){const t=o=>e().update(Mu(o)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function AA(e=32){if(Hv&&"function"==typeof Hv.getRandomValues)return Hv.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class s7 extends TA{constructor(t,r,o,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qv(this.buffer)}update(t){Au(this);const{view:r,buffer:o,blockLen:i}=this,s=(t=Mu(t)).length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c!==i)o.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0);else{const u=qv(t);for(;i<=s-a;a+=i)this.process(u,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Au(this),function xA(e,t){Vv(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(t,this),this.finished=!0;const{buffer:r,view:o,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let f=a;f<i;f++)r[f]=0;(function i7(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)})(o,i-8,BigInt(8*this.length),s),this.process(o,0);const c=qv(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:o,length:i,finished:s,destroyed:a,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=a,i%r&&t.buffer.set(o),t}}const a7=(e,t,r)=>e&t^~e&r,c7=(e,t,r)=>e&t^e&r^t&r,u7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Po=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lo=new Uint32Array(64);class MA extends s7{constructor(){super(64,32,8,!1),this.A=0|Po[0],this.B=0|Po[1],this.C=0|Po[2],this.D=0|Po[3],this.E=0|Po[4],this.F=0|Po[5],this.G=0|Po[6],this.H=0|Po[7]}get(){const{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;return[t,r,o,i,s,a,c,u]}set(t,r,o,i,s,a,c,u){this.A=0|t,this.B=0|r,this.C=0|o,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|c,this.H=0|u}process(t,r){for(let f=0;f<16;f++,r+=4)Lo[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=Lo[f-15],p=Lo[f-2],g=Nr(h,7)^Nr(h,18)^h>>>3,m=Nr(p,17)^Nr(p,19)^p>>>10;Lo[f]=m+Lo[f-7]+g+Lo[f-16]|0}let{A:o,B:i,C:s,D:a,E:c,F:u,G:l,H:d}=this;for(let f=0;f<64;f++){const p=d+(Nr(c,6)^Nr(c,11)^Nr(c,25))+a7(c,u,l)+u7[f]+Lo[f]|0,m=(Nr(o,2)^Nr(o,13)^Nr(o,22))+c7(o,i,s)|0;d=l,l=u,u=c,c=a+p|0,a=s,s=i,i=o,o=p+m|0}o=o+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(o,i,s,a,c,u,l,d)}roundClean(){Lo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Wv=o7(()=>new MA),Jf=(BigInt(0),BigInt(1)),l7=BigInt(2),Xf=e=>e instanceof Uint8Array,d7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pa(e){if(!Xf(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=d7[e[r]];return t}function RA(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ga(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let o=0;o<r.length;o++){const i=2*o,s=e.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[o]=a}return r}function fn(e){return RA(pa(e))}function Zv(e){if(!Xf(e))throw new Error("Uint8Array expected");return RA(pa(Uint8Array.from(e).reverse()))}function Fo(e,t){return ga(e.toString(16).padStart(2*t,"0"))}function Kv(e,t){return Fo(e,t).reverse()}function $t(e,t,r){let o;if("string"==typeof t)try{o=ga(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else{if(!Xf(t))throw new Error(`${e} must be hex string or Uint8Array`);o=Uint8Array.from(t)}const i=o.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return o}function Oi(...e){const t=new Uint8Array(e.reduce((o,i)=>o+i.length,0));let r=0;return e.forEach(o=>{if(!Xf(o))throw new Error("Uint8Array expected");t.set(o,r),r+=o.length}),t}const Yv=e=>(l7<<BigInt(e-1))-Jf,Qv=e=>new Uint8Array(e),OA=e=>Uint8Array.from(e);function kA(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let o=Qv(e),i=Qv(e),s=0;const a=()=>{o.fill(1),i.fill(0),s=0},c=(...f)=>r(i,o,...f),u=(f=Qv())=>{i=c(OA([0]),f),o=c(),0!==f.length&&(i=c(OA([1]),f),o=c())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){o=c();const p=o.slice();h.push(p),f+=o.length}return Oi(...h)};return(f,h)=>{let p;for(a(),u(f);!(p=h(l()));)u();return a(),p}}const h7={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Nu(e,t,r={}){const o=(i,s,a)=>{const c=h7[s];if("function"!=typeof c)throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(a&&void 0===u||c(u,e)))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))o(i,s,!1);for(const[i,s]of Object.entries(r))o(i,s,!0);return e}const vt=BigInt(0),Be=BigInt(1),Bo=BigInt(2),p7=BigInt(3),Jv=BigInt(4),PA=BigInt(5),LA=BigInt(8);function wt(e,t){const r=e%t;return r>=vt?r:t+r}function y7(e,t,r){if(r<=vt||t<vt)throw new Error("Expected power/modulo > 0");if(r===Be)return vt;let o=Be;for(;t>vt;)t&Be&&(o=o*e%r),e=e*e%r,t>>=Be;return o}function Pn(e,t,r){let o=e;for(;t-- >vt;)o*=o,o%=r;return o}function eh(e,t){if(e===vt||t<=vt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=wt(e,t),o=t,i=vt,s=Be,a=Be,c=vt;for(;r!==vt;){const l=o/r,d=o%r,f=i-a*l,h=s-c*l;o=r,r=d,i=a,s=c,a=f,c=h}if(o!==Be)throw new Error("invert: does not exist");return wt(i,t)}BigInt(9),BigInt(16);const b7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xv(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function FA(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function BA(e){const t=FA(e);return t+Math.ceil(t/2)}class UA extends TA{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,function IA(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");$v(e.outputLen),$v(e.blockLen)}(t);const o=Mu(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?t.create().update(o).digest():o);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return Au(this),this.iHash.update(t),this}digestInto(t){Au(this),Vv(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:o,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return t.finished=i,t.destroyed=s,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=o._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jA=(e,t,r)=>new UA(e,t).update(r).digest();jA.create=(e,t)=>new UA(e,t);const I7=BigInt(0),e0=BigInt(1);function $A(e){return function _7(e){Nu(e,b7.reduce((o,i)=>(o[i]="function",o),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Nu(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Xv(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:A7,aT:M7}=za,ki={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=ki;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],o=e.subarray(2,r+2);if(!r||o.length!==r)throw new t("Invalid signature integer: wrong length");if(128&o[0])throw new t("Invalid signature integer: negative");if(0===o[0]&&!(128&o[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:A7(o),l:e.subarray(r+2)}},toSig(e){const{Err:t}=ki,r="string"==typeof e?M7(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let o=r.length;if(o<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==o-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=ki._parseInt(r.subarray(2)),{d:a,l:c}=ki._parseInt(s);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=l=>8&Number.parseInt(l[0],16)?"00"+l:l,r=l=>{const d=l.toString(16);return 1&d.length?`0${d}`:d},o=t(r(e.s)),i=t(r(e.r)),s=o.length/2,a=i.length/2,c=r(s),u=r(a);return`30${r(a+s+4)}02${u}${i}02${c}${o}`}},nr=BigInt(0),Qe=BigInt(1),th=(BigInt(2),BigInt(3));function O7(e){const t=function R7(e){const t=$A(e);return Nu(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:o}=t,i=r.BYTES+1,s=2*r.BYTES+1;function c(C){return wt(C,o)}function u(C){return eh(C,o)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=function N7(e){const t=function T7(e){const t=$A(e);Nu(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:o,a:i}=t;if(r){if(!o.eql(i,o.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,o=t.toBytes||((g,m,y)=>{const v=m.toAffine();return Oi(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),i=t.fromBytes||(g=>{const m=g.subarray(1);return{x:r.fromBytes(m.subarray(0,r.BYTES)),y:r.fromBytes(m.subarray(r.BYTES,2*r.BYTES))}});function s(g){const{a:m,b:y}=t,v=r.sqr(g),w=r.mul(v,g);return r.add(r.add(w,r.mul(g,m)),y)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return"bigint"==typeof g&&nr<g&&g<t.n}function c(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(g){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:v,n:w}=t;if(m&&"bigint"!=typeof g){if(g instanceof Uint8Array&&(g=pa(g)),"string"!=typeof g||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(2*y,"0")}let b;try{b="bigint"==typeof g?g:fn($t("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return v&&(b=wt(b,w)),c(b),b}const l=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,y,v){if(this.px=m,this.py=y,this.pz=v,null==m||!r.isValid(m))throw new Error("x required");if(null==y||!r.isValid(y))throw new Error("y required");if(null==v||!r.isValid(v))throw new Error("z required")}static fromAffine(m){const{x:y,y:v}=m||{};if(!m||!r.isValid(y)||!r.isValid(v))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const w=b=>r.eql(b,r.ZERO);return w(y)&&w(v)?f.ZERO:new f(y,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=r.invertBatch(m.map(v=>v.pz));return m.map((v,w)=>v.toAffine(y[w])).map(f.fromAffine)}static fromHex(m){const y=f.fromAffine(i($t("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return f.BASE.multiply(u(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!r.isValid(m)||!r.isValid(y))throw new Error("bad point: x or y not FE");const v=r.sqr(y),w=s(m);if(!r.eql(v,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:y,py:v,pz:w}=this,{px:b,py:_,pz:D}=m,E=r.eql(r.mul(y,D),r.mul(b,w)),S=r.eql(r.mul(v,D),r.mul(_,w));return E&&S}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:y}=t,v=r.mul(y,th),{px:w,py:b,pz:_}=this;let D=r.ZERO,E=r.ZERO,S=r.ZERO,I=r.mul(w,w),R=r.mul(b,b),$=r.mul(_,_),F=r.mul(w,b);return F=r.add(F,F),S=r.mul(w,_),S=r.add(S,S),D=r.mul(m,S),E=r.mul(v,$),E=r.add(D,E),D=r.sub(R,E),E=r.add(R,E),E=r.mul(D,E),D=r.mul(F,D),S=r.mul(v,S),$=r.mul(m,$),F=r.sub(I,$),F=r.mul(m,F),F=r.add(F,S),S=r.add(I,I),I=r.add(S,I),I=r.add(I,$),I=r.mul(I,F),E=r.add(E,I),$=r.mul(b,_),$=r.add($,$),I=r.mul($,F),D=r.sub(D,I),S=r.mul($,R),S=r.add(S,S),S=r.add(S,S),new f(D,E,S)}add(m){d(m);const{px:y,py:v,pz:w}=this,{px:b,py:_,pz:D}=m;let E=r.ZERO,S=r.ZERO,I=r.ZERO;const R=t.a,$=r.mul(t.b,th);let F=r.mul(y,b),H=r.mul(v,_),Q=r.mul(w,D),A=r.add(y,v),C=r.add(b,_);A=r.mul(A,C),C=r.add(F,H),A=r.sub(A,C),C=r.add(y,w);let x=r.add(b,D);return C=r.mul(C,x),x=r.add(F,Q),C=r.sub(C,x),x=r.add(v,w),E=r.add(_,D),x=r.mul(x,E),E=r.add(H,Q),x=r.sub(x,E),I=r.mul(R,C),E=r.mul($,Q),I=r.add(E,I),E=r.sub(H,I),I=r.add(H,I),S=r.mul(E,I),H=r.add(F,F),H=r.add(H,F),Q=r.mul(R,Q),C=r.mul($,C),H=r.add(H,Q),Q=r.sub(F,Q),Q=r.mul(R,Q),C=r.add(C,Q),F=r.mul(H,C),S=r.add(S,F),F=r.mul(x,C),E=r.mul(A,E),E=r.sub(E,F),F=r.mul(A,H),I=r.mul(x,I),I=r.add(I,F),new f(E,S,I)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,l,m,y=>{const v=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(v[b])).map(f.fromAffine)})}multiplyUnsafe(m){const y=f.ZERO;if(m===nr)return y;if(c(m),m===Qe)return this;const{endo:v}=t;if(!v)return p.unsafeLadder(this,m);let{k1neg:w,k1:b,k2neg:_,k2:D}=v.splitScalar(m),E=y,S=y,I=this;for(;b>nr||D>nr;)b&Qe&&(E=E.add(I)),D&Qe&&(S=S.add(I)),I=I.double(),b>>=Qe,D>>=Qe;return w&&(E=E.negate()),_&&(S=S.negate()),S=new f(r.mul(S.px,v.beta),S.py,S.pz),E.add(S)}multiply(m){c(m);let v,w,y=m;const{endo:b}=t;if(b){const{k1neg:_,k1:D,k2neg:E,k2:S}=b.splitScalar(y);let{p:I,f:R}=this.wNAF(D),{p:$,f:F}=this.wNAF(S);I=p.constTimeNegate(_,I),$=p.constTimeNegate(E,$),$=new f(r.mul($.px,b.beta),$.py,$.pz),v=I.add($),w=R.add(F)}else{const{p:_,f:D}=this.wNAF(y);v=_,w=D}return f.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(m,y,v){const w=f.BASE,b=(D,E)=>E!==nr&&E!==Qe&&D.equals(w)?D.multiply(E):D.multiplyUnsafe(E),_=b(this,y).add(b(m,v));return _.is0()?void 0:_}toAffine(m){const{px:y,py:v,pz:w}=this,b=this.is0();null==m&&(m=b?r.ONE:r.inv(w));const _=r.mul(y,m),D=r.mul(v,m),E=r.mul(w,m);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(E,r.ONE))throw new Error("invZ was invalid");return{x:_,y:D}}isTorsionFree(){const{h:m,isTorsionFree:y}=t;if(m===Qe)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=t;return m===Qe?this:y?y(f,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return this.assertValidity(),o(f,this,m)}toHex(m=!0){return pa(this.toRawBytes(m))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,p=function x7(e,t){const r=(i,s)=>{const a=s.negate();return i?a:s},o=i=>({windows:Math.ceil(t/i)+1,windowSize:2**(i-1)});return{constTimeNegate:r,unsafeLadder(i,s){let a=e.ZERO,c=i;for(;s>I7;)s&e0&&(a=a.add(c)),c=c.double(),s>>=e0;return a},precomputeWindow(i,s){const{windows:a,windowSize:c}=o(s),u=[];let l=i,d=l;for(let f=0;f<a;f++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,s,a){const{windows:c,windowSize:u}=o(i);let l=e.ZERO,d=e.BASE;const f=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let g=0;g<c;g++){const m=g*u;let y=Number(a&f);a>>=p,y>u&&(y-=h,a+=e0);const v=m,w=m+Math.abs(y)-1,_=y<0;0===y?d=d.add(r(g%2!=0,s[v])):l=l.add(r(_,s[w]))}return{p:l,f:d}},wNAFCached(i,s,a,c){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),1!==u&&s.set(i,c(l))),this.wNAF(u,l,a)}}}(f,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:a}}({...t,toBytes(C,x,M){const B=x.toAffine(),N=r.toBytes(B.x),J=Oi;return M?J(Uint8Array.from([x.hasEvenY()?2:3]),N):J(Uint8Array.from([4]),N,r.toBytes(B.y))},fromBytes(C){const x=C.length,M=C[0],B=C.subarray(1);if(x!==i||2!==M&&3!==M){if(x===s&&4===M)return{x:r.fromBytes(B.subarray(0,r.BYTES)),y:r.fromBytes(B.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${x} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const N=fn(B);if(!function a(C){return nr<C&&C<r.ORDER}(N))throw new Error("Point is not on curve");const J=f(N);let ee=r.sqrt(J);return!(1&~M)!=((ee&Qe)===Qe)&&(ee=r.neg(ee)),{x:N,y:ee}}}}),p=C=>pa(Fo(C,t.nByteLength));function g(C){return C>o>>Qe}const y=(C,x,M)=>fn(C.slice(x,M));class v{constructor(x,M,B){this.r=x,this.s=M,this.recovery=B,this.assertValidity()}static fromCompact(x){const M=t.nByteLength;return x=$t("compactSignature",x,2*M),new v(y(x,0,M),y(x,M,2*M))}static fromDER(x){const{r:M,s:B}=ki.toSig($t("DER",x));return new v(M,B)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(x){return new v(this.r,this.s,x)}recoverPublicKey(x){const{r:M,s:B,recovery:N}=this,J=S($t("msgHash",x));if(null==N||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const ee=2===N||3===N?M+t.n:M;if(ee>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ae=l.fromHex((1&N?"03":"02")+p(ee)),Ke=u(ee),_t=c(-J*Ke),ot=c(B*Ke),Et=l.BASE.multiplyAndAddUnsafe(Ae,_t,ot);if(!Et)throw new Error("point at infinify");return Et.assertValidity(),Et}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ga(this.toDERHex())}toDERHex(){return ki.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ga(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(C){try{return d(C),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const C=BA(t.n);return function S7(e,t,r=!1){const o=e.length,i=FA(t),s=BA(t);if(o<16||o<s||o>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${o}`);const c=wt(r?fn(e):Zv(e),t-Be)+Be;return r?Kv(c,i):Fo(c,i)}(t.randomBytes(C),t.n)},precompute:(C=8,x=l.BASE)=>(x._setWindowSize(C),x.multiply(BigInt(3)),x)};function _(C){const x=C instanceof Uint8Array,M="string"==typeof C,B=(x||M)&&C.length;return x?B===i||B===s:M?B===2*i||B===2*s:C instanceof l}const E=t.bits2int||function(C){const x=fn(C),M=8*C.length-t.nBitLength;return M>0?x>>BigInt(M):x},S=t.bits2int_modN||function(C){return c(E(C))},I=Yv(t.nBitLength);function R(C){if("bigint"!=typeof C)throw new Error("bigint expected");if(!(nr<=C&&C<I))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Fo(C,t.nByteLength)}const F={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function b(C,x=!0){return l.fromPrivateKey(C).toRawBytes(x)},getSharedSecret:function D(C,x,M=!0){if(_(C))throw new Error("first arg must be private key");if(!_(x))throw new Error("second arg must be public key");return l.fromHex(x).multiply(d(C)).toRawBytes(M)},sign:function Q(C,x,M=F){const{seed:B,k2sig:N}=function $(C,x,M=F){if(["recovered","canonical"].some(it=>it in M))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:N}=t;let{lowS:J,prehash:ee,extraEntropy:ce}=M;null==J&&(J=!0),C=$t("msgHash",C),ee&&(C=$t("prehashed msgHash",B(C)));const Ae=S(C),Ke=d(x),_t=[R(Ke),R(Ae)];if(null!=ce){const it=!0===ce?N(r.BYTES):ce;_t.push($t("extraEntropy",it))}const ot=Oi(..._t),Et=Ae;return{seed:ot,k2sig:function St(it){const mo=E(it);if(!h(mo))return;const xn=u(mo),Rt=l.BASE.multiply(mo).toAffine(),ur=c(Rt.x);if(ur===nr)return;const Ki=c(xn*c(Et+ur*Ke));if(Ki===nr)return;let fl=(Rt.x===ur?0:2)|Number(Rt.y&Qe),tR=Ki;return J&&g(Ki)&&(tR=function m(C){return g(C)?c(-C):C}(Ki),fl^=1),new v(ur,tR,fl)}}}(C,x,M);return kA(t.hash.outputLen,t.nByteLength,t.hmac)(B,N)},verify:function A(C,x,M,B=H){const N=C;if(x=$t("msgHash",x),M=$t("publicKey",M),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:J,prehash:ee}=B;let ce,Ae;try{if("string"==typeof N||N instanceof Uint8Array)try{ce=v.fromDER(N)}catch(Rt){if(!(Rt instanceof ki.Err))throw Rt;ce=v.fromCompact(N)}else{if("object"!=typeof N||"bigint"!=typeof N.r||"bigint"!=typeof N.s)throw new Error("PARSE");{const{r:Rt,s:ur}=N;ce=new v(Rt,ur)}}Ae=l.fromHex(M)}catch(Rt){if("PARSE"===Rt.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&ce.hasHighS())return!1;ee&&(x=t.hash(x));const{r:Ke,s:_t}=ce,ot=S(x),Et=u(_t),St=c(ot*Et),it=c(Ke*Et),mo=l.BASE.multiplyAndAddUnsafe(Ae,St,it)?.toAffine();return!!mo&&c(mo.x)===Ke},ProjectivePoint:l,Signature:v,utils:w}}function P7(e){return{hash:e,hmac:(t,...r)=>jA(e,t,function n7(...e){const t=new Uint8Array(e.reduce((o,i)=>o+i.length,0));let r=0;return e.forEach(o=>{if(!zv(o))throw new Error("Uint8Array expected");t.set(o,r),r+=o.length}),t}(...r)),randomBytes:AA}}BigInt(4);const nh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),HA=BigInt(1),oh=BigInt(2),zA=(e,t)=>(e+t/oh)/t;function qA(e){const t=nh,r=BigInt(3),o=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),l=e*e*e%t,d=l*l*e%t,f=Pn(d,r,t)*d%t,h=Pn(f,r,t)*d%t,p=Pn(h,oh,t)*l%t,g=Pn(p,i,t)*p%t,m=Pn(g,s,t)*g%t,y=Pn(m,c,t)*m%t,v=Pn(y,u,t)*y%t,w=Pn(v,c,t)*m%t,b=Pn(w,r,t)*d%t,_=Pn(b,a,t)*g%t,D=Pn(_,o,t)*l%t,E=Pn(D,oh,t);if(!t0.eql(t0.sqr(E),e))throw new Error("Cannot find square root");return E}const t0=function C7(e,t,r=!1,o={}){if(e<=vt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Xv(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function w7(e){if(e%Jv===p7){const t=(e+Be)/Jv;return function(o,i){const s=o.pow(i,t);if(!o.eql(o.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%LA===PA){const t=(e-PA)/LA;return function(o,i){const s=o.mul(i,Bo),a=o.pow(s,t),c=o.mul(i,a),u=o.mul(o.mul(c,Bo),a),l=o.mul(c,o.sub(u,o.ONE));if(!o.eql(o.sqr(l),i))throw new Error("Cannot find square root");return l}}return function v7(e){const t=(e-Be)/Bo;let r,o,i;for(r=e-Be,o=0;r%Bo===vt;r/=Bo,o++);for(i=Bo;i<e&&y7(i,t,e)!==e-Be;i++);if(1===o){const a=(e+Be)/Jv;return function(u,l){const d=u.pow(l,a);if(!u.eql(u.sqr(d),l))throw new Error("Cannot find square root");return d}}const s=(r+Be)/Bo;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let l=o,d=c.pow(c.mul(c.ONE,i),r),f=c.pow(u,s),h=c.pow(u,r);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let m=c.sqr(h);p<l&&!c.eql(m,c.ONE);p++)m=c.sqr(m);const g=c.pow(d,Be<<BigInt(l-p-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),l=p}return f}}(e)}(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Yv(i),ZERO:vt,ONE:Be,create:u=>wt(u,e),isValid:u=>{if("bigint"!=typeof u)throw new Error("Invalid field element: expected bigint, got "+typeof u);return vt<=u&&u<e},is0:u=>u===vt,isOdd:u=>(u&Be)===Be,neg:u=>wt(-u,e),eql:(u,l)=>u===l,sqr:u=>wt(u*u,e),add:(u,l)=>wt(u+l,e),sub:(u,l)=>wt(u-l,e),mul:(u,l)=>wt(u*l,e),pow:(u,l)=>function E7(e,t,r){if(r<vt)throw new Error("Expected power > 0");if(r===vt)return e.ONE;if(r===Be)return t;let o=e.ONE,i=t;for(;r>vt;)r&Be&&(o=e.mul(o,i)),i=e.sqr(i),r>>=Be;return o}(c,u,l),div:(u,l)=>wt(u*eh(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>eh(u,e),sqrt:o.sqrt||(u=>a(c,u)),invertBatch:u=>function D7(e,t){const r=new Array(t.length),o=t.reduce((s,a,c)=>e.is0(a)?s:(r[c]=s,e.mul(s,a)),e.ONE),i=e.inv(o);return t.reduceRight((s,a,c)=>e.is0(a)?s:(r[c]=e.mul(s,r[c]),e.mul(s,a)),i),r}(c,u),cmov:(u,l,d)=>d?l:u,toBytes:u=>r?Kv(u,s):Fo(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?Zv(u):fn(u)}});return Object.freeze(c)}(nh,void 0,void 0,{sqrt:qA}),ma=function L7(e,t){const r=o=>O7({...e,...P7(o)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:t0,n:rh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=rh,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-HA*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=zA(s*e,t),u=zA(-o*e,t);let l=wt(e-c*r-u*i,t),d=wt(-c*o-u*s,t);const f=l>a,h=d>a;if(f&&(l=t-l),h&&(d=t-d),l>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:h,k2:d}}}},Wv),ih=BigInt(0),GA=e=>"bigint"==typeof e&&ih<e&&e<nh,WA={};function sh(e,...t){let r=WA[e];if(void 0===r){const o=Wv(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Oi(o,o),WA[e]=r}return Wv(Oi(r,...t))}const n0=e=>e.toRawBytes(!0).slice(1),r0=e=>Fo(e,32),o0=e=>wt(e,nh),Ru=e=>wt(e,rh),s0=ma.ProjectivePoint;function a0(e){let t=ma.utils.normPrivateKeyToScalar(e),r=s0.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Ru(-t),bytes:n0(r)}}function ZA(e){if(!GA(e))throw new Error("bad x: need 0 < x < p");const t=o0(e*e);let o=qA(o0(t*e+BigInt(7)));o%oh!==ih&&(o=o0(-o));const i=new s0(e,o,HA);return i.assertValidity(),i}function KA(...e){return Ru(fn(sh("BIP0340/challenge",...e)))}function YA(e,t,r){const o=$t("signature",e,64),i=$t("message",t),s=$t("publicKey",r,32);try{const a=ZA(fn(s)),c=fn(o.subarray(0,32));if(!GA(c))return!1;const u=fn(o.subarray(32,64));if(!(e=>"bigint"==typeof e&&ih<e&&e<rh)(u))return!1;const l=KA(r0(c),n0(a),i),d=((e,t,r)=>s0.BASE.multiplyAndAddUnsafe(e,t,r))(a,u,Ru(-l));return!(!d||!d.hasEvenY()||d.toAffine().x!==c)}catch{return!1}}const Ou={getPublicKey:function U7(e){return a0(e).bytes},sign:function j7(e,t,r=AA(32)){const o=$t("message",e),{bytes:i,scalar:s}=a0(t),a=$t("auxRand",r,32),c=r0(s^fn(sh("BIP0340/aux",a))),u=sh("BIP0340/nonce",c,i,o),l=Ru(fn(u));if(l===ih)throw new Error("sign failed: k is zero");const{bytes:d,scalar:f}=a0(l),h=KA(d,i,o),p=new Uint8Array(64);if(p.set(d,0),p.set(r0(Ru(f+h*s)),32),!YA(p,o,i))throw new Error("sign: Invalid signature produced");return p},verify:YA,utils:{randomPrivateKey:ma.utils.randomPrivateKey,lift_x:ZA,pointToBytes:n0,numberToBytesBE:Fo,bytesToNumberBE:fn,taggedHash:sh,mod:wt}},c0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,u0=e=>e instanceof Uint8Array,l0=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Rr=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const $7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hn(e){if(!u0(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=$7[e[r]];return t}function ya(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let o=0;o<r.length;o++){const i=2*o,s=e.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[o]=a}return r}function Pi(e){if("string"==typeof e&&(e=function H7(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!u0(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function ah(...e){const t=new Uint8Array(e.reduce((o,i)=>o+i.length,0));let r=0;return e.forEach(o=>{if(!u0(o))throw new Error("Uint8Array expected");t.set(o,r),r+=o.length}),t}class QA{clone(){return this._cloneInto()}}function JA(e){const t=o=>e().update(Pi(o)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function XA(e=32){if(c0&&"function"==typeof c0.getRandomValues)return c0.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function f0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function eM(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const Or={number:f0,bool:function q7(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:eM,hash:function G7(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");f0(e.outputLen),f0(e.blockLen)},exists:function W7(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function Z7(e,t){eM(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}};class Y7 extends QA{constructor(t,r,o,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=l0(this.buffer)}update(t){Or.exists(this);const{view:r,buffer:o,blockLen:i}=this,s=(t=Pi(t)).length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c!==i)o.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0);else{const u=l0(t);for(;i<=s-a;a+=i)this.process(u,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Or.exists(this),Or.output(t,this),this.finished=!0;const{buffer:r,view:o,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let f=a;f<i;f++)r[f]=0;(function K7(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)})(o,i-8,BigInt(8*this.length),s),this.process(o,0);const c=l0(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:o,length:i,finished:s,destroyed:a,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=a,i%r&&t.buffer.set(o),t}}const Q7=(e,t,r)=>e&t^~e&r,J7=(e,t,r)=>e&t^e&r^t&r,X7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$o=new Uint32Array(64);class tM extends Y7{constructor(){super(64,32,8,!1),this.A=0|jo[0],this.B=0|jo[1],this.C=0|jo[2],this.D=0|jo[3],this.E=0|jo[4],this.F=0|jo[5],this.G=0|jo[6],this.H=0|jo[7]}get(){const{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;return[t,r,o,i,s,a,c,u]}set(t,r,o,i,s,a,c,u){this.A=0|t,this.B=0|r,this.C=0|o,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|c,this.H=0|u}process(t,r){for(let f=0;f<16;f++,r+=4)$o[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=$o[f-15],p=$o[f-2],g=Rr(h,7)^Rr(h,18)^h>>>3,m=Rr(p,17)^Rr(p,19)^p>>>10;$o[f]=m+$o[f-7]+g+$o[f-16]|0}let{A:o,B:i,C:s,D:a,E:c,F:u,G:l,H:d}=this;for(let f=0;f<64;f++){const p=d+(Rr(c,6)^Rr(c,11)^Rr(c,25))+Q7(c,u,l)+X7[f]+$o[f]|0,m=(Rr(o,2)^Rr(o,13)^Rr(o,22))+J7(o,i,s)|0;d=l,l=u,u=c,c=a+p|0,a=s,s=i,i=o,o=p+m|0}o=o+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(o,i,s,a,c,u,l,d)}roundClean(){$o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class ez extends tM{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ku=JA(()=>new tM);function Li(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function rr(...e){const t=(i,s)=>a=>i(s(a));return{encode:Array.from(e).reverse().reduce((i,s)=>i?t(i,s.encode):s.encode,void 0),decode:e.reduce((i,s)=>i?t(i,s.decode):s.decode,void 0)}}function kr(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(Li(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if("string"!=typeof r)throw new Error(`alphabet.decode: not string element=${r}`);const o=e.indexOf(r);if(-1===o)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return o})}}}function Pr(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let r of t)if("string"!=typeof r)throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Pu(e,t="="){if(Li(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let o of r)if("string"!=typeof o)throw new Error(`padding.encode: non-string input=${o}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let i of r)if("string"!=typeof i)throw new Error(`padding.decode: non-string input=${i}`);let o=r.length;if(o*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;o>0&&r[o-1]===t;o--)if(!((o-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,o)}}}function nM(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function rM(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let o=0;const i=[],s=Array.from(e);for(s.forEach(a=>{if(Li(a),a<0||a>=t)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let u=o;u<s.length;u++){const l=s[u],d=t*a+l;if(!Number.isSafeInteger(d)||t*a/t!==a||d-l!=t*a)throw new Error("convertRadix: carry overflow");if(a=d%r,s[u]=Math.floor(d/r),!Number.isSafeInteger(s[u])||s[u]*r+a!==d)throw new Error("convertRadix: carry overflow");c&&(s[u]?c=!1:o=u)}if(i.push(a),c)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}JA(()=>new ez);const oM=(e,t)=>t?oM(t,e%t):e,ch=(e,t)=>e+(t-oM(e,t));function h0(e,t,r,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(ch(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${ch(t,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const u of e){if(Li(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(i=i<<t|u,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=t)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function oo(e,t=!1){if(Li(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ch(8,e)>32||ch(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h0(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h0(r,e,8,t))}}}function sM(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}rr(oo(4),kr("0123456789ABCDEF"),Pr("")),rr(oo(5),kr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Pu(5),Pr("")),rr(oo(5),kr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Pu(5),Pr("")),rr(oo(5),kr("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Pr(""),nM(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const io=rr(oo(6),kr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Pu(6),Pr("")),p0=(rr(oo(6),kr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Pu(6),Pr("")),e=>rr(function iM(e){return Li(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return rM(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(rM(t,e,256))}}}(58),kr(e),Pr(""))),g0=(p0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),p0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),p0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),rr(kr("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Pr(""))),uM=[996825010,642813549,513874426,1027748829,705979059];function Lu(e){const t=e>>25;let r=(33554431&e)<<5;for(let o=0;o<uM.length;o++)1==(t>>o&1)&&(r^=uM[o]);return r}function lM(e,t,r=1){const o=e.length;let i=1;for(let s=0;s<o;s++){const a=e.charCodeAt(s);if(a<33||a>126)throw new Error(`Invalid prefix (${e})`);i=Lu(i)^a>>5}i=Lu(i);for(let s=0;s<o;s++)i=Lu(i)^31&e.charCodeAt(s);for(let s of t)i=Lu(i)^s;for(let s=0;s<6;s++)i=Lu(i);return i^=r,g0.encode(h0([i%2**30],30,5,!1))}function dM(e){const t="bech32"===e?1:734539939,r=oo(5),o=r.decode,i=r.encode,s=sM(o);function c(d,f=90){if("string"!=typeof d)throw new Error("bech32.decode input should be string, not "+typeof d);if(d.length<8||!1!==f&&d.length>f)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${f})`);const h=d.toLowerCase();if(d!==h&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const p=(d=h).lastIndexOf("1");if(0===p||-1===p)throw new Error('Letter "1" must be present between prefix and data only');const g=d.slice(0,p),m=d.slice(p+1);if(m.length<6)throw new Error("Data must be at least 6 characters long");const y=g0.decode(m).slice(0,-6),v=lM(g,y,t);if(!m.endsWith(v))throw new Error(`Invalid checksum in ${d}: expected "${v}"`);return{prefix:g,words:y}}return{encode:function a(d,f,h=90){if("string"!=typeof d)throw new Error("bech32.encode prefix should be string, not "+typeof d);if(!Array.isArray(f)||f.length&&"number"!=typeof f[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof f);const p=d.length+7+f.length;if(!1!==h&&p>h)throw new TypeError(`Length ${p} exceeds limit ${h}`);return`${d=d.toLowerCase()}1${g0.encode(f)}${lM(d,f,t)}`},decode:c,decodeToBytes:function l(d){const{prefix:f,words:h}=c(d,!1);return{prefix:f,words:h,bytes:o(h)}},decodeUnsafe:sM(c),fromWords:o,fromWordsUnsafe:s,toWords:i}}const va=dM("bech32");function wa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function m0(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function hM(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function _e(e,...t){if(!hM(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Fi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dh(e,t){_e(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}dM("bech32m"),rr(oo(4),kr("0123456789abcdef"),Pr(""),nM(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const ve=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ba=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Vo(e){if("string"==typeof e)e=function hz(e){if("string"!=typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!hM(e))throw new Error("Uint8Array expected, got "+typeof e);e=e.slice()}return e}function fh(e,t){if(e.length!==t.length)return!1;let r=0;for(let o=0;o<e.length;o++)r|=e[o]^t[o];return 0===r}const Ho=(e,t)=>(Object.assign(t,e),t);function Bi(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)}const w0=new Uint8Array(16),Lr=ve(w0),mz=(e,t,r,o)=>({s3:r<<31|o>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^225<<24&-(1&o)}),Ln=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class gM{constructor(t,r){this.blockLen=16,this.outputLen=16,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,_e(t=Vo(t),16);const o=ba(t);let i=o.getUint32(0,!1),s=o.getUint32(4,!1),a=o.getUint32(8,!1),c=o.getUint32(12,!1);const u=[];for(let g=0;g<128;g++)u.push({s0:Ln(i),s1:Ln(s),s2:Ln(a),s3:Ln(c)}),({s0:i,s1:s,s2:a,s3:c}=mz(i,s,a,c));const l=(e=r||1024)>65536?8:e>1024?4:2;var e;if(![1,2,4,8].includes(l))throw new Error(`ghash: wrong window size=${l}, should be 2, 4 or 8`);this.W=l;const f=128/l,h=this.windowSize=2**l,p=[];for(let g=0;g<f;g++)for(let m=0;m<h;m++){let y=0,v=0,w=0,b=0;for(let _=0;_<l;_++){if(!(m>>>l-_-1&1))continue;const{s0:E,s1:S,s2:I,s3:R}=u[l*g+_];y^=E,v^=S,w^=I,b^=R}p.push({s0:y,s1:v,s2:w,s3:b})}this.t=p}_updateBlock(t,r,o,i){t^=this.s0,r^=this.s1,o^=this.s2,i^=this.s3;const{W:s,t:a,windowSize:c}=this;let u=0,l=0,d=0,f=0;const h=(1<<s)-1;let p=0;for(const g of[t,r,o,i])for(let m=0;m<4;m++){const y=g>>>8*m&255;for(let v=8/s-1;v>=0;v--){const w=y>>>s*v&h,{s0:b,s1:_,s2:D,s3:E}=a[p*c+w];u^=b,l^=_,d^=D,f^=E,p+=1}}this.s0=u,this.s1=l,this.s2=d,this.s3=f}update(t){t=Vo(t),Fi(this);const r=ve(t),o=Math.floor(t.length/16),i=t.length%16;for(let s=0;s<o;s++)this._updateBlock(r[4*s+0],r[4*s+1],r[4*s+2],r[4*s+3]);return i&&(w0.set(t.subarray(16*o)),this._updateBlock(Lr[0],Lr[1],Lr[2],Lr[3]),Lr.fill(0)),this}destroy(){const{t}=this;for(const r of t)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(t){Fi(this),dh(t,this),this.finished=!0;const{s0:r,s1:o,s2:i,s3:s}=this,a=ve(t);return a[0]=r,a[1]=o,a[2]=i,a[3]=s,t}digest(){const t=new Uint8Array(16);return this.digestInto(t),this.destroy(),t}}class wz extends gM{constructor(t,r){const o=function yz(e){e.reverse();const t=1&e[15];let r=0;for(let o=0;o<e.length;o++){const i=e[o];e[o]=i>>>1|r,r=(1&i)<<7}return e[0]^=225&-t,e}((t=Vo(t)).slice());super(o,r),o.fill(0)}update(t){t=Vo(t),Fi(this);const r=ve(t),o=t.length%16,i=Math.floor(t.length/16);for(let s=0;s<i;s++)this._updateBlock(Ln(r[4*s+3]),Ln(r[4*s+2]),Ln(r[4*s+1]),Ln(r[4*s+0]));return o&&(w0.set(t.subarray(16*i)),this._updateBlock(Ln(Lr[3]),Ln(Lr[2]),Ln(Lr[1]),Ln(Lr[0])),Lr.fill(0)),this}digestInto(t){Fi(this),dh(t,this),this.finished=!0;const{s0:r,s1:o,s2:i,s3:s}=this,a=ve(t);return a[0]=r,a[1]=o,a[2]=i,a[3]=s,t.reverse()}}function mM(e){const t=(o,i)=>e(i,o.length).update(Vo(o)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(o,i)=>e(o,i),t}mM((e,t)=>new gM(e,t)),mM((e,t)=>new wz(e,t)),new Uint8Array(16);const _z=283;function _0(e){return e<<1^_z&-(e>>7)}function _a(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(1&t),e=_0(e);return r}const E0=(()=>{let e=new Uint8Array(256);for(let r=0,o=1;r<256;r++,o^=_0(o))e[r]=o;const t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let o=e[255-r];o|=o<<8,t[e[r]]=255&(o^o>>4^o>>5^o>>6^o>>7^99)}return t})(),Ez=E0.map((e,t)=>E0.indexOf(t)),Dz=e=>e<<24|e>>>8,D0=e=>e<<8|e>>>24;function vM(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map((l,d)=>t(e[d])),o=r.map(D0),i=o.map(D0),s=i.map(D0),a=new Uint32Array(65536),c=new Uint32Array(65536),u=new Uint16Array(65536);for(let l=0;l<256;l++)for(let d=0;d<256;d++){const f=256*l+d;a[f]=r[l]^o[d],c[f]=i[l]^s[d],u[f]=e[l]<<8|e[d]}return{sbox:e,sbox2:u,T0:r,T1:o,T2:i,T3:s,T01:a,T23:c}}const C0=vM(E0,e=>_a(e,3)<<24|e<<16|e<<8|_a(e,2)),wM=vM(Ez,e=>_a(e,11)<<24|_a(e,13)<<16|_a(e,9)<<8|_a(e,14)),Cz=(()=>{const e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=_0(r))e[t]=r;return e})();function co(e){_e(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:r}=C0,o=ve(e),i=o.length,s=c=>Fr(r,c,c,c,c),a=new Uint32Array(t+28);a.set(o);for(let c=i;c<a.length;c++){let u=a[c-1];c%i==0?u=s(Dz(u))^Cz[c/i-1]:i>6&&c%i==4&&(u=s(u)),a[c]=a[c-i]^u}return a}function zo(e,t,r,o,i,s){return e[r<<8&65280|o>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Fr(e,t,r,o,i){return e[255&t|65280&r]|e[o>>>16&255|i>>>16&65280]<<16}function pn(e,t,r,o,i){const{sbox2:s,T01:a,T23:c}=C0;let u=0;t^=e[u++],r^=e[u++],o^=e[u++],i^=e[u++];const l=e.length/4-2;for(let g=0;g<l;g++){const m=e[u++]^zo(a,c,t,r,o,i),y=e[u++]^zo(a,c,r,o,i,t),v=e[u++]^zo(a,c,o,i,t,r),w=e[u++]^zo(a,c,i,t,r,o);t=m,r=y,o=v,i=w}return{s0:e[u++]^Fr(s,t,r,o,i),s1:e[u++]^Fr(s,r,o,i,t),s2:e[u++]^Fr(s,o,i,t,r),s3:e[u++]^Fr(s,i,t,r,o)}}function ph(e,t,r,o,i){const{sbox2:s,T01:a,T23:c}=wM;let u=0;t^=e[u++],r^=e[u++],o^=e[u++],i^=e[u++];const l=e.length/4-2;for(let g=0;g<l;g++){const m=e[u++]^zo(a,c,t,i,o,r),y=e[u++]^zo(a,c,r,t,i,o),v=e[u++]^zo(a,c,o,r,t,i),w=e[u++]^zo(a,c,i,o,r,t);t=m,r=y,o=v,i=w}return{s0:e[u++]^Fr(s,t,i,o,r),s1:e[u++]^Fr(s,r,t,i,o),s2:e[u++]^Fr(s,o,r,t,i),s3:e[u++]^Fr(s,i,o,r,t)}}function Ea(e,t){if(!t)return new Uint8Array(e);if(_e(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}const SM=Ho({blockSize:16,nonceLength:16},function(t,r,o={}){_e(t),_e(r,16);const i=!o.disablePadding;return{encrypt:(s,a)=>{const c=co(t),{b:u,o:l,out:d}=function EM(e,t,r){let o=e.length;const i=o%16;if(!t&&0!==i)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const s=ve(e);if(t){let u=16-i;u||(u=16),o+=u}const a=Ea(o,r);return{b:s,o:ve(a),out:a}}(s,i,a),f=ve(r);let h=f[0],p=f[1],g=f[2],m=f[3],y=0;for(;y+4<=u.length;)h^=u[y+0],p^=u[y+1],g^=u[y+2],m^=u[y+3],({s0:h,s1:p,s2:g,s3:m}=pn(c,h,p,g,m)),l[y++]=h,l[y++]=p,l[y++]=g,l[y++]=m;if(i){const v=function CM(e){const t=new Uint8Array(16),r=ve(t);t.set(e);const o=16-e.length;for(let i=16-o;i<16;i++)t[i]=o;return r}(s.subarray(4*y));h^=v[0],p^=v[1],g^=v[2],m^=v[3],({s0:h,s1:p,s2:g,s3:m}=pn(c,h,p,g,m)),l[y++]=h,l[y++]=p,l[y++]=g,l[y++]=m}return c.fill(0),d},decrypt:(s,a)=>{!function _M(e){if(_e(e),e.length%16!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}(s);const c=function S0(e){const t=co(e),r=t.slice(),o=t.length,{sbox2:i}=C0,{T0:s,T1:a,T2:c,T3:u}=wM;for(let l=0;l<o;l+=4)for(let d=0;d<4;d++)r[l+d]=t[o-l-4+d];t.fill(0);for(let l=4;l<o-4;l++){const d=r[l],f=Fr(i,d,d,d,d);r[l]=s[255&f]^a[f>>>8&255]^c[f>>>16&255]^u[f>>>24]}return r}(t),u=ve(r),l=Ea(s.length,a),d=ve(s),f=ve(l);let h=u[0],p=u[1],g=u[2],m=u[3];for(let y=0;y+4<=d.length;){const v=h,w=p,b=g,_=m;h=d[y+0],p=d[y+1],g=d[y+2],m=d[y+3];const{s0:D,s1:E,s2:S,s3:I}=ph(c,h,p,g,m);f[y++]=D^v,f[y++]=E^w,f[y++]=S^b,f[y++]=I^_}return c.fill(0),function DM(e,t){if(!t)return e;const r=e.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");const o=e[r-1];if(o<=0||o>16)throw new Error(`aes/pcks5: wrong padding byte: ${o}`);const i=e.subarray(0,-o);for(let s=0;s<o;s++)if(e[r-s-1]!==o)throw new Error("aes/pcks5: wrong padding");return i}(l,i)}}}),Mt=(e,t)=>255&e[t++]|(255&e[t++])<<8;class xz{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,_e(t=Vo(t),32);const r=Mt(t,0),o=Mt(t,2),i=Mt(t,4),s=Mt(t,6),a=Mt(t,8),c=Mt(t,10),u=Mt(t,12),l=Mt(t,14);this.r[0]=8191&r,this.r[1]=8191&(r>>>13|o<<3),this.r[2]=7939&(o>>>10|i<<6),this.r[3]=8191&(i>>>7|s<<9),this.r[4]=255&(s>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|c<<2),this.r[7]=8065&(c>>>11|u<<5),this.r[8]=8191&(u>>>8|l<<8),this.r[9]=l>>>5&127;for(let d=0;d<8;d++)this.pad[d]=Mt(t,16+2*d)}process(t,r,o=!1){const i=o?0:2048,{h:s,r:a}=this,c=a[0],u=a[1],l=a[2],d=a[3],f=a[4],h=a[5],p=a[6],g=a[7],m=a[8],y=a[9],v=Mt(t,r+0),w=Mt(t,r+2),b=Mt(t,r+4),_=Mt(t,r+6),D=Mt(t,r+8),E=Mt(t,r+10),S=Mt(t,r+12),I=Mt(t,r+14);let R=s[0]+(8191&v),$=s[1]+(8191&(v>>>13|w<<3)),F=s[2]+(8191&(w>>>10|b<<6)),H=s[3]+(8191&(b>>>7|_<<9)),Q=s[4]+(8191&(_>>>4|D<<12)),A=s[5]+(D>>>1&8191),C=s[6]+(8191&(D>>>14|E<<2)),x=s[7]+(8191&(E>>>11|S<<5)),M=s[8]+(8191&(S>>>8|I<<8)),B=s[9]+(I>>>5|i),N=0,J=N+R*c+$*(5*y)+F*(5*m)+H*(5*g)+Q*(5*p);N=J>>>13,J&=8191,J+=A*(5*h)+C*(5*f)+x*(5*d)+M*(5*l)+B*(5*u),N+=J>>>13,J&=8191;let ee=N+R*u+$*c+F*(5*y)+H*(5*m)+Q*(5*g);N=ee>>>13,ee&=8191,ee+=A*(5*p)+C*(5*h)+x*(5*f)+M*(5*d)+B*(5*l),N+=ee>>>13,ee&=8191;let ce=N+R*l+$*u+F*c+H*(5*y)+Q*(5*m);N=ce>>>13,ce&=8191,ce+=A*(5*g)+C*(5*p)+x*(5*h)+M*(5*f)+B*(5*d),N+=ce>>>13,ce&=8191;let Ae=N+R*d+$*l+F*u+H*c+Q*(5*y);N=Ae>>>13,Ae&=8191,Ae+=A*(5*m)+C*(5*g)+x*(5*p)+M*(5*h)+B*(5*f),N+=Ae>>>13,Ae&=8191;let Ke=N+R*f+$*d+F*l+H*u+Q*c;N=Ke>>>13,Ke&=8191,Ke+=A*(5*y)+C*(5*m)+x*(5*g)+M*(5*p)+B*(5*h),N+=Ke>>>13,Ke&=8191;let _t=N+R*h+$*f+F*d+H*l+Q*u;N=_t>>>13,_t&=8191,_t+=A*c+C*(5*y)+x*(5*m)+M*(5*g)+B*(5*p),N+=_t>>>13,_t&=8191;let ot=N+R*p+$*h+F*f+H*d+Q*l;N=ot>>>13,ot&=8191,ot+=A*u+C*c+x*(5*y)+M*(5*m)+B*(5*g),N+=ot>>>13,ot&=8191;let Et=N+R*g+$*p+F*h+H*f+Q*d;N=Et>>>13,Et&=8191,Et+=A*l+C*u+x*c+M*(5*y)+B*(5*m),N+=Et>>>13,Et&=8191;let St=N+R*m+$*g+F*p+H*h+Q*f;N=St>>>13,St&=8191,St+=A*d+C*l+x*u+M*c+B*(5*y),N+=St>>>13,St&=8191;let it=N+R*y+$*m+F*g+H*p+Q*h;N=it>>>13,it&=8191,it+=A*f+C*d+x*l+M*u+B*c,N+=it>>>13,it&=8191,N=(N<<2)+N|0,N=N+J|0,J=8191&N,N>>>=13,ee+=N,s[0]=J,s[1]=ee,s[2]=ce,s[3]=Ae,s[4]=Ke,s[5]=_t,s[6]=ot,s[7]=Et,s[8]=St,s[9]=it}finalize(){const{h:t,pad:r}=this,o=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=i,i=t[c]>>>13,t[c]&=8191;t[0]+=5*i,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,o[0]=t[0]+5,i=o[0]>>>13,o[0]&=8191;for(let c=1;c<10;c++)o[c]=t[c]+i,i=o[c]>>>13,o[c]&=8191;o[9]-=8192;let s=(1^i)-1;for(let c=0;c<10;c++)o[c]&=s;s=~s;for(let c=0;c<10;c++)t[c]=t[c]&s|o[c];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let a=t[0]+r[0];t[0]=65535&a;for(let c=1;c<8;c++)a=(t[c]+r[c]|0)+(a>>>16)|0,t[c]=65535&a}update(t){Fi(this);const{buffer:r,blockLen:o}=this,i=(t=Vo(t)).length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a!==o)r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0,!1),this.pos=0);else for(;o<=i-s;s+=o)this.process(t,s)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Fi(this),dh(t,this),this.finished=!0;const{buffer:r,h:o}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)t[s++]=o[a]>>>0,t[s++]=o[a]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}}const Az=function Tz(e){const t=(o,i)=>e(i).update(Vo(o)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=o=>e(o),t}(e=>new xz(e)),TM=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Mz=TM("expand 16-byte k"),Nz=TM("expand 32-byte k"),Rz=ve(Mz),AM=ve(Nz);function q(e,t){return e<<t|e>>>32-t}function I0(e){return e.byteOffset%4==0}AM.slice();const MM=2**32-1,NM=new Uint32Array;function Fu(e,t){const{allowShortKeys:r,extendNonceFn:o,counterLength:i,counterRight:s,rounds:a}=function pz(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return wa(i),wa(a),m0(s),m0(r),(c,u,l,d,f=0)=>{_e(c),_e(u),_e(l);const h=l.length;if(d||(d=new Uint8Array(h)),_e(d),wa(f),f<0||f>=MM)throw new Error("arx: counter overflow");if(d.length<h)throw new Error(`arx: output (${d.length}) is shorter than data (${h})`);const p=[];let m,y,g=c.length;if(32===g)m=c.slice(),p.push(m),y=AM;else{if(16!==g||!r)throw new Error(`arx: invalid 32-byte key, got length=${g}`);m=new Uint8Array(32),m.set(c),m.set(c,16),y=Rz,p.push(m)}I0(u)||(u=u.slice(),p.push(u));const v=ve(m);if(o){if(24!==u.length)throw new Error("arx: extended nonce must be 24 bytes");o(y,v,ve(u.subarray(0,16)),v),u=u.subarray(16)}const w=16-i;if(w!==u.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(12!==w){const _=new Uint8Array(12);_.set(u,s?0:12-u.length),p.push(u=_)}const b=ve(u);for(function kz(e,t,r,o,i,s,a,c){const u=i.length,l=new Uint8Array(64),d=ve(l),f=I0(i)&&I0(s),h=f?ve(i):NM,p=f?ve(s):NM;for(let g=0;g<u;a++){if(e(t,r,o,d,a,c),a>=MM)throw new Error("arx: counter overflow");const m=Math.min(64,u-g);if(f&&64===m){const y=g/4;if(g%4!=0)throw new Error("arx: invalid block position");for(let w,v=0;v<16;v++)w=y+v,p[w]=h[w]^d[v];g+=64}else{for(let v,y=0;y<m;y++)v=g+y,s[v]=i[v]^l[y];g+=m}}}(e,y,v,b,l,d,f,a);p.length>0;)p.pop().fill(0);return d}}function Bu(e,t,r,o,i,s=20){let a=e[0],c=e[1],u=e[2],l=e[3],d=t[0],f=t[1],h=t[2],p=t[3],g=t[4],m=t[5],y=t[6],v=t[7],w=i,b=r[0],_=r[1],D=r[2],E=a,S=c,I=u,R=l,$=d,F=f,H=h,Q=p,A=g,C=m,x=y,M=v,B=w,N=b,J=_,ee=D;for(let Ae=0;Ae<s;Ae+=2)E=E+$|0,B=q(B^E,16),A=A+B|0,$=q($^A,12),E=E+$|0,B=q(B^E,8),A=A+B|0,$=q($^A,7),S=S+F|0,N=q(N^S,16),C=C+N|0,F=q(F^C,12),S=S+F|0,N=q(N^S,8),C=C+N|0,F=q(F^C,7),I=I+H|0,J=q(J^I,16),x=x+J|0,H=q(H^x,12),I=I+H|0,J=q(J^I,8),x=x+J|0,H=q(H^x,7),R=R+Q|0,ee=q(ee^R,16),M=M+ee|0,Q=q(Q^M,12),R=R+Q|0,ee=q(ee^R,8),M=M+ee|0,Q=q(Q^M,7),E=E+F|0,ee=q(ee^E,16),x=x+ee|0,F=q(F^x,12),E=E+F|0,ee=q(ee^E,8),x=x+ee|0,F=q(F^x,7),S=S+H|0,B=q(B^S,16),M=M+B|0,H=q(H^M,12),S=S+H|0,B=q(B^S,8),M=M+B|0,H=q(H^M,7),I=I+Q|0,N=q(N^I,16),A=A+N|0,Q=q(Q^A,12),I=I+Q|0,N=q(N^I,8),A=A+N|0,Q=q(Q^A,7),R=R+$|0,J=q(J^R,16),C=C+J|0,$=q($^C,12),R=R+$|0,J=q(J^R,8),C=C+J|0,$=q($^C,7);let ce=0;o[ce++]=a+E|0,o[ce++]=c+S|0,o[ce++]=u+I|0,o[ce++]=l+R|0,o[ce++]=d+$|0,o[ce++]=f+F|0,o[ce++]=h+H|0,o[ce++]=p+Q|0,o[ce++]=g+A|0,o[ce++]=m+C|0,o[ce++]=y+x|0,o[ce++]=v+M|0,o[ce++]=w+B|0,o[ce++]=b+N|0,o[ce++]=_+J|0,o[ce++]=D+ee|0}const x0=Fu(Bu,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Lz=Fu(Bu,{counterRight:!1,counterLength:8,extendNonceFn:function Pz(e,t,r,o){let i=e[0],s=e[1],a=e[2],c=e[3],u=t[0],l=t[1],d=t[2],f=t[3],h=t[4],p=t[5],g=t[6],m=t[7],y=r[0],v=r[1],w=r[2],b=r[3];for(let D=0;D<20;D+=2)i=i+u|0,y=q(y^i,16),h=h+y|0,u=q(u^h,12),i=i+u|0,y=q(y^i,8),h=h+y|0,u=q(u^h,7),s=s+l|0,v=q(v^s,16),p=p+v|0,l=q(l^p,12),s=s+l|0,v=q(v^s,8),p=p+v|0,l=q(l^p,7),a=a+d|0,w=q(w^a,16),g=g+w|0,d=q(d^g,12),a=a+d|0,w=q(w^a,8),g=g+w|0,d=q(d^g,7),c=c+f|0,b=q(b^c,16),m=m+b|0,f=q(f^m,12),c=c+f|0,b=q(b^c,8),m=m+b|0,f=q(f^m,7),i=i+l|0,b=q(b^i,16),g=g+b|0,l=q(l^g,12),i=i+l|0,b=q(b^i,8),g=g+b|0,l=q(l^g,7),s=s+d|0,y=q(y^s,16),m=m+y|0,d=q(d^m,12),s=s+d|0,y=q(y^s,8),m=m+y|0,d=q(d^m,7),a=a+f|0,v=q(v^a,16),h=h+v|0,f=q(f^h,12),a=a+f|0,v=q(v^a,8),h=h+v|0,f=q(f^h,7),c=c+u|0,w=q(w^c,16),p=p+w|0,u=q(u^p,12),c=c+u|0,w=q(w^c,8),p=p+w|0,u=q(u^p,7);let _=0;o[_++]=i,o[_++]=s,o[_++]=a,o[_++]=c,o[_++]=y,o[_++]=v,o[_++]=w,o[_++]=b},allowShortKeys:!1}),Fz=new Uint8Array(16),RM=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(Fz.subarray(r))},Bz=new Uint8Array(32);function OM(e,t,r,o,i){const s=e(t,r,Bz),a=Az.create(s);i&&RM(a,i),RM(a,o);const c=new Uint8Array(16),u=ba(c);Bi(u,0,BigInt(i?i.length:0),!0),Bi(u,8,BigInt(o.length),!0),a.update(c);const l=a.digest();return s.fill(0),l}const kM=e=>(t,r,o)=>(_e(t,32),_e(r),{encrypt:(s,a)=>{const c=s.length,u=c+16;a?_e(a,u):a=new Uint8Array(u),e(t,r,s,a,1);const l=OM(e,t,r,a.subarray(0,-16),o);return a.set(l,c),a},decrypt:(s,a)=>{const c=s.length,u=c-16;if(c<16)throw new Error("encrypted data must be at least 16 bytes");a?_e(a,u):a=new Uint8Array(u);const l=s.subarray(0,-16);if(!fh(s.subarray(-16),OM(e,t,r,l,o)))throw new Error("invalid tag");return e(t,r,l,a,1),a}});kM(x0),kM(Lz);class PM extends QA{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Or.hash(t);const o=Pi(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?t.create().update(o).digest():o);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return Or.exists(this),this.iHash.update(t),this}digestInto(t){Or.exists(this),Or.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:o,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return t.finished=i,t.destroyed=s,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=o._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yh=(e,t,r)=>new PM(e,t).update(r).digest();yh.create=(e,t)=>new PM(e,t);const T0=new Uint8Array([0]),FM=new Uint8Array;var Uz=Object.defineProperty,rt=(e,t)=>{for(var r in t)Uz(e,r,{get:t[r],enumerable:!0})},Ui=Symbol("verified"),jz=e=>e instanceof Object;function UM(e){if(!jz(e)||"number"!=typeof e.kind||"string"!=typeof e.content||"number"!=typeof e.created_at||"string"!=typeof e.pubkey||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let r=e.tags[t];if(!Array.isArray(r))return!1;for(let o=0;o<r.length;o++)if("object"==typeof r[o])return!1}return!0}rt({},{Queue:()=>$M,QueueNode:()=>jM,binarySearch:()=>A0,insertEventIntoAscendingList:()=>Hz,insertEventIntoDescendingList:()=>Vz,normalizeURL:()=>Ca,utf8Decoder:()=>Br,utf8Encoder:()=>or});var Br=new TextDecoder("utf-8"),or=new TextEncoder;function Ca(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Vz(e,t){const[r,o]=A0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return o||e.splice(r,0,t),e}function Hz(e,t){const[r,o]=A0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return o||e.splice(r,0,t),e}function A0(e,t){let r=0,o=e.length-1;for(;r<=o;){const i=Math.floor((r+o)/2),s=t(e[i]);if(0===s)return[i,!0];s<0?o=i-1:r=i+1}return[r,!1]}var jM=class{value;next=null;prev=null;constructor(e){this.value=e}},$M=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){const t=new jM(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}};function vh(e){let t=ku(or.encode(function qz(e){if(!UM(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e)));return hn(t)}var wh=new class{generateSecretKey(){return Ou.utils.randomPrivateKey()}getPublicKey(e){return hn(Ou.getPublicKey(e))}finalizeEvent(e,t){const r=e;return r.pubkey=hn(Ou.getPublicKey(t)),r.id=vh(r),r.sig=hn(Ou.sign(vh(r),t)),r[Ui]=!0,r}verifyEvent(e){if("boolean"==typeof e[Ui])return e[Ui];const t=vh(e);if(t!==e.id)return e[Ui]=!1,!1;try{const r=Ou.verify(e.sig,t,e.pubkey);return e[Ui]=r,r}catch{return e[Ui]=!1,!1}}},Gz=wh.generateSecretKey,VM=wh.getPublicKey,Fn=wh.finalizeEvent,Sa=wh.verifyEvent,Vt={};function HM(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function M0(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function zM(e){return 2e4<=e&&e<3e4}function N0(e){return 3e4<=e&&e<4e4}function Wz(e){return HM(e)?"regular":M0(e)?"replaceable":zM(e)?"ephemeral":N0(e)?"parameterized":"unknown"}rt(Vt,{Application:()=>Gq,BadgeAward:()=>tq,BadgeDefinition:()=>Uq,BlockedRelaysList:()=>Cq,BookmarkList:()=>_q,Bookmarksets:()=>Lq,Calendar:()=>Xq,CalendarEventRSVP:()=>eG,ChannelCreation:()=>qM,ChannelHideMessage:()=>ZM,ChannelMessage:()=>WM,ChannelMetadata:()=>GM,ChannelMuteUser:()=>KM,ClassifiedListing:()=>Kq,ClientAuth:()=>YM,CommunitiesList:()=>Eq,CommunityDefinition:()=>rG,CommunityPostApproval:()=>lq,Contacts:()=>Qz,CreateOrUpdateProduct:()=>Vq,CreateOrUpdateStall:()=>$q,Curationsets:()=>Fq,Date:()=>Qq,DraftClassifiedListing:()=>Yq,DraftLong:()=>zq,Emojisets:()=>qq,EncryptedDirectMessage:()=>Jz,EncryptedDirectMessages:()=>Xz,EventDeletion:()=>eq,FileMetadata:()=>oq,FileServerPreference:()=>Tq,Followsets:()=>Oq,GenericRepost:()=>nq,Genericlists:()=>kq,HTTPAuth:()=>k0,Handlerinformation:()=>nG,Handlerrecommendation:()=>tG,Highlights:()=>yq,InterestsList:()=>Iq,Interestsets:()=>jq,JobFeedback:()=>hq,JobRequest:()=>dq,JobResult:()=>fq,Label:()=>uq,LightningPubRPC:()=>Mq,LiveChatMessage:()=>iq,LiveEvent:()=>Wq,LongFormArticle:()=>Hq,Metadata:()=>Zz,Mutelist:()=>vq,NWCWalletInfo:()=>Aq,NWCWalletRequest:()=>QM,NWCWalletResponse:()=>Nq,NostrConnect:()=>Rq,OpenTimestamps:()=>rq,Pinlist:()=>wq,ProblemTracker:()=>sq,ProfileBadges:()=>Bq,PublicChatsList:()=>Dq,Reaction:()=>O0,RecommendRelay:()=>Yz,RelayList:()=>bq,Relaysets:()=>Pq,Report:()=>aq,Reporting:()=>cq,Repost:()=>R0,SearchRelaysList:()=>Sq,ShortTextNote:()=>Kz,Time:()=>Jq,UserEmojiList:()=>xq,UserStatuses:()=>Zq,Zap:()=>mq,ZapGoal:()=>pq,ZapRequest:()=>gq,classifyKind:()=>Wz,isEphemeralKind:()=>zM,isParameterizedReplaceableKind:()=>N0,isRegularKind:()=>HM,isReplaceableKind:()=>M0});var Zz=0,Kz=1,Yz=2,Qz=3,Jz=4,Xz=4,eq=5,R0=6,O0=7,tq=8,nq=16,qM=40,GM=41,WM=42,ZM=43,KM=44,rq=1040,oq=1063,iq=1311,sq=1971,aq=1984,cq=1984,uq=1985,lq=4550,dq=5999,fq=6999,hq=7e3,pq=9041,gq=9734,mq=9735,yq=9802,vq=1e4,wq=10001,bq=10002,_q=10003,Eq=10004,Dq=10005,Cq=10006,Sq=10007,Iq=10015,xq=10030,Tq=10096,Aq=13194,Mq=21e3,YM=22242,QM=23194,Nq=23195,Rq=24133,k0=27235,Oq=3e4,kq=30001,Pq=30002,Lq=30003,Fq=30004,Bq=30008,Uq=30009,jq=30015,$q=30017,Vq=30018,Hq=30023,zq=30024,qq=30030,Gq=30078,Wq=30311,Zq=30315,Kq=30402,Yq=30403,Qq=31922,Jq=31923,Xq=31924,eG=31925,tG=31989,nG=31990,rG=34550;function oG(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)||e.kinds&&-1===e.kinds.indexOf(t.kind)||e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let r in e)if("#"===r[0]){let i=e[`#${r.slice(1)}`];if(i&&!t.tags.find(([s,a])=>s===r.slice(1)&&-1!==i.indexOf(a)))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function bh(e,t){for(let r=0;r<e.length;r++)if(oG(e[r],t))return!0;return!1}function JM(e){if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[t,r]of Object.entries(e))if("#"===t[0]&&Array.isArray(r)&&!r.length)return 0;return Math.min(Math.max(0,e.limit??1/0),e.ids?.length??1/0,e.authors?.length&&e.kinds?.every(t=>M0(t))?e.authors.length*e.kinds.length:1/0,e.authors?.length&&e.kinds?.every(t=>N0(t))&&e["#d"]?.length?e.authors.length*e.kinds.length*e["#d"].length:1/0)}function _h(e,t){let r=t.length+3,o=e.indexOf(`"${t}":`)+r,i=e.slice(o).indexOf('"')+o+1;return e.slice(i,i+64)}function XM(e,t){let r=t.length,o=e.indexOf(`"${t}":`)+r+3,i=e.slice(o),s=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,s),10)}function eN(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let r=e.slice(t+7+1).indexOf('"');if(-1===r)return null;let o=t+7+1+r,i=e.slice(o+1,80).indexOf('"');return-1===i?null:e.slice(o+1,o+1+i)}function sG(e,t){return t===_h(e,"id")}function aG(e,t){return t===_h(e,"pubkey")}function cG(e,t){return t===XM(e,"kind")}function tN(e,t){return{kind:YM,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}rt({},{getHex64:()=>_h,getInt:()=>XM,getSubscriptionId:()=>eN,matchEventId:()=>sG,matchEventKind:()=>cG,matchEventPubkey:()=>aG}),rt({},{makeAuthEvent:()=>tN});try{WebSocket}catch{}try{WebSocket}catch{}var Uu={};rt(Uu,{BECH32_REGEX:()=>oN,Bech32MaxSize:()=>F0,decode:()=>ju,encodeBytes:()=>Dh,naddrEncode:()=>_G,neventEncode:()=>bG,noteEncode:()=>vG,nprofileEncode:()=>wG,npubEncode:()=>yG,nrelayEncode:()=>EG,nsecEncode:()=>mG});var F0=5e3,oN=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function ju(e){let{prefix:t,words:r}=va.decode(e,F0),o=new Uint8Array(va.fromWords(r));switch(t){case"nprofile":{let i=Eh(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==i[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:hn(i[0][0]),relays:i[1]?i[1].map(s=>Br.decode(s)):[]}}}case"nevent":{let i=Eh(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==i[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(i[2]&&32!==i[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(i[3]&&4!==i[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:hn(i[0][0]),relays:i[1]?i[1].map(s=>Br.decode(s)):[],author:i[2]?.[0]?hn(i[2][0]):void 0,kind:i[3]?.[0]?parseInt(hn(i[3][0]),16):void 0}}}case"naddr":{let i=Eh(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!i[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==i[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!i[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==i[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Br.decode(i[0][0]),pubkey:hn(i[2][0]),kind:parseInt(hn(i[3][0]),16),relays:i[1]?i[1].map(s=>Br.decode(s)):[]}}}case"nrelay":{let i=Eh(o);if(!i[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Br.decode(i[0][0])}}case"nsec":return{type:t,data:o};case"npub":case"note":return{type:t,data:hn(o)};default:throw new Error(`unknown prefix ${t}`)}}function Eh(e){let t={},r=e;for(;r.length>0;){let o=r[0],i=r[1],s=r.slice(2,2+i);if(r=r.slice(2+i),s.length<i)throw new Error(`not enough data to read on TLV ${o}`);t[o]=t[o]||[],t[o].push(s)}return t}function mG(e){return Dh("nsec",e)}function yG(e){return Dh("npub",ya(e))}function vG(e){return Dh("note",ya(e))}function $u(e,t){let r=va.toWords(t);return va.encode(e,r,F0)}function Dh(e,t){return $u(e,t)}function wG(e){return $u("nprofile",Ch({0:[ya(e.pubkey)],1:(e.relays||[]).map(r=>or.encode(r))}))}function bG(e){let t;return void 0!==e.kind&&(t=function gG(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),$u("nevent",Ch({0:[ya(e.id)],1:(e.relays||[]).map(o=>or.encode(o)),2:e.author?[ya(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function _G(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),$u("naddr",Ch({0:[or.encode(e.identifier)],1:(e.relays||[]).map(o=>or.encode(o)),2:[ya(e.pubkey)],3:[new Uint8Array(t)]}))}function EG(e){return $u("nrelay",Ch({0:[or.encode(e)]}))}function Ch(e){let t=[];return Object.entries(e).reverse().forEach(([r,o])=>{o.forEach(i=>{let s=new Uint8Array(i.length+2);s.set([parseInt(r)],0),s.set([i.length],1),s.set(i,2),t.push(s)})}),ah(...t)}var Vu={};function iN(e,t,r){return B0.apply(this,arguments)}function B0(){return(B0=U(function*(e,t,r){const o=e instanceof Uint8Array?hn(e):e,s=sN(ma.getSharedSecret(o,"02"+t));let a=Uint8Array.from(XA(16)),c=or.encode(r),u=SM(s,a).encrypt(c);return`${io.encode(new Uint8Array(u))}?iv=${io.encode(new Uint8Array(a.buffer))}`})).apply(this,arguments)}function CG(e,t,r){return U0.apply(this,arguments)}function U0(){return(U0=U(function*(e,t,r){const o=e instanceof Uint8Array?hn(e):e;let[i,s]=r.split("?iv="),c=sN(ma.getSharedSecret(o,"02"+t)),u=io.decode(s),l=io.decode(i),d=SM(c,u).decrypt(l);return Br.decode(d)})).apply(this,arguments)}function sN(e){return e.slice(1,33)}rt(Vu,{decrypt:()=>CG,encrypt:()=>iN}),rt({},{NIP05_REGEX:()=>aN,isValid:()=>TG,queryProfile:()=>cN,searchDomain:()=>xG,useFetchImplementation:()=>IG});var Sh,aN=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/;try{Sh=fetch}catch{}function IG(e){Sh=e}function xG(e){return j0.apply(this,arguments)}function j0(){return(j0=U(function*(e,t=""){try{const r=`https://${e}/.well-known/nostr.json?name=${t}`;return(yield(yield Sh(r,{redirect:"error"})).json()).names}catch{return{}}})).apply(this,arguments)}function cN(e){return $0.apply(this,arguments)}function $0(){return($0=U(function*(e){const t=e.match(aN);if(!t)return null;const[r,o="_",i]=t;try{const s=`https://${i}/.well-known/nostr.json?name=${o}`,a=yield(yield Sh(s,{redirect:"error"})).json();let c=a.names[o];return c?{pubkey:c,relays:a.relays?.[c]}:null}catch{return null}})).apply(this,arguments)}function TG(e,t){return V0.apply(this,arguments)}function V0(){return(V0=U(function*(e,t){let r=yield cN(t);return!!r&&r.pubkey===e})).apply(this,arguments)}function MG(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},r=[];for(const o of e.tags)"e"===o[0]&&o[1]&&r.push(o),"p"===o[0]&&o[1]&&t.profiles.push({pubkey:o[1],relays:o[2]?[o[2]]:[]});for(let o=0;o<r.length;o++){const i=r[o],[s,a,c,u]=i,l={id:a,relays:c?[c]:[]},f=o===r.length-1;"root"!==u?"reply"!==u?"mention"!==u?0===o?t.root=l:f?t.reply=l:t.mentions.push(l):t.mentions.push(l):t.reply=l:t.root=l}return t}rt({},{parse:()=>MG}),rt({},{fetchRelayInformation:()=>OG,useFetchImplementation:()=>RG});try{fetch}catch{}function RG(e){}function OG(e){return H0.apply(this,arguments)}function H0(){return(H0=U(function*(e){return yield(yield fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()})).apply(this,arguments)}function lN(e){let t=0;for(let r=0;r<e.length;r++){const o=parseInt(e[r],16);if(0!==o){t+=Math.clz32(o)-28;break}t+=4}return t}function PG(e,t){let r=0;const o=e,i=["nonce",r.toString(),t.toString()];for(o.tags.push(i);;){const s=Math.floor((new Date).getTime()/1e3);if(s!==o.created_at&&(r=0,o.created_at=s),i[1]=(++r).toString(),o.id=vh(o),lN(o.id)>=t)break}return o}function FG(e,t,r,o){return Fn({kind:R0,tags:[...e.tags??[],["e",t.id,r],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},o)}function dN(e){if(e.kind!==R0)return;let t,r;for(let o=e.tags.length-1;o>=0&&(void 0===t||void 0===r);o--){const i=e.tags[o];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}return void 0!==t?{id:t[1],relays:[t[2],r?.[2]].filter(o=>"string"==typeof o),author:r?.[1]}:void 0}function BG(e,{skipVerification:t}={}){const r=dN(e);if(void 0===r||""===e.content)return;let o;try{o=JSON.parse(e.content)}catch{return}return o.id===r.id&&(t||Sa(o))?o:void 0}rt({},{getPow:()=>lN,minePow:()=>PG}),rt({},{finishRepostEvent:()=>FG,getRepostedEvent:()=>BG,getRepostedEventPointer:()=>dN}),rt({},{NOSTR_URI_REGEX:()=>Ih,parse:()=>$G,test:()=>jG});var Ih=new RegExp(`nostr:(${oN.source})`);function jG(e){return"string"==typeof e&&new RegExp(`^${Ih.source}$`).test(e)}function $G(e){const t=e.match(new RegExp(`^${Ih.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:ju(t[1])}}function HG(e,t,r){const o=t.tags.filter(i=>i.length>=2&&("e"===i[0]||"p"===i[0]));return Fn({...e,kind:O0,tags:[...e.tags??[],...o,["e",t.id],["p",t.pubkey]],content:e.content??"+"},r)}function zG(e){if(e.kind!==O0)return;let t,r;for(let o=e.tags.length-1;o>=0&&(void 0===t||void 0===r);o--){const i=e.tags[o];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}return void 0!==t&&void 0!==r?{id:t[1],relays:[t[2],r[2]].filter(o=>void 0!==o),author:r[1]}:void 0}rt({},{finishReactionEvent:()=>HG,getReactedEventPointer:()=>zG}),rt({},{matchAll:()=>GG,regex:()=>z0,replaceAll:()=>WG});var z0=()=>new RegExp(`\\b${Ih.source}\\b`,"g");function*GG(e){const t=e.matchAll(z0());for(const r of t)try{const[o,i]=r;yield{uri:o,value:i,decoded:ju(i),start:r.index,end:r.index+o.length}}catch{}}function WG(e,t){return e.replaceAll(z0(),(r,o)=>t({uri:r,value:o,decoded:ju(o)}))}rt({},{channelCreateEvent:()=>KG,channelHideMessageEvent:()=>JG,channelMessageEvent:()=>QG,channelMetadataEvent:()=>YG,channelMuteUserEvent:()=>XG});var KG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Fn({kind:qM,tags:[...e.tags??[]],content:r,created_at:e.created_at},t)},YG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Fn({kind:GM,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},QG=(e,t)=>{const r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Fn({kind:WM,tags:[...r,...e.tags??[]],content:e.content,created_at:e.created_at},t)},JG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Fn({kind:ZM,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},XG=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Fn({kind:KM,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:r,created_at:e.created_at},t)};rt({},{EMOJI_SHORTCODE_REGEX:()=>fN,matchAll:()=>tW,regex:()=>q0,replaceAll:()=>nW});var G0,fN=/:(\w+):/,q0=()=>new RegExp(`\\B${fN.source}\\B`,"g");function*tW(e){const t=e.matchAll(q0());for(const r of t)try{const[o,i]=r;yield{shortcode:o,name:i,start:r.index,end:r.index+o.length}}catch{}}function nW(e,t){return e.replaceAll(q0(),(r,o)=>t({shortcode:r,name:o}))}rt({},{useFetchImplementation:()=>oW,validateGithub:()=>iW});try{G0=fetch}catch{}function oW(e){G0=e}function iW(e,t,r){return W0.apply(this,arguments)}function W0(){return(W0=U(function*(e,t,r){try{return(yield(yield G0(`https://gist.github.com/${t}/${r}/raw`)).text())===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}})).apply(this,arguments)}rt({},{decrypt:()=>wN,encrypt:()=>vN,getConversationKey:()=>gN,v2:()=>lW});var hN=1,pN=65535;function gN(e,t){const r=ma.getSharedSecret(e,"02"+t).subarray(1,33);return function LM(e,t,r){return Or.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),yh(e,Pi(r),Pi(t))}(ku,r,"nip44-v2")}function mN(e,t){const r=function BM(e,t,r,o=32){if(Or.hash(e),Or.number(o),o>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(o/e.outputLen);void 0===r&&(r=FM);const s=new Uint8Array(i*e.outputLen),a=yh.create(e,t),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let l=0;l<i;l++)T0[0]=l+1,c.update(0===l?FM:u).update(r).update(T0).digestInto(u),s.set(u,e.outputLen*l),a._cloneInto(c);return a.destroy(),c.destroy(),u.fill(0),T0.fill(0),s.slice(0,o)}(ku,e,t,76);return{chacha_key:r.subarray(0,32),chacha_nonce:r.subarray(32,44),hmac_key:r.subarray(44,76)}}function Z0(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,r=t<=256?32:t/8;return r*(Math.floor((e-1)/r)+1)}function yN(e,t,r){if(32!==r.length)throw new Error("AAD associated data must be 32 bytes");const o=ah(r,t);return yh(ku,e,o)}function vN(e,t,r=XA(32)){const{chacha_key:o,chacha_nonce:i,hmac_key:s}=mN(t,r),a=function aW(e){const t=or.encode(e),r=t.length,o=function sW(e){if(!Number.isSafeInteger(e)||e<hN||e>pN)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}(r);return ah(o,t,new Uint8Array(Z0(r)-r))}(e),c=x0(o,i,a),u=yN(s,c,r);return io.encode(ah(new Uint8Array([2]),r,c,u))}function wN(e,t){const{nonce:r,ciphertext:o,mac:i}=function uW(e){if("string"!=typeof e)throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if("#"===e[0])throw new Error("unknown encryption version");let r;try{r=io.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}const o=r.length;if(o<99||o>65603)throw new Error("invalid data length: "+o);const i=r[0];if(2!==i)throw new Error("unknown encryption version "+i);return{nonce:r.subarray(1,33),ciphertext:r.subarray(33,-32),mac:r.subarray(-32)}}(e),{chacha_key:s,chacha_nonce:a,hmac_key:c}=mN(t,r);if(!fh(yN(c,o,r),i))throw new Error("invalid MAC");return function cW(e){const t=new DataView(e.buffer).getUint16(0),r=e.subarray(2,2+t);if(t<hN||t>pN||r.length!==t||e.length!==2+Z0(t))throw new Error("invalid padding");return Br.decode(r)}(x0(s,a,o))}var Y0,lW={utils:{getConversationKey:gN,calcPaddedLen:Z0},encrypt:vN,decrypt:wN};function fW(e){const{pathname:t,searchParams:r}=new URL(e),o=t,i=r.get("relay"),s=r.get("secret");if(!o||!i||!s)throw new Error("invalid connection string");return{pubkey:o,relay:i,secret:s}}function hW(e,t,r){return K0.apply(this,arguments)}function K0(){return(K0=U(function*(e,t,r){const i=yield iN(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:r}})),s={kind:QM,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Fn(s,t)})).apply(this,arguments)}rt({},{makeNwcRequestEvent:()=>hW,parseConnectionString:()=>fW}),rt({},{getZapEndpoint:()=>mW,makeZapReceipt:()=>wW,makeZapRequest:()=>yW,useFetchImplementation:()=>gW,validateZapRequest:()=>vW});try{Y0=fetch}catch{}function gW(e){Y0=e}function mW(e){return Q0.apply(this,arguments)}function Q0(){return(Q0=U(function*(e){try{let t="",{lud06:r,lud16:o}=JSON.parse(e.content);if(r){let{words:a}=va.decode(r,1e3),c=va.fromWords(a);t=Br.decode(c)}else{if(!o)return null;{let[a,c]=o.split("@");t=new URL(`/.well-known/lnurlp/${a}`,`https://${c}`).toString()}}let s=yield(yield Y0(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch{}return null})).apply(this,arguments)}function yW({profile:e,event:t,amount:r,relays:o,comment:i=""}){if(!r)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",r.toString()],["relays",...o]]};return t&&s.tags.push(["e",t]),s}function vW(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!UM(t))return"Zap request is not a valid Nostr event.";if(!Sa(t))return"Invalid signature on zap request.";let r=t.tags.find(([s,a])=>"p"===s&&a);if(!r)return"Zap request doesn't have a 'p' tag.";if(!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let o=t.tags.find(([s,a])=>"e"===s&&a);return o&&!o[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,a])=>"relays"===s&&a)?null:"Zap request doesn't have a 'relays' tag."}function wW({zapRequest:e,preimage:t,bolt11:r,paidAt:o}){let i=JSON.parse(e),s=i.tags.filter(([c])=>"e"===c||"p"===c||"a"===c),a={kind:9735,created_at:Math.round(o.getTime()/1e3),content:"",tags:[...s,["P",i.pubkey],["bolt11",r],["description",e]]};return t&&a.tags.push(["preimage",t]),a}rt({},{getToken:()=>_W,hashPayload:()=>tw,unpackEventFromToken:()=>_N,validateEvent:()=>xN,validateEventKind:()=>DN,validateEventMethodTag:()=>SN,validateEventPayloadTag:()=>IN,validateEventTimestamp:()=>EN,validateEventUrlTag:()=>CN,validateToken:()=>EW});var bN="Nostr ";function _W(e,t,r){return J0.apply(this,arguments)}function J0(){return(J0=U(function*(e,t,r,o=!1,i){const s={kind:k0,tags:[["u",e],["method",t]],created_at:Math.round((new Date).getTime()/1e3),content:""};i&&s.tags.push(["payload",tw(i)]);const a=yield r(s);return(o?bN:"")+io.encode(or.encode(JSON.stringify(a)))})).apply(this,arguments)}function EW(e,t,r){return X0.apply(this,arguments)}function X0(){return(X0=U(function*(e,t,r){const o=yield _N(e).catch(s=>{throw s});return yield xN(o,t,r).catch(s=>{throw s})})).apply(this,arguments)}function _N(e){return ew.apply(this,arguments)}function ew(){return(ew=U(function*(e){if(!e)throw new Error("Missing token");e=e.replace(bN,"");const t=Br.decode(io.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)})).apply(this,arguments)}function EN(e){return!!e.created_at&&Math.round((new Date).getTime()/1e3)-e.created_at<60}function DN(e){return e.kind===k0}function CN(e,t){const r=e.tags.find(o=>"u"===o[0]);return!!r&&r.length>0&&r[1]===t}function SN(e,t){const r=e.tags.find(o=>"method"===o[0]);return!!r&&r.length>0&&r[1].toLowerCase()===t.toLowerCase()}function tw(e){return hn(ku(or.encode(JSON.stringify(e))))}function IN(e,t){const r=e.tags.find(i=>"payload"===i[0]);if(!r)return!1;const o=tw(t);return r.length>0&&r[1]===o}function xN(e,t,r,o){return nw.apply(this,arguments)}function nw(){return(nw=U(function*(e,t,r,o){if(!Sa(e))throw new Error("Invalid nostr event, signature invalid");if(!DN(e))throw new Error("Invalid nostr event, kind invalid");if(!EN(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!CN(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!SN(e,r))throw new Error("Invalid nostr event, method tag invalid");if(o&&"object"==typeof o&&Object.keys(o).length>0&&!IN(e,o))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0})).apply(this,arguments)}class qo{constructor(t){const{type:r,data:o}=Uu.decode(t);if("nsec"===r)this.nsec=t,this.secretKey=o,this.pubkey=VM(this.secretKey),this.npub=Uu.npubEncode(this.pubkey);else{if("npub"!==r)throw new Error("Invalid argument, NostrUser expect nsec or npub string");this.npub=t,this.pubkey=o.toString(),this.nsec=void 0,this.secretKey=void 0}let i=sessionStorage.getItem("alwaysIgnoreWannachat");i||(i="[]");try{const s=JSON.parse(i);s.push(this.pubkey),sessionStorage.setItem("alwaysIgnoreWannachat",JSON.stringify(s))}catch{}}static fromPubkey(t){return new qo(Uu.npubEncode(t))}static fromNostrSecret(t){return new qo(t)}static fromNostrSecretHex(t){return new qo(Uu.nsecEncode(t))}static create(){return this.fromNostrSecretHex(Gz())}toString(){return this.pubkey}}class DW extends Ot{constructor(t,r){super()}schedule(t,r=0){return this}}const Th={setInterval(e,t,...r){const{delegate:o}=Th;return o?.setInterval?o.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=Th;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},TN={now:()=>(TN.delegate||Date).now(),delegate:void 0};class Hu{constructor(t,r=Hu.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,o){return new this.schedulerActionCtor(this,t).schedule(o,r)}}Hu.now=TN.now;const IW=new class SW extends Hu{constructor(t,r=Hu.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let o;this._active=!0;do{if(o=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,o){for(;t=r.shift();)t.unsubscribe();throw o}}}(class CW extends DW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var o;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(s,this.id,r),this}requestAsyncId(t,r,o=0){return Th.setInterval(t.flush.bind(t,this),o)}recycleAsyncId(t,r,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return r;null!=r&&Th.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(t,r);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let i,o=!1;try{this.work(t)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:o}=r;this.work=this.state=this.scheduler=null,this.pending=!1,ml(o,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}}),TW=gl(e=>function(r=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r});function MW(e){throw new TW(e)}let rw=(()=>{class e{constructor(){this.WANNACHAT_STATUS_DEFAULT_TIMEOUT_IN_SECONDS=20}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),ow=(()=>{class e{constructor(r){this.globalConfigService=r}getCurrentTimestamp(){return Math.floor(Date.now()/1e3)}getExpirationTimestamp(r=this.globalConfigService.WANNACHAT_STATUS_DEFAULT_TIMEOUT_IN_SECONDS){const i=Math.floor(Date.now()/1e3)+r;return String(i)}createEncryptedDirectMessage(r,o,i){var s=this;return U(function*(){const a=yield Vu.encrypt(r.secretKey,o.pubkey,i),c={kind:Vt.EncryptedDirectMessage,content:a,created_at:s.getCurrentTimestamp(),tags:[["p",o.pubkey]]},u=Fn(c,r.secretKey);return Promise.resolve(u)})()}createWannaChatUserStatus(r){return this.createUserStatus(r,"wannachat",[["expiration",this.getExpirationTimestamp()],["t","wannachat"]])}createDisconnectedUserStatus(r){return this.createUserStatus(r,"disconnected",[["expiration",this.getExpirationTimestamp()]])}createTypingUserStatus(r){return this.createUserStatus(r,"typing")}createChatingUserStatus(r,o){return this.createUserStatus(r,"chating",[["p",o.pubkey],["t","chating"]])}deleteUserHistory(r){const o={kind:5,tags:[["k",String(Vt.EncryptedDirectMessage)],["k",String(Vt.UserStatuses)],["expiration",this.getExpirationTimestamp()]],created_at:Math.floor((new Date).getTime()/1e3),content:""};return Fn(o,r.secretKey)}cleanUserStatus(r){return this.createUserStatus(r,"")}createUserStatus(r,o,i){const s=[["d","general"],["t","omegle"],...i||[]],a={id:"",kind:Vt.UserStatuses,content:o,pubkey:r.pubkey,created_at:this.getCurrentTimestamp(),tags:s};return Fn(a,r.secretKey)}static#e=this.\u0275fac=function(o){return new(o||e)(Z(rw))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Go(e){var t,r,o,i=2;for(typeof Symbol<"u"&&(r=Symbol.asyncIterator,o=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(o&&null!=(t=e[o]))return new Ah(t.call(e));r="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function Ah(e){function t(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var o=r.done;return Promise.resolve(r.value).then(function(i){return{value:i,done:o}})}return(Ah=function(o){this.s=o,this.n=o.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(o){var i=this.s.return;return void 0===i?Promise.resolve({value:o,done:!0}):t(i.apply(this.s,arguments))},throw:function(o){var i=this.s.return;return void 0===i?Promise.reject(o):t(i.apply(this.s,arguments))}},new Ah(e)}"object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date;const iw="object"==typeof process&&process?process:{};let Mh=globalThis.AbortController,NN=globalThis.AbortSignal;if(typeof Mh>"u"){NN=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(o,i){this._onabort.push(i)}},Mh=class{constructor(){t()}signal=new NN;abort(o){if(!this.signal.aborted){this.signal.reason=o,this.signal.aborted=!0;for(const i of this.signal._onabort)i(o);this.signal.onabort?.(o)}}};let e="1"!==iw.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,((e,t,r,o)=>{"function"==typeof iw.emitWarning?iw.emitWarning(e,t,r,o):console.error(`[${r}] ${t}: ${e}`)})("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var ON,kN;Symbol("type"),Symbol,Symbol,ON=Symbol.iterator,kN=Symbol.toStringTag;class Bn{cache;constructor(t){this.cache=t??new Map}get size(){return this.cache.size}add(t){this.#e(t);for(const r of this){if(Bn.deletes(r,t)||Bn.replaces(r,t))return this;Bn.replaces(t,r)&&this.delete(r)}return this.cache.set(t.id,t),this}#e(t){if(5===t.kind)for(const r of t.tags)if("e"===r[0]){const o=this.cache.get(r[1]);o&&o.pubkey===t.pubkey&&this.delete(o)}}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,r){return this.cache.forEach((o,i)=>t(o,o,this),r)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Bn.sortEvents([...this.cache.values()]))yield t}[ON](){return this.values()}[kN]="NSet";static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isParameterizedReplaceable(t){return 3e4<=t&&t<4e4}static replaces(t,r){const{kind:o,pubkey:i}=t;if(Bn.isReplaceable(o))return o===r.kind&&i===r.pubkey&&Bn.sortEvents([t,r])[0]===t;if(Bn.isParameterizedReplaceable(o)){const s=t.tags.find(([c])=>"d"===c)?.[1]||"",a=r.tags.find(([c])=>"d"===c)?.[1]||"";return o===r.kind&&i===r.pubkey&&Bn.sortEvents([t,r])[0]===t&&s===a}return!1}static deletes(t,r){const{kind:o,pubkey:i,tags:s}=t;if(5===o&&i===r.pubkey)for(const[a,c]of s)if("e"===a&&c===r.id)return!0;return!1}static sortEvents(t){return t.sort((r,o)=>r.created_at!==o.created_at?o.created_at-r.created_at:r.id.localeCompare(o.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}}function Ta(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function ir(e,...t){if(!function OW(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function zu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Symbol;const Aa="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ji=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ur=(e,t)=>e<<32-t|e>>>t;function BN(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function $i(e){return"string"==typeof e&&(e=BN(e)),ir(e),e}new Uint8Array(new Uint32Array([287454020]).buffer);class UN{clone(){return this._cloneInto()}}function uw(e){const t=o=>e().update($i(o)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function $W(e=32){if(Aa&&"function"==typeof Aa.getRandomValues)return Aa.getRandomValues(new Uint8Array(e));if(Aa&&"function"==typeof Aa.randomBytes)return Aa.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class jN extends UN{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,function aw(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ta(e.outputLen),Ta(e.blockLen)}(t);const o=$i(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?t.create().update(o).digest():o);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return zu(this),this.iHash.update(t),this}digestInto(t){zu(this),ir(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:o,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return t.finished=i,t.destroyed=s,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=o._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Gu=(e,t,r)=>new jN(e,t).update(r).digest();Gu.create=(e,t)=>new jN(e,t);const HW=(e,t,r)=>e&t^~e&r,zW=(e,t,r)=>e&t^e&r^t&r;class lw extends UN{constructor(t,r,o,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=o,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ji(this.buffer)}update(t){zu(this);const{view:r,buffer:o,blockLen:i}=this,s=(t=$i(t)).length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c!==i)o.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0);else{const u=ji(t);for(;i<=s-a;a+=i)this.process(u,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){zu(this),function LN(e,t){ir(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(t,this),this.finished=!0;const{buffer:r,view:o,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let f=a;f<i;f++)r[f]=0;(function VW(e,t,r,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,o);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=o?0:4;e.setUint32(t+(o?4:0),a,o),e.setUint32(t+l,c,o)})(o,i-8,BigInt(8*this.length),s),this.process(o,0);const c=ji(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const o=t.slice(0,r);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:o,length:i,finished:s,destroyed:a,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=a,i%r&&t.buffer.set(o),t}}const qW=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),$N=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),GW=$N.map(e=>(9*e+5)%16);let dw=[$N],fw=[GW];for(let e=0;e<4;e++)for(let t of[dw,fw])t.push(t[e].map(r=>qW[r]));const XW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ko=new Uint32Array(64);class zN extends lw{constructor(){super(64,32,8,!1),this.A=0|Zo[0],this.B=0|Zo[1],this.C=0|Zo[2],this.D=0|Zo[3],this.E=0|Zo[4],this.F=0|Zo[5],this.G=0|Zo[6],this.H=0|Zo[7]}get(){const{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;return[t,r,o,i,s,a,c,u]}set(t,r,o,i,s,a,c,u){this.A=0|t,this.B=0|r,this.C=0|o,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|c,this.H=0|u}process(t,r){for(let f=0;f<16;f++,r+=4)Ko[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=Ko[f-15],p=Ko[f-2],g=Ur(h,7)^Ur(h,18)^h>>>3,m=Ur(p,17)^Ur(p,19)^p>>>10;Ko[f]=m+Ko[f-7]+g+Ko[f-16]|0}let{A:o,B:i,C:s,D:a,E:c,F:u,G:l,H:d}=this;for(let f=0;f<64;f++){const p=d+(Ur(c,6)^Ur(c,11)^Ur(c,25))+HW(c,u,l)+XW[f]+Ko[f]|0,m=(Ur(o,2)^Ur(o,13)^Ur(o,22))+zW(o,i,s)|0;d=l,l=u,u=c,c=a+p|0,a=s,s=i,i=o,o=p+m|0}o=o+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(o,i,s,a,c,u,l,d)}roundClean(){Ko.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const hw=uw(()=>new zN),kh=BigInt(2**32-1),pw=BigInt(32);function qN(e,t=!1){return t?{h:Number(e&kh),l:Number(e>>pw&kh)}:{h:0|Number(e>>pw&kh),l:0|Number(e&kh)}}const ge_split=function eZ(e,t=!1){let r=new Uint32Array(e.length),o=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=qN(e[i],t);[r[i],o[i]]=[s,a]}return[r,o]},[gZ,mZ]=ge_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),mw=BigInt(0),Lh=BigInt(1),yZ=BigInt(2);function Vi(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function Wu(e){if(!Vi(e))throw new Error("Uint8Array expected")}function Ma(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}const vZ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Na(e){Wu(e);let t="";for(let r=0;r<e.length;r++)t+=vZ[e[r]];return t}function Ra(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function GN(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const lo={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function WN(e){return e>=lo._0&&e<=lo._9?e-lo._0:e>=lo._A&&e<=lo._F?e-(lo._A-10):e>=lo._a&&e<=lo._f?e-(lo._a-10):void 0}function Oa(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const o=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const a=WN(e.charCodeAt(s)),c=WN(e.charCodeAt(s+1));if(void 0===a||void 0===c)throw new Error('hex string expected, got non-hex character "'+(e[s]+e[s+1])+'" at index '+s);o[i]=16*a+c}return o}function Hi(e){return GN(Na(e))}function yw(e){return Wu(e),GN(Na(Uint8Array.from(e).reverse()))}function ka(e,t){return Oa(e.toString(16).padStart(2*t,"0"))}function vw(e,t){return ka(e,t).reverse()}function sr(e,t,r){let o;if("string"==typeof t)try{o=Oa(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else{if(!Vi(t))throw new Error(`${e} must be hex string or Uint8Array`);o=Uint8Array.from(t)}const i=o.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return o}function Zu(...e){let t=0;for(let o=0;o<e.length;o++){const i=e[o];Wu(i),t+=i.length}const r=new Uint8Array(t);for(let o=0,i=0;o<e.length;o++){const s=e[o];r.set(s,i),i+=s.length}return r}const ww=e=>"bigint"==typeof e&&mw<=e;function Fh(e,t,r){return ww(e)&&ww(t)&&ww(r)&&t<=e&&e<r}function zi(e,t,r,o){if(!Fh(t,r,o))throw new Error(`expected valid ${e}: ${r} <= n < ${o}, got ${typeof t} ${t}`)}function ZN(e){let t;for(t=0;e>mw;e>>=Lh,t+=1);return t}const bw=e=>(yZ<<BigInt(e-1))-Lh,_w=e=>new Uint8Array(e),KN=e=>Uint8Array.from(e);function YN(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let o=_w(e),i=_w(e),s=0;const a=()=>{o.fill(1),i.fill(0),s=0},c=(...f)=>r(i,o,...f),u=(f=_w())=>{i=c(KN([0]),f),o=c(),0!==f.length&&(i=c(KN([1]),f),o=c())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){o=c();const p=o.slice();h.push(p),f+=o.length}return Zu(...h)};return(f,h)=>{let p;for(a(),u(f);!(p=h(l()));)u();return a(),p}}const wZ={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Vi(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Ku(e,t,r={}){const o=(i,s,a)=>{const c=wZ[s];if("function"!=typeof c)throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(a&&void 0===u||c(u,e)))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))o(i,s,!1);for(const[i,s]of Object.entries(r))o(i,s,!0);return e}function Ew(e){const t=new WeakMap;return(r,...o)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...o);return t.set(r,s),s}}const bt=BigInt(0),Ue=BigInt(1),Jo=BigInt(2),bZ=BigInt(3),Dw=BigInt(4),QN=BigInt(5),JN=BigInt(8);function Nt(e,t){const r=e%t;return r>=bt?r:t+r}function DZ(e,t,r){if(r<=bt||t<bt)throw new Error("Expected power/modulo > 0");if(r===Ue)return bt;let o=Ue;for(;t>bt;)t&Ue&&(o=o*e%r),e=e*e%r,t>>=Ue;return o}function Un(e,t,r){let o=e;for(;t-- >bt;)o*=o,o%=r;return o}function Bh(e,t){if(e===bt||t<=bt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Nt(e,t),o=t,i=bt,s=Ue,a=Ue,c=bt;for(;r!==bt;){const l=o/r,d=o%r,f=i-a*l,h=s-c*l;o=r,r=d,i=a,s=c,a=f,c=h}if(o!==Ue)throw new Error("invert: does not exist");return Nt(i,t)}BigInt(9),BigInt(16);const IZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Cw(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function XN(e,t,r=!1,o={}){if(e<=bt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Cw(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function SZ(e){if(e%Dw===bZ){const t=(e+Ue)/Dw;return function(o,i){const s=o.pow(i,t);if(!o.eql(o.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%JN===QN){const t=(e-QN)/JN;return function(o,i){const s=o.mul(i,Jo),a=o.pow(s,t),c=o.mul(i,a),u=o.mul(o.mul(c,Jo),a),l=o.mul(c,o.sub(u,o.ONE));if(!o.eql(o.sqr(l),i))throw new Error("Cannot find square root");return l}}return function CZ(e){const t=(e-Ue)/Jo;let r,o,i;for(r=e-Ue,o=0;r%Jo===bt;r/=Jo,o++);for(i=Jo;i<e&&DZ(i,t,e)!==e-Ue;i++);if(1===o){const a=(e+Ue)/Dw;return function(u,l){const d=u.pow(l,a);if(!u.eql(u.sqr(d),l))throw new Error("Cannot find square root");return d}}const s=(r+Ue)/Jo;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let l=o,d=c.pow(c.mul(c.ONE,i),r),f=c.pow(u,s),h=c.pow(u,r);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let m=c.sqr(h);p<l&&!c.eql(m,c.ONE);p++)m=c.sqr(m);const g=c.pow(d,Ue<<BigInt(l-p-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),l=p}return f}}(e)}(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:bw(i),ZERO:bt,ONE:Ue,create:u=>Nt(u,e),isValid:u=>{if("bigint"!=typeof u)throw new Error("Invalid field element: expected bigint, got "+typeof u);return bt<=u&&u<e},is0:u=>u===bt,isOdd:u=>(u&Ue)===Ue,neg:u=>Nt(-u,e),eql:(u,l)=>u===l,sqr:u=>Nt(u*u,e),add:(u,l)=>Nt(u+l,e),sub:(u,l)=>Nt(u-l,e),mul:(u,l)=>Nt(u*l,e),pow:(u,l)=>function TZ(e,t,r){if(r<bt)throw new Error("Expected power > 0");if(r===bt)return e.ONE;if(r===Ue)return t;let o=e.ONE,i=t;for(;r>bt;)r&Ue&&(o=e.mul(o,i)),i=e.sqr(i),r>>=Ue;return o}(c,u,l),div:(u,l)=>Nt(u*Bh(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>Bh(u,e),sqrt:o.sqrt||(u=>a(c,u)),invertBatch:u=>function AZ(e,t){const r=new Array(t.length),o=t.reduce((s,a,c)=>e.is0(a)?s:(r[c]=s,e.mul(s,a)),e.ONE),i=e.inv(o);return t.reduceRight((s,a,c)=>e.is0(a)?s:(r[c]=e.mul(s,r[c]),e.mul(s,a)),i),r}(c,u),cmov:(u,l,d)=>d?l:u,toBytes:u=>r?vw(u,s):ka(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?yw(u):Hi(u)}});return Object.freeze(c)}function e2(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function t2(e){const t=e2(e);return t+Math.ceil(t/2)}const RZ=BigInt(0),Sw=BigInt(1),Iw=new WeakMap,n2=new WeakMap;function r2(e){return function xZ(e){Ku(e,IZ.reduce((o,i)=>(o[i]="function",o),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Ku(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Cw(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function o2(e){void 0!==e.lowS&&Ma("lowS",e.lowS),void 0!==e.prehash&&Ma("prehash",e.prehash)}const{Ph:LZ,aT:FZ}=op,fo={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:r}=fo;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const o=t.length/2,i=Ra(o);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=o>127?Ra(i.length/2|128):"";return`${Ra(e)}${s}${i}${t}`},decode(e,t){const{Err:r}=fo;let o=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[o++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[o++];let a=0;if(128&i){const u=127&i;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");const l=t.subarray(o,o+u);if(l.length!==u)throw new r("tlv.decode: length bytes not complete");if(0===l[0])throw new r("tlv.decode(long): zero leftmost byte");for(const d of l)a=a<<8|d;if(o+=u,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;const c=t.subarray(o,o+a);if(c.length!==a)throw new r("tlv.decode: wrong value length");return{v:c,l:t.subarray(o+a)}}},_int:{encode(e){const{Err:t}=fo;if(e<ar)throw new t("integer: negative integers are not allowed");let r=Ra(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected assertion");return r},decode(e){const{Err:t}=fo;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return LZ(e)}},toSig(e){const{Err:t,_int:r,_tlv:o}=fo,i="string"==typeof e?FZ(e):e;Wu(i);const{v:s,l:a}=o.decode(48,i);if(a.length)throw new t("Invalid signature: left bytes after parsing");const{v:c,l:u}=o.decode(2,s),{v:l,l:d}=o.decode(2,u);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=fo,o=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,o)}},ar=BigInt(0),Le=BigInt(1),Uh=(BigInt(2),BigInt(3));function jZ(e){const t=function UZ(e){const t=r2(e);return Ku(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:o}=t,i=r.BYTES+1,s=2*r.BYTES+1;function a(A){return Nt(A,o)}function c(A){return Bh(A,o)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=function BZ(e){const t=function PZ(e){const t=r2(e);Ku(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:o,a:i}=t;if(r){if(!o.eql(i,o.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,o=XN(t.n,t.nBitLength),i=t.toBytes||((m,y,v)=>{const w=y.toAffine();return Zu(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),s=t.fromBytes||(m=>{const y=m.subarray(1);return{x:r.fromBytes(y.subarray(0,r.BYTES)),y:r.fromBytes(y.subarray(r.BYTES,2*r.BYTES))}});function a(m){const{a:y,b:v}=t,w=r.sqr(m),b=r.mul(w,m);return r.add(r.add(b,r.mul(m,y)),v)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function u(m){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:w,n:b}=t;if(y&&"bigint"!=typeof m){if(Vi(m)&&(m=Na(m)),"string"!=typeof m||!y.includes(m.length))throw new Error("Invalid key");m=m.padStart(2*v,"0")}let _;try{_="bigint"==typeof m?m:Hi(sr("private key",m,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof m}`)}return w&&(_=Nt(_,b)),zi("private key",_,Le,b),_}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const d=Ew((m,y)=>{const{px:v,py:w,pz:b}=m;if(r.eql(b,r.ONE))return{x:v,y:w};const _=m.is0();null==y&&(y=_?r.ONE:r.inv(b));const D=r.mul(v,y),E=r.mul(w,y),S=r.mul(b,y);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:D,y:E}}),f=Ew(m=>{if(m.is0()){if(t.allowInfinityPoint&&!r.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=m.toAffine();if(!r.isValid(y)||!r.isValid(v))throw new Error("bad point: x or y not FE");const w=r.sqr(v),b=a(y);if(!r.eql(w,b))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,v,w){if(this.px=y,this.py=v,this.pz=w,null==y||!r.isValid(y))throw new Error("x required");if(null==v||!r.isValid(v))throw new Error("y required");if(null==w||!r.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:v,y:w}=y||{};if(!y||!r.isValid(v)||!r.isValid(w))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const b=_=>r.eql(_,r.ZERO);return b(v)&&b(w)?h.ZERO:new h(v,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(v[b])).map(h.fromAffine)}static fromHex(y){const v=h.fromAffine(s(sr("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return h.BASE.multiply(u(y))}static msm(y,v){return function kZ(e,t,r,o){if(!Array.isArray(r)||!Array.isArray(o)||o.length!==r.length)throw new Error("arrays of points and scalars must have equal length");o.forEach((d,f)=>{if(!t.isValid(d))throw new Error(`wrong scalar at index ${f}`)}),r.forEach((d,f)=>{if(!(d instanceof e))throw new Error(`wrong point at index ${f}`)});const i=ZN(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,c=new Array(a+1).fill(e.ZERO),u=Math.floor((t.BITS-1)/s)*s;let l=e.ZERO;for(let d=u;d>=0;d-=s){c.fill(e.ZERO);for(let h=0;h<o.length;h++){const g=Number(o[h]>>BigInt(d)&BigInt(a));c[g]=c[g].add(r[h])}let f=e.ZERO;for(let h=c.length-1,p=e.ZERO;h>0;h--)p=p.add(c[h]),f=f.add(p);if(l=l.add(f),0!==d)for(let h=0;h<s;h++)l=l.double()}return l}(h,o,y,v)}_setWindowSize(y){g.setWindowSize(this,y)}assertValidity(){f(this)}hasEvenY(){const{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:v,py:w,pz:b}=this,{px:_,py:D,pz:E}=y,S=r.eql(r.mul(v,E),r.mul(_,b)),I=r.eql(r.mul(w,E),r.mul(D,b));return S&&I}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,w=r.mul(v,Uh),{px:b,py:_,pz:D}=this;let E=r.ZERO,S=r.ZERO,I=r.ZERO,R=r.mul(b,b),$=r.mul(_,_),F=r.mul(D,D),H=r.mul(b,_);return H=r.add(H,H),I=r.mul(b,D),I=r.add(I,I),E=r.mul(y,I),S=r.mul(w,F),S=r.add(E,S),E=r.sub($,S),S=r.add($,S),S=r.mul(E,S),E=r.mul(H,E),I=r.mul(w,I),F=r.mul(y,F),H=r.sub(R,F),H=r.mul(y,H),H=r.add(H,I),I=r.add(R,R),R=r.add(I,R),R=r.add(R,F),R=r.mul(R,H),S=r.add(S,R),F=r.mul(_,D),F=r.add(F,F),R=r.mul(F,H),E=r.sub(E,R),I=r.mul(F,$),I=r.add(I,I),I=r.add(I,I),new h(E,S,I)}add(y){l(y);const{px:v,py:w,pz:b}=this,{px:_,py:D,pz:E}=y;let S=r.ZERO,I=r.ZERO,R=r.ZERO;const $=t.a,F=r.mul(t.b,Uh);let H=r.mul(v,_),Q=r.mul(w,D),A=r.mul(b,E),C=r.add(v,w),x=r.add(_,D);C=r.mul(C,x),x=r.add(H,Q),C=r.sub(C,x),x=r.add(v,b);let M=r.add(_,E);return x=r.mul(x,M),M=r.add(H,A),x=r.sub(x,M),M=r.add(w,b),S=r.add(D,E),M=r.mul(M,S),S=r.add(Q,A),M=r.sub(M,S),R=r.mul($,x),S=r.mul(F,A),R=r.add(S,R),S=r.sub(Q,R),R=r.add(Q,R),I=r.mul(S,R),Q=r.add(H,H),Q=r.add(Q,H),A=r.mul($,A),x=r.mul(F,x),Q=r.add(Q,A),A=r.sub(H,A),A=r.mul($,A),x=r.add(x,A),H=r.mul(Q,x),I=r.add(I,H),H=r.mul(M,x),S=r.mul(C,S),S=r.sub(S,H),H=r.mul(C,Q),R=r.mul(M,R),R=r.add(R,H),new h(S,I,R)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return g.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){zi("scalar",y,ar,t.n);const v=h.ZERO;if(y===ar)return v;if(y===Le)return this;const{endo:w}=t;if(!w)return g.unsafeLadder(this,y);let{k1neg:b,k1:_,k2neg:D,k2:E}=w.splitScalar(y),S=v,I=v,R=this;for(;_>ar||E>ar;)_&Le&&(S=S.add(R)),E&Le&&(I=I.add(R)),R=R.double(),_>>=Le,E>>=Le;return b&&(S=S.negate()),D&&(I=I.negate()),I=new h(r.mul(I.px,w.beta),I.py,I.pz),S.add(I)}multiply(y){const{endo:v,n:w}=t;let b,_;if(zi("scalar",y,Le,w),v){const{k1neg:D,k1:E,k2neg:S,k2:I}=v.splitScalar(y);let{p:R,f:$}=this.wNAF(E),{p:F,f:H}=this.wNAF(I);R=g.constTimeNegate(D,R),F=g.constTimeNegate(S,F),F=new h(r.mul(F.px,v.beta),F.py,F.pz),b=R.add(F),_=$.add(H)}else{const{p:D,f:E}=this.wNAF(y);b=D,_=E}return h.normalizeZ([b,_])[0]}multiplyAndAddUnsafe(y,v,w){const b=h.BASE,_=(E,S)=>S!==ar&&S!==Le&&E.equals(b)?E.multiply(S):E.multiplyUnsafe(S),D=_(this,v).add(_(y,w));return D.is0()?void 0:D}toAffine(y){return d(this,y)}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===Le)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===Le?this:v?v(h,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Ma("isCompressed",y),this.assertValidity(),i(h,this,y)}toHex(y=!0){return Ma("isCompressed",y),Na(this.toRawBytes(y))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,g=function OZ(e,t){const r=(s,a)=>{const c=a.negate();return s?c:a},o=s=>{if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error(`Wrong window size=${s}, should be [1..${t}]`)},i=s=>(o(s),{windows:Math.ceil(t/s)+1,windowSize:2**(s-1)});return{constTimeNegate:r,unsafeLadder(s,a){let c=e.ZERO,u=s;for(;a>RZ;)a&Sw&&(c=c.add(u)),u=u.double(),a>>=Sw;return c},precomputeWindow(s,a){const{windows:c,windowSize:u}=i(a),l=[];let d=s,f=d;for(let h=0;h<c;h++){f=d,l.push(f);for(let p=1;p<u;p++)f=f.add(d),l.push(f);d=f.double()}return l},wNAF(s,a,c){const{windows:u,windowSize:l}=i(s);let d=e.ZERO,f=e.BASE;const h=BigInt(2**s-1),p=2**s,g=BigInt(s);for(let m=0;m<u;m++){const y=m*l;let v=Number(c&h);c>>=g,v>l&&(v-=p,c+=Sw);const w=y,b=y+Math.abs(v)-1,D=v<0;0===v?f=f.add(r(m%2!=0,a[w])):d=d.add(r(D,a[b]))}return{p:d,f}},wNAFCached(s,a,c){const u=n2.get(s)||1;let l=Iw.get(s);return l||(l=this.precomputeWindow(s,u),1!==u&&Iw.set(s,c(l))),this.wNAF(u,l,a)},setWindowSize(s,a){o(a),n2.set(s,a),Iw.delete(s)}}}(h,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:function c(m){return Fh(m,Le,t.n)}}}({...t,toBytes(A,C,x){const M=C.toAffine(),B=r.toBytes(M.x),N=Zu;return Ma("isCompressed",x),x?N(Uint8Array.from([C.hasEvenY()?2:3]),B):N(Uint8Array.from([4]),B,r.toBytes(M.y))},fromBytes(A){const C=A.length,x=A[0],M=A.subarray(1);if(C!==i||2!==x&&3!==x){if(C===s&&4===x)return{x:r.fromBytes(M.subarray(0,r.BYTES)),y:r.fromBytes(M.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${C} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const B=Hi(M);if(!Fh(B,Le,r.ORDER))throw new Error("Point is not on curve");const N=d(B);let J;try{J=r.sqrt(N)}catch(Ae){const Ke=Ae instanceof Error?": "+Ae.message:"";throw new Error("Point is not on curve"+Ke)}return!(1&~x)!=((J&Le)===Le)&&(J=r.neg(J)),{x:B,y:J}}}}),h=A=>Na(ka(A,t.nByteLength));function p(A){return A>o>>Le}const m=(A,C,x)=>Hi(A.slice(C,x));class y{constructor(C,x,M){this.r=C,this.s=x,this.recovery=M,this.assertValidity()}static fromCompact(C){const x=t.nByteLength;return C=sr("compactSignature",C,2*x),new y(m(C,0,x),m(C,x,2*x))}static fromDER(C){const{r:x,s:M}=fo.toSig(sr("DER",C));return new y(x,M)}assertValidity(){zi("r",this.r,Le,o),zi("s",this.s,Le,o)}addRecoveryBit(C){return new y(this.r,this.s,C)}recoverPublicKey(C){const{r:x,s:M,recovery:B}=this,N=E(sr("msgHash",C));if(null==B||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const J=2===B||3===B?x+t.n:x;if(J>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const ce=u.fromHex((1&B?"03":"02")+h(J)),Ae=c(J),Ke=a(-N*Ae),_t=a(M*Ae),ot=u.BASE.multiplyAndAddUnsafe(ce,Ke,_t);if(!ot)throw new Error("point at infinify");return ot.assertValidity(),ot}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Oa(this.toDERHex())}toDERHex(){return fo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Oa(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(A){try{return l(A),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const A=t2(t.n);return function NZ(e,t,r=!1){const o=e.length,i=e2(t),s=t2(t);if(o<16||o<s||o>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${o}`);const c=Nt(r?Hi(e):yw(e),t-Ue)+Ue;return r?vw(c,i):ka(c,i)}(t.randomBytes(A),t.n)},precompute:(A=8,C=u.BASE)=>(C._setWindowSize(A),C.multiply(BigInt(3)),C)};function b(A){const C=Vi(A),x="string"==typeof A,M=(C||x)&&A.length;return C?M===i||M===s:x?M===2*i||M===2*s:A instanceof u}const D=t.bits2int||function(A){const C=Hi(A),x=8*A.length-t.nBitLength;return x>0?C>>BigInt(x):C},E=t.bits2int_modN||function(A){return a(D(A))},S=bw(t.nBitLength);function I(A){return zi(`num < 2^${t.nBitLength}`,A,ar,S),ka(A,t.nByteLength)}const $={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function w(A,C=!0){return u.fromPrivateKey(A).toRawBytes(C)},getSharedSecret:function _(A,C,x=!0){if(b(A))throw new Error("first arg must be private key");if(!b(C))throw new Error("second arg must be public key");return u.fromHex(C).multiply(l(A)).toRawBytes(x)},sign:function H(A,C,x=$){const{seed:M,k2sig:B}=function R(A,C,x=$){if(["recovered","canonical"].some(St=>St in x))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:B}=t;let{lowS:N,prehash:J,extraEntropy:ee}=x;null==N&&(N=!0),A=sr("msgHash",A),o2(x),J&&(A=sr("prehashed msgHash",M(A)));const ce=E(A),Ae=l(C),Ke=[I(Ae),I(ce)];if(null!=ee&&!1!==ee){const St=!0===ee?B(r.BYTES):ee;Ke.push(sr("extraEntropy",St))}const _t=Zu(...Ke),ot=ce;return{seed:_t,k2sig:function Et(St){const it=D(St);if(!f(it))return;const mo=c(it),xn=u.BASE.multiply(it).toAffine(),Rt=a(xn.x);if(Rt===ar)return;const ur=a(mo*a(ot+Rt*Ae));if(ur===ar)return;let Ki=(xn.x===Rt?0:2)|Number(xn.y&Le),fl=ur;return N&&p(ur)&&(fl=function g(A){return p(A)?a(-A):A}(ur),Ki^=1),new y(Rt,fl,Ki)}}}(A,C,x);return YN(t.hash.outputLen,t.nByteLength,t.hmac)(M,B)},verify:function Q(A,C,x,M=F){const B=A;if(C=sr("msgHash",C),x=sr("publicKey",x),"strict"in M)throw new Error("options.strict was renamed to lowS");o2(M);const{lowS:N,prehash:J}=M;let ee,ce;try{if("string"==typeof B||Vi(B))try{ee=y.fromDER(B)}catch(xn){if(!(xn instanceof fo.Err))throw xn;ee=y.fromCompact(B)}else{if("object"!=typeof B||"bigint"!=typeof B.r||"bigint"!=typeof B.s)throw new Error("PARSE");{const{r:xn,s:Rt}=B;ee=new y(xn,Rt)}}ce=u.fromHex(x)}catch(xn){if("PARSE"===xn.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(N&&ee.hasHighS())return!1;J&&(C=t.hash(C));const{r:Ae,s:Ke}=ee,_t=E(C),ot=c(Ke),Et=a(_t*ot),St=a(Ae*ot),it=u.BASE.multiplyAndAddUnsafe(ce,Et,St)?.toAffine();return!!it&&a(it.x)===Ae},ProjectivePoint:u,Signature:y,utils:v}}function VZ(e){return{hash:e,hmac:(t,...r)=>Gu(e,t,function qu(...e){let t=0;for(let o=0;o<e.length;o++){const i=e[o];ir(i),t+=i.length}const r=new Uint8Array(t);for(let o=0,i=0;o<e.length;o++){const s=e[o];r.set(s,i),i+=s.length}return r}(...r)),randomBytes:$W}}BigInt(4);const Yu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qu=BigInt(1),$h=BigInt(2),s2=(e,t)=>(e+t/$h)/t;const xw=XN(Yu,void 0,void 0,{sqrt:function a2(e){const t=Yu,r=BigInt(3),o=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),l=e*e*e%t,d=l*l*e%t,f=Un(d,r,t)*d%t,h=Un(f,r,t)*d%t,p=Un(h,$h,t)*l%t,g=Un(p,i,t)*p%t,m=Un(g,s,t)*g%t,y=Un(m,c,t)*m%t,v=Un(y,u,t)*y%t,w=Un(v,c,t)*m%t,b=Un(w,r,t)*d%t,_=Un(b,a,t)*g%t,D=Un(_,o,t)*l%t,E=Un(D,$h,t);if(!xw.eql(xw.sqr(E),e))throw new Error("Cannot find square root");return E}});(function HZ(e,t){const r=o=>jZ({...e,...VZ(o)});Object.freeze({...r(t),create:r})})({a:BigInt(0),b:BigInt(7),Fp:xw,n:jh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=jh,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-Qu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=s2(s*e,t),u=s2(-o*e,t);let l=Nt(e-c*r-u*i,t),d=Nt(-c*o-u*s,t);const f=l>a,h=d>a;if(f&&(l=t-l),h&&(d=t-d),l>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:h,k2:d}}}},hw),BigInt(0);var M2;function A2(e,t){this.v=e,this.k=t}function ei(e){return new A2(e,0)}function nl(e){var t,r;function o(s,a){try{var c=e[s](a),u=c.value,l=u instanceof A2;Promise.resolve(l?u.v:u).then(function(d){if(l){var f="return"===s?"return":"next";if(!u.k||d.done)return o(f,d);d=e[f](d).value}i(c.done?"return":"normal",d)},function(d){o("throw",d)})}catch(d){i("throw",d)}}function i(s,a){switch(s){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?o(t.key,t.arg):r=null}this._invoke=function(s,a){return new Promise(function(c,u){var l={key:s,arg:a,resolve:c,reject:u,next:null};r?r=r.next=l:(t=r=l,o(s,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Zh(e){return function(){return new nl(e.apply(this,arguments))}}BN("Bitcoin seed"),new TextEncoder,(new TextEncoder).encode("0123456789abcdef"),new TextEncoder,new TextDecoder,nl.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},nl.prototype.next=function(e){return this._invoke("next",e)},nl.prototype.throw=function(e){return this._invoke("throw",e)},nl.prototype.return=function(e){return this._invoke("return",e)},M2=Symbol.asyncIterator;class N2{#e=[];#t;#r=!1;constructor(t){t?.aborted?this.abort():t?.addEventListener("abort",()=>this.abort(),{once:!0})}[M2](){var t=this;return Zh(function*(){for(;!t.#r;)t.#e.length?yield t.#e.shift():yield ei(new Promise(r=>{t.#t=r}));throw new DOMException("The signal has been aborted","AbortError")})()}push(t){this.#e.push(t),this.#t?.()}abort(){this.#r=!0,this.#t?.()}}class R2{static regular(t){return 1e3<=t&&t<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(t)}static replaceable(t){return 1e4<=t&&t<2e4||[0,3].includes(t)}static ephemeral(t){return 2e4<=t&&t<3e4}static parameterizedReplaceable(t){return 3e4<=t&&t<4e4}}class yK{opts;relays;constructor(t){this.opts=t,this.relays=new Map}relay(t){const r=this.relays.get(t);if(r)return r;{const o=this.opts.open(t);return this.relays.set(t,o),o}}req(t,r){var o=this;return Zh(function*(){const i=new AbortController,s=r?.signal?AbortSignal.any([r.signal,i.signal]):i.signal,a=yield ei(o.opts.reqRouter(t));if(a.size<1)return;const c=new N2(s),u=new Set,l=new Set;for(const m of a.keys()){const y=o.relay(m);U(function*(){var b,v=!1,w=!1;try{for(var D,_=Go(y.req(t,{signal:s}));v=!(D=yield _.next()).done;v=!1){const E=D.value;"EOSE"===E[0]&&(u.add(m),u.size===a.size&&c.push(E)),"CLOSED"===E[0]&&(l.add(m),l.size===a.size&&c.push(E)),"EVENT"===E[0]&&c.push(E)}}catch(E){w=!0,b=E}finally{try{v&&null!=_.return&&(yield _.return())}finally{if(w)throw b}}})().catch(()=>{})}try{var h,d=!1,f=!1;try{for(var g,p=Go(c);d=!(g=yield ei(p.next())).done;d=!1)yield g.value}catch(m){f=!0,h=m}finally{try{d&&null!=p.return&&(yield ei(p.return()))}finally{if(f)throw h}}}finally{i.abort()}})()}event(t,r){var o=this;return U(function*(){const i=yield o.opts.eventRouter(t);i.length<1||(yield Promise.any(i.map(s=>o.relay(s).event(t,r))))})()}query(t,r){var o=this;return U(function*(){const i=new Bn,s=t.reduce((h,p)=>h+JM(p),0);if(0===s)return[];const a=t.reduce((h,p)=>h||!!p.kinds?.some(g=>R2.replaceable(g)||R2.parameterizedReplaceable(g)),!1);try{var l,c=!1,u=!1;try{for(var f,d=Go(o.req(t,r));c=!(f=yield d.next()).done;c=!1){const h=f.value;if("EOSE"===h[0])break;if("EVENT"===h[0]&&i.add(h[2]),"CLOSED"===h[0])throw new Error("Subscription closed");if(!a&&i.size>=s)break}}catch(h){u=!0,l=h}finally{try{c&&null!=d.return&&(yield d.return())}finally{if(u)throw l}}}catch{}return[...i]})()}}class vK{constructor(t,r){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(void 0!==r&&(!Number.isInteger(r)||r<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=r,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=void 0===this.expMax?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}var De,je=function(e){return e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect",e}(je||{});class wK{constructor(t,r,o){var i,s,a,c,u,l,d,f,h,p,g,m,y,v,w;this._closedByUser=!1,this.handleOpenEvent=b=>this.handleEvent(je.open,b),this.handleErrorEvent=b=>this.handleEvent(je.error,b),this.handleCloseEvent=b=>this.handleEvent(je.close,b),this.handleMessageEvent=b=>this.handleEvent(je.message,b),this._url=t,this._protocols=r,this._options={buffer:o?.buffer,retry:{maxRetries:null===(i=o?.retry)||void 0===i?void 0:i.maxRetries,instantReconnect:null===(s=o?.retry)||void 0===s?void 0:s.instantReconnect,backoff:null===(a=o?.retry)||void 0===a?void 0:a.backoff},listeners:{open:[...null!==(u=null===(c=o?.listeners)||void 0===c?void 0:c.open)&&void 0!==u?u:[]],close:[...null!==(d=null===(l=o?.listeners)||void 0===l?void 0:l.close)&&void 0!==d?d:[]],error:[...null!==(h=null===(f=o?.listeners)||void 0===f?void 0:f.error)&&void 0!==h?h:[]],message:[...null!==(g=null===(p=o?.listeners)||void 0===p?void 0:p.message)&&void 0!==g?g:[]],retry:[...null!==(y=null===(m=o?.listeners)||void 0===m?void 0:m.retry)&&void 0!==y?y:[]],reconnect:[...null!==(w=null===(v=o?.listeners)||void 0===v?void 0:v.reconnect)&&void 0!==w?w:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):void 0!==this.buffer&&this.buffer.add(t))}close(t,r){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,r)}addEventListener(t,r,o){this._options.listeners[t].push({listener:r,options:o})}removeEventListener(t,r,o){this._options.listeners[t]=this._options.listeners[t].filter(s=>s.listener!==r||s.options!==o)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(je.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(je.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(je.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(je.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(je.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(je.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(je.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(je.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,r){const i=[];this._options.listeners[t].forEach(({listener:s,options:a})=>{s(this,r),(void 0===a||void 0===a.once||!a.once)&&i.push({listener:s,options:a})}),this._options.listeners[t]=i}handleEvent(t,r){switch(t){case je.close:this.dispatchEvent(t,r),this.scheduleConnectionRetryIfNeeded();break;case je.open:if(void 0!==this.backoff&&void 0!==this._lastConnection){const o={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(je.reconnect,{detail:o});this.dispatchEvent(je.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,r),this.sendBufferedData();break;case je.retry:this.dispatchEvent(t,r),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,r)}}sendBufferedData(){if(void 0!==this.buffer)for(let t=this.buffer.read();void 0!==t;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||void 0===this.backoff)return;const t=o=>{const i=new CustomEvent(je.retry,{detail:o});this.handleEvent(je.retry,i)},r={backoff:!0===this._options.retry.instantReconnect?0:this.backoff.next(),retries:!0===this._options.retry.instantReconnect?0:this.backoff.retries,lastConnection:this._lastConnection};(void 0===this._options.retry.maxRetries||r.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(r),r.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class bK{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{maxRetries:t})}),this}get maxRetries(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.maxRetries}withInstantReconnect(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.instantReconnect}withBackoff(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{backoff:t})}),this}get backoff(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return null===(t=this._options)||void 0===t?void 0:t.buffer}onOpen(t,r){return this.addListener(je.open,t,r),this}onClose(t,r){return this.addListener(je.close,t,r),this}onError(t,r){return this.addListener(je.error,t,r),this}onMessage(t,r){return this.addListener(je.message,t,r),this}onRetry(t,r){return this.addListener(je.retry,t,r),this}onReconnect(t,r){return this.addListener(je.reconnect,t,r),this}build(){return new wK(this._url,this._protocols,this._options)}addListener(t,r,o){var i,s,a,c,u,l,d,f,h,p,g,m,y,v,w,b,_,D,E,S,I;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:null!==(a=null===(s=null===(i=this._options)||void 0===i?void 0:i.listeners)||void 0===s?void 0:s.open)&&void 0!==a?a:[],close:null!==(l=null===(u=null===(c=this._options)||void 0===c?void 0:c.listeners)||void 0===u?void 0:u.close)&&void 0!==l?l:[],error:null!==(h=null===(f=null===(d=this._options)||void 0===d?void 0:d.listeners)||void 0===f?void 0:f.error)&&void 0!==h?h:[],message:null!==(m=null===(g=null===(p=this._options)||void 0===p?void 0:p.listeners)||void 0===g?void 0:g.message)&&void 0!==m?m:[],retry:null!==(w=null===(v=null===(y=this._options)||void 0===y?void 0:y.listeners)||void 0===v?void 0:v.retry)&&void 0!==w?w:[],reconnect:null!==(D=null===(_=null===(b=this._options)||void 0===b?void 0:b.listeners)||void 0===_?void 0:_.reconnect)&&void 0!==D?D:[],[t]:[...null!==(I=null===(S=null===(E=this._options)||void 0===E?void 0:E.listeners)||void 0===S?void 0:S[t])&&void 0!==I?I:[],{listener:r,options:o}]}}),this}}class _K{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return 0===this.elements.length}peek(){return this.elements[0]}read(){return this.elements.shift()}}!function(e){e.assertEqual=i=>i,e.assertIs=function t(i){},e.assertNever=function r(i){throw new Error},e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>"number"!=typeof i[i[c]]),a={};for(const c of s)a[c]=i[c];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys="function"==typeof Object.keys?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger="function"==typeof Number.isInteger?i=>Number.isInteger(i):i=>"number"==typeof i&&isFinite(i)&&Math.floor(i)===i,e.joinValues=function o(i,s=" | "){return i.map(a=>"string"==typeof a?`'${a}'`:a).join(s)},e.jsonStringifyReplacer=(i,s)=>"bigint"==typeof s?s.toString():s}(De||(De={}));var O2=function(e){return e.mergeShapes=(t,r)=>({...t,...r}),e}(O2||{});const z=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ti=e=>{switch(typeof e){case"undefined":return z.undefined;case"string":return z.string;case"number":return isNaN(e)?z.nan:z.number;case"boolean":return z.boolean;case"function":return z.function;case"bigint":return z.bigint;case"symbol":return z.symbol;case"object":return Array.isArray(e)?z.array:null===e?z.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?z.promise:typeof Map<"u"&&e instanceof Map?z.map:typeof Set<"u"&&e instanceof Set?z.set:typeof Date<"u"&&e instanceof Date?z.date:z.object;default:return z.unknown}},P=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let po=(()=>{class e extends Error{constructor(r){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const o=r||function(a){return a.message},i={_errors:[]},s=a=>{for(const c of a.issues)if("invalid_union"===c.code)c.unionErrors.map(s);else if("invalid_return_type"===c.code)s(c.returnTypeError);else if("invalid_arguments"===c.code)s(c.argumentsError);else if(0===c.path.length)i._errors.push(o(c));else{let u=i,l=0;for(;l<c.path.length;){const d=c.path[l];l===c.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(o(c))):u[d]=u[d]||{_errors:[]},u=u[d],l++}}};return s(this),i}static assert(r){if(!(r instanceof e))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(r=(o=>o.message)){const o={},i=[];for(const s of this.issues)s.path.length>0?(o[s.path[0]]=o[s.path[0]]||[],o[s.path[0]].push(r(s))):i.push(r(s));return{formErrors:i,fieldErrors:o}}get formErrors(){return this.flatten()}}return e.create=t=>new e(t),e})();const La=(e,t)=>{let r;switch(e.code){case P.invalid_type:r=e.received===z.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case P.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,De.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:r=`Unrecognized key(s) in object: ${De.joinValues(e.keys,", ")}`;break;case P.invalid_union:r="Invalid input";break;case P.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${De.joinValues(e.options)}`;break;case P.invalid_enum_value:r=`Invalid enum value. Expected ${De.joinValues(e.options)}, received '${e.received}'`;break;case P.invalid_arguments:r="Invalid function arguments";break;case P.invalid_return_type:r="Invalid function return type";break;case P.invalid_date:r="Invalid date";break;case P.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:De.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case P.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case P.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case P.custom:r="Invalid input";break;case P.invalid_intersection_types:r="Intersection results could not be merged";break;case P.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case P.not_finite:r="Number must be finite";break;default:r=t.defaultError,De.assertNever(e)}return{message:r}};let k2=La;function Kh(){return k2}const Yh=e=>{const{data:t,path:r,errorMaps:o,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let c="";const u=o.filter(l=>!!l).slice().reverse();for(const l of u)c=l(a,{data:t,defaultError:c}).message;return{...i,path:s,message:c}};function V(e,t){const r=Kh(),o=Yh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===La?void 0:La].filter(i=>!!i)});e.common.issues.push(o)}class Ht{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,r){const o=[];for(const i of r){if("aborted"===i.status)return ie;"dirty"===i.status&&t.dirty(),o.push(i.value)}return{status:t.value,value:o}}static mergeObjectAsync(t,r){return U(function*(){const o=[];for(const i of r){const s=yield i.key,a=yield i.value;o.push({key:s,value:a})}return Ht.mergeObjectSync(t,o)})()}static mergeObjectSync(t,r){const o={};for(const i of r){const{key:s,value:a}=i;if("aborted"===s.status||"aborted"===a.status)return ie;"dirty"===s.status&&t.dirty(),"dirty"===a.status&&t.dirty(),"__proto__"!==s.value&&(typeof a.value<"u"||i.alwaysSet)&&(o[s.value]=a.value)}return{status:t.value,value:o}}}const ie=Object.freeze({status:"aborted"}),Fa=e=>({status:"dirty",value:e}),tn=e=>({status:"valid",value:e}),$w=e=>"aborted"===e.status,Vw=e=>"dirty"===e.status,rl=e=>"valid"===e.status,ol=e=>typeof Promise<"u"&&e instanceof Promise;function Qh(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)}function P2(e,t,r,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError;var il,sl,Y=function(e){return e.errToObj=t=>"string"==typeof t?{message:t}:t||{},e.toString=t=>"string"==typeof t?t:t?.message,e}(Y||{});class jr{constructor(t,r,o,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=o,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const L2=(e,t)=>{if(rl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new po(e.common.issues);return this._error=r,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:o,description:i}=e;if(t&&(r||o))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(a,c)=>{var u,l;const{message:d}=e;return"invalid_enum_value"===a.code?{message:d??c.defaultError}:typeof c.data>"u"?{message:null!==(u=d??o)&&void 0!==u?u:c.defaultError}:"invalid_type"!==a.code?{message:c.defaultError}:{message:null!==(l=d??r)&&void 0!==l?l:c.defaultError}},description:i}}class me{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ti(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ti(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ht,ctx:{common:t.parent.common,data:t.data,parsedType:ti(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ol(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const o=this.safeParse(t,r);if(o.success)return o.data;throw o.error}safeParse(t,r){var o;const i={common:{issues:[],async:null!==(o=r?.async)&&void 0!==o&&o,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ti(t)},s=this._parseSync({data:t,path:i.path,parent:i});return L2(i,s)}parseAsync(t,r){var o=this;return U(function*(){const i=yield o.safeParseAsync(t,r);if(i.success)return i.data;throw i.error})()}safeParseAsync(t,r){var o=this;return U(function*(){const i={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:o._def.errorMap,parent:null,data:t,parsedType:ti(t)},s=o._parse({data:t,path:i.path,parent:i}),a=yield ol(s)?s:Promise.resolve(s);return L2(i,a)})()}refine(t,r){const o=i=>"string"==typeof r||typeof r>"u"?{message:r}:"function"==typeof r?r(i):r;return this._refinement((i,s)=>{const a=t(i),c=()=>s.addIssue({code:P.custom,...o(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>!!u||(c(),!1)):!!a||(c(),!1)})}refinement(t,r){return this._refinement((o,i)=>!!t(o)||(i.addIssue("function"==typeof r?r(o,i):r),!1))}_refinement(t){return new Zi({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ri.create(this,this._def)}nullable(){return Va.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cl.create(this,this._def)}promise(){return tp.create(this,this._def)}or(t){return Yw.create([this,t],this._def)}and(t){return Jw.create(this,t,this._def)}transform(t){return new Zi({...fe(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r="function"==typeof t?t:()=>t;return new tb({...fe(this._def),innerType:this,defaultValue:r,typeName:se.ZodDefault})}brand(){return new rb({typeName:se.ZodBranded,type:this,...fe(this._def)})}catch(t){const r="function"==typeof t?t:()=>t;return new nb({...fe(this._def),innerType:this,catchValue:r,typeName:se.ZodCatch})}describe(t){return new(0,this.constructor)({...this._def,description:t})}pipe(t){return dl.create(this,t)}readonly(){return ob.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const SK=/^c[^\s-]{8,}$/i,IK=/^[0-9a-z]+$/,xK=/^[0-9A-HJKMNP-TV-Z]{26}$/,TK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AK=/^[a-z0-9_-]{21}$/i,MK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Hw;const OK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kK=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,PK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,F2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LK=new RegExp(`^${F2}$`);function B2(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function FK(e){return new RegExp(`^${B2(e)}$`)}function U2(e){let t=`${F2}T${B2(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function BK(e,t){return!(("v4"!==t&&t||!OK.test(e))&&("v6"!==t&&t||!kK.test(e)))}let Jh=(()=>{class e extends me{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==z.string){const a=this._getOrReturnCtx(r);return V(a,{code:P.invalid_type,expected:z.string,received:a.parsedType}),ie}const i=new Ht;let s;for(const a of this._def.checks)if("min"===a.kind)r.data.length<a.value&&(s=this._getOrReturnCtx(r,s),V(s,{code:P.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("max"===a.kind)r.data.length>a.value&&(s=this._getOrReturnCtx(r,s),V(s,{code:P.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("length"===a.kind){const c=r.data.length>a.value,u=r.data.length<a.value;(c||u)&&(s=this._getOrReturnCtx(r,s),c?V(s,{code:P.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&V(s,{code:P.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if("email"===a.kind)NK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"email",code:P.invalid_string,message:a.message}),i.dirty());else if("emoji"===a.kind)Hw||(Hw=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Hw.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"emoji",code:P.invalid_string,message:a.message}),i.dirty());else if("uuid"===a.kind)TK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"uuid",code:P.invalid_string,message:a.message}),i.dirty());else if("nanoid"===a.kind)AK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"nanoid",code:P.invalid_string,message:a.message}),i.dirty());else if("cuid"===a.kind)SK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"cuid",code:P.invalid_string,message:a.message}),i.dirty());else if("cuid2"===a.kind)IK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"cuid2",code:P.invalid_string,message:a.message}),i.dirty());else if("ulid"===a.kind)xK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"ulid",code:P.invalid_string,message:a.message}),i.dirty());else if("url"===a.kind)try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),V(s,{validation:"url",code:P.invalid_string,message:a.message}),i.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"regex",code:P.invalid_string,message:a.message}),i.dirty())):"trim"===a.kind?r.data=r.data.trim():"includes"===a.kind?r.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(r,s),V(s,{code:P.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):"toLowerCase"===a.kind?r.data=r.data.toLowerCase():"toUpperCase"===a.kind?r.data=r.data.toUpperCase():"startsWith"===a.kind?r.data.startsWith(a.value)||(s=this._getOrReturnCtx(r,s),V(s,{code:P.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):"endsWith"===a.kind?r.data.endsWith(a.value)||(s=this._getOrReturnCtx(r,s),V(s,{code:P.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):"datetime"===a.kind?U2(a).test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{code:P.invalid_string,validation:"datetime",message:a.message}),i.dirty()):"date"===a.kind?LK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{code:P.invalid_string,validation:"date",message:a.message}),i.dirty()):"time"===a.kind?FK(a).test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{code:P.invalid_string,validation:"time",message:a.message}),i.dirty()):"duration"===a.kind?MK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"duration",code:P.invalid_string,message:a.message}),i.dirty()):"ip"===a.kind?BK(r.data,a.version)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"ip",code:P.invalid_string,message:a.message}),i.dirty()):"base64"===a.kind?PK.test(r.data)||(s=this._getOrReturnCtx(r,s),V(s,{validation:"base64",code:P.invalid_string,message:a.message}),i.dirty()):De.assertNever(a);return{status:i.value,value:r.data}}_regex(r,o,i){return this.refinement(s=>r.test(s),{validation:o,code:P.invalid_string,...Y.errToObj(i)})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Y.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Y.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Y.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Y.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Y.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Y.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Y.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Y.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Y.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Y.errToObj(r)})}datetime(r){var o,i;return this._addCheck("string"==typeof r?{kind:"datetime",precision:null,offset:!1,local:!1,message:r}:{kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:null!==(o=r?.offset)&&void 0!==o&&o,local:null!==(i=r?.local)&&void 0!==i&&i,...Y.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return this._addCheck("string"==typeof r?{kind:"time",precision:null,message:r}:{kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...Y.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...Y.errToObj(r)})}regex(r,o){return this._addCheck({kind:"regex",regex:r,...Y.errToObj(o)})}includes(r,o){return this._addCheck({kind:"includes",value:r,position:o?.position,...Y.errToObj(o?.message)})}startsWith(r,o){return this._addCheck({kind:"startsWith",value:r,...Y.errToObj(o)})}endsWith(r,o){return this._addCheck({kind:"endsWith",value:r,...Y.errToObj(o)})}min(r,o){return this._addCheck({kind:"min",value:r,...Y.errToObj(o)})}max(r,o){return this._addCheck({kind:"max",value:r,...Y.errToObj(o)})}length(r,o){return this._addCheck({kind:"length",value:r,...Y.errToObj(o)})}nonempty(r){return this.min(1,Y.errToObj(r))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>"datetime"===r.kind)}get isDate(){return!!this._def.checks.find(r=>"date"===r.kind)}get isTime(){return!!this._def.checks.find(r=>"time"===r.kind)}get isDuration(){return!!this._def.checks.find(r=>"duration"===r.kind)}get isEmail(){return!!this._def.checks.find(r=>"email"===r.kind)}get isURL(){return!!this._def.checks.find(r=>"url"===r.kind)}get isEmoji(){return!!this._def.checks.find(r=>"emoji"===r.kind)}get isUUID(){return!!this._def.checks.find(r=>"uuid"===r.kind)}get isNANOID(){return!!this._def.checks.find(r=>"nanoid"===r.kind)}get isCUID(){return!!this._def.checks.find(r=>"cuid"===r.kind)}get isCUID2(){return!!this._def.checks.find(r=>"cuid2"===r.kind)}get isULID(){return!!this._def.checks.find(r=>"ulid"===r.kind)}get isIP(){return!!this._def.checks.find(r=>"ip"===r.kind)}get isBase64(){return!!this._def.checks.find(r=>"base64"===r.kind)}get minLength(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return r}get maxLength(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return r}}return e.create=t=>{var r;return new e({checks:[],typeName:se.ZodString,coerce:null!==(r=t?.coerce)&&void 0!==r&&r,...fe(t)})},e})();function UK(e,t){const r=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,i=r>o?r:o;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}let zw=(()=>{class e extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==z.number){const a=this._getOrReturnCtx(r);return V(a,{code:P.invalid_type,expected:z.number,received:a.parsedType}),ie}let i;const s=new Ht;for(const a of this._def.checks)"int"===a.kind?De.isInteger(r.data)||(i=this._getOrReturnCtx(r,i),V(i,{code:P.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):"min"===a.kind?(a.inclusive?r.data<a.value:r.data<=a.value)&&(i=this._getOrReturnCtx(r,i),V(i,{code:P.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):"max"===a.kind?(a.inclusive?r.data>a.value:r.data>=a.value)&&(i=this._getOrReturnCtx(r,i),V(i,{code:P.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):"multipleOf"===a.kind?0!==UK(r.data,a.value)&&(i=this._getOrReturnCtx(r,i),V(i,{code:P.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):"finite"===a.kind?Number.isFinite(r.data)||(i=this._getOrReturnCtx(r,i),V(i,{code:P.not_finite,message:a.message}),s.dirty()):De.assertNever(a);return{status:s.value,value:r.data}}gte(r,o){return this.setLimit("min",r,!0,Y.toString(o))}gt(r,o){return this.setLimit("min",r,!1,Y.toString(o))}lte(r,o){return this.setLimit("max",r,!0,Y.toString(o))}lt(r,o){return this.setLimit("max",r,!1,Y.toString(o))}setLimit(r,o,i,s){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:o,inclusive:i,message:Y.toString(s)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Y.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(r)})}multipleOf(r,o){return this._addCheck({kind:"multipleOf",value:r,message:Y.toString(o)})}finite(r){return this._addCheck({kind:"finite",message:Y.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(r)})}get minValue(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return r}get maxValue(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return r}get isInt(){return!!this._def.checks.find(r=>"int"===r.kind||"multipleOf"===r.kind&&De.isInteger(r.value))}get isFinite(){let r=null,o=null;for(const i of this._def.checks){if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===o||i.value>o)&&(o=i.value):"max"===i.kind&&(null===r||i.value<r)&&(r=i.value)}return Number.isFinite(o)&&Number.isFinite(r)}}return e.create=t=>new e({checks:[],typeName:se.ZodNumber,coerce:t?.coerce||!1,...fe(t)}),e})(),qw=(()=>{class e extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==z.bigint){const a=this._getOrReturnCtx(r);return V(a,{code:P.invalid_type,expected:z.bigint,received:a.parsedType}),ie}let i;const s=new Ht;for(const a of this._def.checks)"min"===a.kind?(a.inclusive?r.data<a.value:r.data<=a.value)&&(i=this._getOrReturnCtx(r,i),V(i,{code:P.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):"max"===a.kind?(a.inclusive?r.data>a.value:r.data>=a.value)&&(i=this._getOrReturnCtx(r,i),V(i,{code:P.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):"multipleOf"===a.kind?r.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(r,i),V(i,{code:P.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):De.assertNever(a);return{status:s.value,value:r.data}}gte(r,o){return this.setLimit("min",r,!0,Y.toString(o))}gt(r,o){return this.setLimit("min",r,!1,Y.toString(o))}lte(r,o){return this.setLimit("max",r,!0,Y.toString(o))}lt(r,o){return this.setLimit("max",r,!1,Y.toString(o))}setLimit(r,o,i,s){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:o,inclusive:i,message:Y.toString(s)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(r)})}multipleOf(r,o){return this._addCheck({kind:"multipleOf",value:r,message:Y.toString(o)})}get minValue(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return r}get maxValue(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return r}}return e.create=t=>{var r;return new e({checks:[],typeName:se.ZodBigInt,coerce:null!==(r=t?.coerce)&&void 0!==r&&r,...fe(t)})},e})(),Gw=(()=>{class e extends me{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==z.boolean){const i=this._getOrReturnCtx(r);return V(i,{code:P.invalid_type,expected:z.boolean,received:i.parsedType}),ie}return tn(r.data)}}return e.create=t=>new e({typeName:se.ZodBoolean,coerce:t?.coerce||!1,...fe(t)}),e})(),Ww=(()=>{class e extends me{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==z.date){const a=this._getOrReturnCtx(r);return V(a,{code:P.invalid_type,expected:z.date,received:a.parsedType}),ie}if(isNaN(r.data.getTime()))return V(this._getOrReturnCtx(r),{code:P.invalid_date}),ie;const i=new Ht;let s;for(const a of this._def.checks)"min"===a.kind?r.data.getTime()<a.value&&(s=this._getOrReturnCtx(r,s),V(s,{code:P.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):"max"===a.kind?r.data.getTime()>a.value&&(s=this._getOrReturnCtx(r,s),V(s,{code:P.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):De.assertNever(a);return{status:i.value,value:new Date(r.data.getTime())}}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}min(r,o){return this._addCheck({kind:"min",value:r.getTime(),message:Y.toString(o)})}max(r,o){return this._addCheck({kind:"max",value:r.getTime(),message:Y.toString(o)})}get minDate(){let r=null;for(const o of this._def.checks)"min"===o.kind&&(null===r||o.value>r)&&(r=o.value);return null!=r?new Date(r):null}get maxDate(){let r=null;for(const o of this._def.checks)"max"===o.kind&&(null===r||o.value<r)&&(r=o.value);return null!=r?new Date(r):null}}return e.create=t=>new e({checks:[],coerce:t?.coerce||!1,typeName:se.ZodDate,...fe(t)}),e})(),j2=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.symbol){const i=this._getOrReturnCtx(r);return V(i,{code:P.invalid_type,expected:z.symbol,received:i.parsedType}),ie}return tn(r.data)}}return e.create=t=>new e({typeName:se.ZodSymbol,...fe(t)}),e})(),Zw=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.undefined){const i=this._getOrReturnCtx(r);return V(i,{code:P.invalid_type,expected:z.undefined,received:i.parsedType}),ie}return tn(r.data)}}return e.create=t=>new e({typeName:se.ZodUndefined,...fe(t)}),e})(),Kw=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.null){const i=this._getOrReturnCtx(r);return V(i,{code:P.invalid_type,expected:z.null,received:i.parsedType}),ie}return tn(r.data)}}return e.create=t=>new e({typeName:se.ZodNull,...fe(t)}),e})(),Xh=(()=>{class e extends me{constructor(){super(...arguments),this._any=!0}_parse(r){return tn(r.data)}}return e.create=t=>new e({typeName:se.ZodAny,...fe(t)}),e})(),al=(()=>{class e extends me{constructor(){super(...arguments),this._unknown=!0}_parse(r){return tn(r.data)}}return e.create=t=>new e({typeName:se.ZodUnknown,...fe(t)}),e})(),Wi=(()=>{class e extends me{_parse(r){const o=this._getOrReturnCtx(r);return V(o,{code:P.invalid_type,expected:z.never,received:o.parsedType}),ie}}return e.create=t=>new e({typeName:se.ZodNever,...fe(t)}),e})(),$2=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.undefined){const i=this._getOrReturnCtx(r);return V(i,{code:P.invalid_type,expected:z.void,received:i.parsedType}),ie}return tn(r.data)}}return e.create=t=>new e({typeName:se.ZodVoid,...fe(t)}),e})(),cl=(()=>{class e extends me{_parse(r){const{ctx:o,status:i}=this._processInputParams(r),s=this._def;if(o.parsedType!==z.array)return V(o,{code:P.invalid_type,expected:z.array,received:o.parsedType}),ie;if(null!==s.exactLength){const c=o.data.length>s.exactLength.value,u=o.data.length<s.exactLength.value;(c||u)&&(V(o,{code:c?P.too_big:P.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(null!==s.minLength&&o.data.length<s.minLength.value&&(V(o,{code:P.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),null!==s.maxLength&&o.data.length>s.maxLength.value&&(V(o,{code:P.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),o.common.async)return Promise.all([...o.data].map((c,u)=>s.type._parseAsync(new jr(o,c,o.path,u)))).then(c=>Ht.mergeArray(i,c));const a=[...o.data].map((c,u)=>s.type._parseSync(new jr(o,c,o.path,u)));return Ht.mergeArray(i,a)}get element(){return this._def.type}min(r,o){return new e({...this._def,minLength:{value:r,message:Y.toString(o)}})}max(r,o){return new e({...this._def,maxLength:{value:r,message:Y.toString(o)}})}length(r,o){return new e({...this._def,exactLength:{value:r,message:Y.toString(o)}})}nonempty(r){return this.min(1,r)}}return e.create=(t,r)=>new e({type:t,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...fe(r)}),e})();function Ba(e){if(e instanceof Ua){const t={};for(const r in e.shape)t[r]=ri.create(Ba(e.shape[r]));return new Ua({...e._def,shape:()=>t})}return e instanceof cl?new cl({...e._def,type:Ba(e.element)}):e instanceof ri?ri.create(Ba(e.unwrap())):e instanceof Va?Va.create(Ba(e.unwrap())):e instanceof ja?ja.create(e.items.map(t=>Ba(t))):e}let Ua=(()=>{class e extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const r=this._def.shape(),o=De.objectKeys(r);return this._cached={shape:r,keys:o}}_parse(r){if(this._getType(r)!==z.object){const d=this._getOrReturnCtx(r);return V(d,{code:P.invalid_type,expected:z.object,received:d.parsedType}),ie}const{status:i,ctx:s}=this._processInputParams(r),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Wi&&"strip"===this._def.unknownKeys))for(const d in s.data)c.includes(d)||u.push(d);const l=[];for(const d of c)l.push({key:{status:"valid",value:d},value:a[d]._parse(new jr(s,s.data[d],s.path,d)),alwaysSet:d in s.data});if(this._def.catchall instanceof Wi){const d=this._def.unknownKeys;if("passthrough"===d)for(const f of u)l.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if("strict"===d)u.length>0&&(V(s,{code:P.unrecognized_keys,keys:u}),i.dirty());else if("strip"!==d)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of u)l.push({key:{status:"valid",value:f},value:d._parse(new jr(s,s.data[f],s.path,f)),alwaysSet:f in s.data})}return s.common.async?Promise.resolve().then(U(function*(){const d=[];for(const f of l){const h=yield f.key,p=yield f.value;d.push({key:h,value:p,alwaysSet:f.alwaysSet})}return d})).then(d=>Ht.mergeObjectSync(i,d)):Ht.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(r){return new e({...this._def,unknownKeys:"strict",...void 0!==r?{errorMap:(o,i)=>{var s,a,c,u;const l=null!==(c=null===(a=(s=this._def).errorMap)||void 0===a?void 0:a.call(s,o,i).message)&&void 0!==c?c:i.defaultError;return"unrecognized_keys"===o.code?{message:null!==(u=Y.errToObj(r).message)&&void 0!==u?u:l}:{message:l}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(r){return new e({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new e({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:se.ZodObject})}setKey(r,o){return this.augment({[r]:o})}catchall(r){return new e({...this._def,catchall:r})}pick(r){const o={};return De.objectKeys(r).forEach(i=>{r[i]&&this.shape[i]&&(o[i]=this.shape[i])}),new e({...this._def,shape:()=>o})}omit(r){const o={};return De.objectKeys(this.shape).forEach(i=>{r[i]||(o[i]=this.shape[i])}),new e({...this._def,shape:()=>o})}deepPartial(){return Ba(this)}partial(r){const o={};return De.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];o[i]=r&&!r[i]?s:s.optional()}),new e({...this._def,shape:()=>o})}required(r){const o={};return De.objectKeys(this.shape).forEach(i=>{if(r&&!r[i])o[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof ri;)a=a._def.innerType;o[i]=a}}),new e({...this._def,shape:()=>o})}keyof(){return z2(De.objectKeys(this.shape))}}return e.create=(t,r)=>new e({shape:()=>t,unknownKeys:"strip",catchall:Wi.create(),typeName:se.ZodObject,...fe(r)}),e.strictCreate=(t,r)=>new e({shape:()=>t,unknownKeys:"strict",catchall:Wi.create(),typeName:se.ZodObject,...fe(r)}),e.lazycreate=(t,r)=>new e({shape:t,unknownKeys:"strip",catchall:Wi.create(),typeName:se.ZodObject,...fe(r)}),e})(),Yw=(()=>{class e extends me{_parse(r){const{ctx:o}=this._processInputParams(r),i=this._def.options;if(o.common.async)return Promise.all(i.map(function(){var a=U(function*(c){const u={...o,common:{...o.common,issues:[]},parent:null};return{result:yield c._parseAsync({data:o.data,path:o.path,parent:u}),ctx:u}});return function(c){return a.apply(this,arguments)}}())).then(function s(a){for(const u of a)if("valid"===u.result.status)return u.result;for(const u of a)if("dirty"===u.result.status)return o.common.issues.push(...u.ctx.common.issues),u.result;const c=a.map(u=>new po(u.ctx.common.issues));return V(o,{code:P.invalid_union,unionErrors:c}),ie});{let a;const c=[];for(const l of i){const d={...o,common:{...o.common,issues:[]},parent:null},f=l._parseSync({data:o.data,path:o.path,parent:d});if("valid"===f.status)return f;"dirty"===f.status&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&c.push(d.common.issues)}if(a)return o.common.issues.push(...a.ctx.common.issues),a.result;const u=c.map(l=>new po(l));return V(o,{code:P.invalid_union,unionErrors:u}),ie}}get options(){return this._def.options}}return e.create=(t,r)=>new e({options:t,typeName:se.ZodUnion,...fe(r)}),e})();const go=e=>e instanceof Xw?go(e.schema):e instanceof Zi?go(e.innerType()):e instanceof eb?[e.value]:e instanceof ni?e.options:e instanceof ll?De.objectValues(e.enum):e instanceof tb?go(e._def.innerType):e instanceof Zw?[void 0]:e instanceof Kw?[null]:e instanceof ri?[void 0,...go(e.unwrap())]:e instanceof Va?[null,...go(e.unwrap())]:e instanceof rb||e instanceof ob?go(e.unwrap()):e instanceof nb?go(e._def.innerType):[];class ep extends me{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==z.object)return V(r,{code:P.invalid_type,expected:z.object,received:r.parsedType}),ie;const o=this.discriminator,s=this.optionsMap.get(r.data[o]);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(V(r,{code:P.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,o){const i=new Map;for(const s of r){const a=go(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of a){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,s)}}return new ep({typeName:se.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...fe(o)})}}function Qw(e,t){const r=ti(e),o=ti(t);if(e===t)return{valid:!0,data:e};if(r===z.object&&o===z.object){const i=De.objectKeys(t),s=De.objectKeys(e).filter(c=>-1!==i.indexOf(c)),a={...e,...t};for(const c of s){const u=Qw(e[c],t[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}if(r===z.array&&o===z.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const u=Qw(e[s],t[s]);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}return r===z.date&&o===z.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let Jw=(()=>{class e extends me{_parse(r){const{status:o,ctx:i}=this._processInputParams(r),s=(a,c)=>{if($w(a)||$w(c))return ie;const u=Qw(a.value,c.value);return u.valid?((Vw(a)||Vw(c))&&o.dirty(),{status:o.value,value:u.data}):(V(i,{code:P.invalid_intersection_types}),ie)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}return e.create=(t,r,o)=>new e({left:t,right:r,typeName:se.ZodIntersection,...fe(o)}),e})(),ja=(()=>{class e extends me{_parse(r){const{status:o,ctx:i}=this._processInputParams(r);if(i.parsedType!==z.array)return V(i,{code:P.invalid_type,expected:z.array,received:i.parsedType}),ie;if(i.data.length<this._def.items.length)return V(i,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&i.data.length>this._def.items.length&&(V(i,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const a=[...i.data].map((c,u)=>{const l=this._def.items[u]||this._def.rest;return l?l._parse(new jr(i,c,i.path,u)):null}).filter(c=>!!c);return i.common.async?Promise.all(a).then(c=>Ht.mergeArray(o,c)):Ht.mergeArray(o,a)}get items(){return this._def.items}rest(r){return new e({...this._def,rest:r})}}return e.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new e({items:t,typeName:se.ZodTuple,rest:null,...fe(r)})},e})();class ul extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==z.object)return V(o,{code:P.invalid_type,expected:z.object,received:o.parsedType}),ie;const i=[],s=this._def.keyType,a=this._def.valueType;for(const c in o.data)i.push({key:s._parse(new jr(o,c,o.path,c)),value:a._parse(new jr(o,o.data[c],o.path,c)),alwaysSet:c in o.data});return o.common.async?Ht.mergeObjectAsync(r,i):Ht.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,o){return new ul(r instanceof me?{keyType:t,valueType:r,typeName:se.ZodRecord,...fe(o)}:{keyType:Jh.create(),valueType:t,typeName:se.ZodRecord,...fe(r)})}}let V2=(()=>{class e extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:o,ctx:i}=this._processInputParams(r);if(i.parsedType!==z.map)return V(i,{code:P.invalid_type,expected:z.map,received:i.parsedType}),ie;const s=this._def.keyType,a=this._def.valueType,c=[...i.data.entries()].map(([u,l],d)=>({key:s._parse(new jr(i,u,i.path,[d,"key"])),value:a._parse(new jr(i,l,i.path,[d,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(U(function*(){for(const l of c){const d=yield l.key,f=yield l.value;if("aborted"===d.status||"aborted"===f.status)return ie;("dirty"===d.status||"dirty"===f.status)&&o.dirty(),u.set(d.value,f.value)}return{status:o.value,value:u}}))}{const u=new Map;for(const l of c){const d=l.key,f=l.value;if("aborted"===d.status||"aborted"===f.status)return ie;("dirty"===d.status||"dirty"===f.status)&&o.dirty(),u.set(d.value,f.value)}return{status:o.value,value:u}}}}return e.create=(t,r,o)=>new e({valueType:r,keyType:t,typeName:se.ZodMap,...fe(o)}),e})(),H2=(()=>{class e extends me{_parse(r){const{status:o,ctx:i}=this._processInputParams(r);if(i.parsedType!==z.set)return V(i,{code:P.invalid_type,expected:z.set,received:i.parsedType}),ie;const s=this._def;null!==s.minSize&&i.data.size<s.minSize.value&&(V(i,{code:P.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),o.dirty()),null!==s.maxSize&&i.data.size>s.maxSize.value&&(V(i,{code:P.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),o.dirty());const a=this._def.valueType;function c(l){const d=new Set;for(const f of l){if("aborted"===f.status)return ie;"dirty"===f.status&&o.dirty(),d.add(f.value)}return{status:o.value,value:d}}const u=[...i.data.values()].map((l,d)=>a._parse(new jr(i,l,i.path,d)));return i.common.async?Promise.all(u).then(l=>c(l)):c(u)}min(r,o){return new e({...this._def,minSize:{value:r,message:Y.toString(o)}})}max(r,o){return new e({...this._def,maxSize:{value:r,message:Y.toString(o)}})}size(r,o){return this.min(r,o).max(r,o)}nonempty(r){return this.min(1,r)}}return e.create=(t,r)=>new e({valueType:t,minSize:null,maxSize:null,typeName:se.ZodSet,...fe(r)}),e})();class $a extends me{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==z.function)return V(r,{code:P.invalid_type,expected:z.function,received:r.parsedType}),ie;function o(c,u){return Yh({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Kh(),La].filter(l=>!!l),issueData:{code:P.invalid_arguments,argumentsError:u}})}function i(c,u){return Yh({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Kh(),La].filter(l=>!!l),issueData:{code:P.invalid_return_type,returnTypeError:u}})}const s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof tp){const c=this;return tn(U(function*(...u){const l=new po([]),d=yield c._def.args.parseAsync(u,s).catch(p=>{throw l.addIssue(o(u,p)),l}),f=yield Reflect.apply(a,this,d);return yield c._def.returns._def.type.parseAsync(f,s).catch(p=>{throw l.addIssue(i(f,p)),l})}))}{const c=this;return tn(function(...u){const l=c._def.args.safeParse(u,s);if(!l.success)throw new po([o(u,l.error)]);const d=Reflect.apply(a,this,l.data),f=c._def.returns.safeParse(d,s);if(!f.success)throw new po([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new $a({...this._def,args:ja.create(t).rest(al.create())})}returns(t){return new $a({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,o){return new $a({args:t||ja.create([]).rest(al.create()),returns:r||al.create(),typeName:se.ZodFunction,...fe(o)})}}let Xw=(()=>{class e extends me{get schema(){return this._def.getter()}_parse(r){const{ctx:o}=this._processInputParams(r);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}return e.create=(t,r)=>new e({getter:t,typeName:se.ZodLazy,...fe(r)}),e})(),eb=(()=>{class e extends me{_parse(r){if(r.data!==this._def.value){const o=this._getOrReturnCtx(r);return V(o,{received:o.data,code:P.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:r.data}}get value(){return this._def.value}}return e.create=(t,r)=>new e({value:t,typeName:se.ZodLiteral,...fe(r)}),e})();function z2(e,t){return new ni({values:e,typeName:se.ZodEnum,...fe(t)})}class ni extends me{constructor(){super(...arguments),il.set(this,void 0)}_parse(t){if("string"!=typeof t.data){const r=this._getOrReturnCtx(t);return V(r,{expected:De.joinValues(this._def.values),received:r.parsedType,code:P.invalid_type}),ie}if(Qh(this,il,"f")||P2(this,il,new Set(this._def.values),"f"),!Qh(this,il,"f").has(t.data)){const r=this._getOrReturnCtx(t);return V(r,{received:r.data,code:P.invalid_enum_value,options:this._def.values}),ie}return tn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ni.create(t,{...this._def,...r})}exclude(t,r=this._def){return ni.create(this.options.filter(o=>!t.includes(o)),{...this._def,...r})}}il=new WeakMap,ni.create=z2;class ll extends me{constructor(){super(...arguments),sl.set(this,void 0)}_parse(t){const r=De.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==z.string&&o.parsedType!==z.number){const i=De.objectValues(r);return V(o,{expected:De.joinValues(i),received:o.parsedType,code:P.invalid_type}),ie}if(Qh(this,sl,"f")||P2(this,sl,new Set(De.getValidEnumValues(this._def.values)),"f"),!Qh(this,sl,"f").has(t.data)){const i=De.objectValues(r);return V(o,{received:o.data,code:P.invalid_enum_value,options:i}),ie}return tn(t.data)}get enum(){return this._def.values}}sl=new WeakMap,ll.create=(e,t)=>new ll({values:e,typeName:se.ZodNativeEnum,...fe(t)});let tp=(()=>{class e extends me{unwrap(){return this._def.type}_parse(r){const{ctx:o}=this._processInputParams(r);if(o.parsedType!==z.promise&&!1===o.common.async)return V(o,{code:P.invalid_type,expected:z.promise,received:o.parsedType}),ie;const i=o.parsedType===z.promise?o.data:Promise.resolve(o.data);return tn(i.then(s=>this._def.type.parseAsync(s,{path:o.path,errorMap:o.common.contextualErrorMap})))}}return e.create=(t,r)=>new e({type:t,typeName:se.ZodPromise,...fe(r)}),e})(),Zi=(()=>{class e extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){var o=this;const{status:i,ctx:s}=this._processInputParams(r),a=this._def.effect||null,c={addIssue:u=>{V(s,u),u.fatal?i.abort():i.dirty()},get path(){return s.path}};if(c.addIssue=c.addIssue.bind(c),"preprocess"===a.type){const u=a.transform(s.data,c);if(s.common.async)return Promise.resolve(u).then(function(){var l=U(function*(d){if("aborted"===i.value)return ie;const f=yield o._def.schema._parseAsync({data:d,path:s.path,parent:s});return"aborted"===f.status?ie:"dirty"===f.status||"dirty"===i.value?Fa(f.value):f});return function(d){return l.apply(this,arguments)}}());{if("aborted"===i.value)return ie;const l=this._def.schema._parseSync({data:u,path:s.path,parent:s});return"aborted"===l.status?ie:"dirty"===l.status||"dirty"===i.value?Fa(l.value):l}}if("refinement"===a.type){const u=l=>{const d=a.refinement(l,c);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(!1===s.common.async){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===l.status?ie:("dirty"===l.status&&i.dirty(),u(l.value),{status:i.value,value:l.value})}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>"aborted"===l.status?ie:("dirty"===l.status&&i.dirty(),u(l.value).then(()=>({status:i.value,value:l.value}))))}if("transform"===a.type){if(!1===s.common.async){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!rl(u))return u;const l=a.transform(u.value,c);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:l}}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>rl(u)?Promise.resolve(a.transform(u.value,c)).then(l=>({status:i.value,value:l})):u)}De.assertNever(a)}}return e.create=(t,r,o)=>new e({schema:t,typeName:se.ZodEffects,effect:r,...fe(o)}),e.createWithPreprocess=(t,r,o)=>new e({schema:r,effect:{type:"preprocess",transform:t},typeName:se.ZodEffects,...fe(o)}),e})(),ri=(()=>{class e extends me{_parse(r){return this._getType(r)===z.undefined?tn(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodOptional,...fe(r)}),e})(),Va=(()=>{class e extends me{_parse(r){return this._getType(r)===z.null?tn(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodNullable,...fe(r)}),e})(),tb=(()=>{class e extends me{_parse(r){const{ctx:o}=this._processInputParams(r);let i=o.data;return o.parsedType===z.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodDefault,defaultValue:"function"==typeof r.default?r.default:()=>r.default,...fe(r)}),e})(),nb=(()=>{class e extends me{_parse(r){const{ctx:o}=this._processInputParams(r),i={...o,common:{...o.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return ol(s)?s.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new po(i.common.issues)},input:i.data})})):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new po(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodCatch,catchValue:"function"==typeof r.catch?r.catch:()=>r.catch,...fe(r)}),e})(),q2=(()=>{class e extends me{_parse(r){if(this._getType(r)!==z.nan){const i=this._getOrReturnCtx(r);return V(i,{code:P.invalid_type,expected:z.nan,received:i.parsedType}),ie}return{status:"valid",value:r.data}}}return e.create=t=>new e({typeName:se.ZodNaN,...fe(t)}),e})();const jK=Symbol("zod_brand");class rb extends me{_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.type._parse({data:r.data,path:r.path,parent:r})}unwrap(){return this._def.type}}class dl extends me{_parse(t){var r=this;const{status:o,ctx:i}=this._processInputParams(t);if(i.common.async)return function(){var a=U(function*(){const c=yield r._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===c.status?ie:"dirty"===c.status?(o.dirty(),Fa(c.value)):r._def.out._parseAsync({data:c.value,path:i.path,parent:i})});return function(){return a.apply(this,arguments)}}()();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===s.status?ie:"dirty"===s.status?(o.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(t,r){return new dl({in:t,out:r,typeName:se.ZodPipeline})}}let ob=(()=>{class e extends me{_parse(r){const o=this._def.innerType._parse(r),i=s=>(rl(s)&&(s.value=Object.freeze(s.value)),s);return ol(o)?o.then(s=>i(s)):i(o)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:se.ZodReadonly,...fe(r)}),e})();function G2(e,t={},r){return e?Xh.create().superRefine((o,i)=>{var s,a;if(!e(o)){const c="function"==typeof t?t(o):"string"==typeof t?{message:t}:t,u=null===(a=null!==(s=c.fatal)&&void 0!==s?s:r)||void 0===a||a;i.addIssue({code:"custom",..."string"==typeof c?{message:c}:c,fatal:u})}}):Xh.create()}const $K={object:Ua.lazycreate};var se=function(e){return e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly",e}(se||{});const W2=Jh.create,Z2=zw.create,K2=Gw.create,Y2=Zi.create;var j=Object.freeze({__proto__:null,defaultErrorMap:La,setErrorMap:function DK(e){k2=e},getErrorMap:Kh,makeIssue:Yh,EMPTY_PATH:[],addIssueToContext:V,ParseStatus:Ht,INVALID:ie,DIRTY:Fa,OK:tn,isAborted:$w,isDirty:Vw,isValid:rl,isAsync:ol,get util(){return De},get objectUtil(){return O2},ZodParsedType:z,getParsedType:ti,ZodType:me,datetimeRegex:U2,ZodString:Jh,ZodNumber:zw,ZodBigInt:qw,ZodBoolean:Gw,ZodDate:Ww,ZodSymbol:j2,ZodUndefined:Zw,ZodNull:Kw,ZodAny:Xh,ZodUnknown:al,ZodNever:Wi,ZodVoid:$2,ZodArray:cl,ZodObject:Ua,ZodUnion:Yw,ZodDiscriminatedUnion:ep,ZodIntersection:Jw,ZodTuple:ja,ZodRecord:ul,ZodMap:V2,ZodSet:H2,ZodFunction:$a,ZodLazy:Xw,ZodLiteral:eb,ZodEnum:ni,ZodNativeEnum:ll,ZodPromise:tp,ZodEffects:Zi,ZodTransformer:Zi,ZodOptional:ri,ZodNullable:Va,ZodDefault:tb,ZodCatch:nb,ZodNaN:q2,BRAND:jK,ZodBranded:rb,ZodPipeline:dl,ZodReadonly:ob,custom:G2,Schema:me,ZodSchema:me,late:$K,get ZodFirstPartyTypeKind(){return se},coerce:{string:e=>Jh.create({...e,coerce:!0}),number:e=>zw.create({...e,coerce:!0}),boolean:e=>Gw.create({...e,coerce:!0}),bigint:e=>qw.create({...e,coerce:!0}),date:e=>Ww.create({...e,coerce:!0})},any:Xh.create,array:cl.create,bigint:qw.create,boolean:K2,date:Ww.create,discriminatedUnion:ep.create,effect:Y2,enum:ni.create,function:$a.create,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>G2(r=>r instanceof e,t),intersection:Jw.create,lazy:Xw.create,literal:eb.create,map:V2.create,nan:q2.create,nativeEnum:ll.create,never:Wi.create,null:Kw.create,nullable:Va.create,number:Z2,object:Ua.create,oboolean:()=>K2().optional(),onumber:()=>Z2().optional(),optional:ri.create,ostring:()=>W2().optional(),pipeline:dl.create,preprocess:Zi.createWithPreprocess,promise:tp.create,record:ul.create,set:H2.create,strictObject:Ua.strictCreate,string:W2,symbol:j2.create,transformer:Y2,tuple:ja.create,undefined:Zw.create,union:Yw.create,unknown:al.create,void:$2.create,NEVER:ie,ZodIssueCode:P,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:po});class Ge{static id(){return j.string().regex(/^[0-9a-f]{64}$/)}static event(){return j.object({id:Ge.id(),kind:j.number().int().nonnegative(),pubkey:Ge.id(),tags:j.string().array().array(),content:j.string(),created_at:j.number().int().nonnegative(),sig:j.string()})}static filter(){return j.object({kinds:j.number().int().nonnegative().array().optional(),ids:Ge.id().array().optional(),authors:Ge.id().array().optional(),since:j.number().int().nonnegative().optional(),until:j.number().int().nonnegative().optional(),limit:j.number().int().nonnegative().optional(),search:j.string().optional()}).passthrough().transform(t=>{const r=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((o,[i,s])=>((r.includes(i)||i.startsWith("#"))&&(o[i]=s),o),{})})}static bech32(t){return j.string().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(r=>!t||r.startsWith(`${t}1`))}static clientEVENT(){return j.tuple([j.literal("EVENT"),Ge.event()])}static clientREQ(){return j.tuple([j.literal("REQ"),j.string()]).rest(Ge.filter())}static clientCOUNT(){return j.tuple([j.literal("COUNT"),j.string()]).rest(Ge.filter())}static clientCLOSE(){return j.tuple([j.literal("CLOSE"),j.string()])}static clientAUTH(){return j.tuple([j.literal("AUTH"),Ge.event()])}static clientMsg(){return j.union([Ge.clientEVENT(),Ge.clientREQ(),Ge.clientCOUNT(),Ge.clientCLOSE(),Ge.clientAUTH()])}static relayEVENT(){return j.tuple([j.literal("EVENT"),j.string(),Ge.event()])}static relayOK(){return j.tuple([j.literal("OK"),Ge.id(),j.boolean(),j.string()])}static relayEOSE(){return j.tuple([j.literal("EOSE"),j.string()])}static relayNOTICE(){return j.tuple([j.literal("NOTICE"),j.string()])}static relayCLOSED(){return j.tuple([j.literal("CLOSED"),j.string(),j.string()])}static relayAUTH(){return j.tuple([j.literal("AUTH"),j.string()])}static relayCOUNT(){return j.tuple([j.literal("COUNT"),j.string(),j.object({count:j.number().int().nonnegative(),approximate:j.boolean().optional()})])}static relayMsg(){return j.union([Ge.relayEVENT(),Ge.relayOK(),Ge.relayEOSE(),Ge.relayNOTICE(),Ge.relayCLOSED(),Ge.relayAUTH(),Ge.relayCOUNT()])}static metadata(){return j.object({about:j.string().optional().catch(void 0),banner:j.string().url().optional().catch(void 0),bot:j.boolean().optional().catch(void 0),display_name:j.string().optional().catch(void 0),lud06:Ge.bech32("lnurl").optional().catch(void 0),lud16:j.string().email().optional().catch(void 0),name:j.string().optional().catch(void 0),nip05:j.string().email().optional().catch(void 0),picture:j.string().url().optional().catch(void 0),website:j.string().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return j.object({id:j.string(),method:j.string(),params:j.string().array()})}static connectResponse(){return j.object({id:j.string(),result:j.string(),error:j.string().optional()})}static json(){return j.string().transform((t,r)=>{try{return JSON.parse(t)}catch{return r.addIssue({code:j.ZodIssueCode.custom,message:"Invalid JSON"}),j.NEVER}})}}class wY{socket;subscriptions=new Map;ee=new EventTarget;constructor(t,r={}){const{auth:o,backoff:i=new vK(1e3),verifyEvent:s=Sa}=r;this.socket=new bK(t).withBuffer(new _K).withBackoff(!1===i?void 0:i).onOpen(()=>{for(const a of this.subscriptions.values())this.send(a)}).onMessage((a,c)=>{const u=Ge.json().pipe(Ge.relayMsg()).safeParse(c.data);if(!u.success)return;const l=u.data;switch(l[0]){case"EVENT":case"EOSE":case"CLOSED":if("EVENT"===l[0]&&!s(l[2]))break;"CLOSED"===l[0]&&this.subscriptions.delete(l[1]),this.ee.dispatchEvent(new CustomEvent(`sub:${l[1]}`,{detail:l}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${l[1]}`,{detail:l}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:l}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${l[1]}`,{detail:l}));break;case"AUTH":o?.(l[1]).then(d=>this.send(["AUTH",d])).catch(()=>{})}}).build()}send(t){switch(t[0]){case"REQ":this.subscriptions.set(t[1],t);break;case"CLOSE":this.subscriptions.delete(t[1]);break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}req(t,r={}){var o=this;return Zh(function*(){const{signal:i}=r,s=crypto.randomUUID(),a=o.on(`sub:${s}`,i),c=["REQ",s,...t];o.send(c);try{var d,u=!1,l=!1;try{for(var h,f=Go(a);u=!(h=yield ei(f.next())).done;u=!1){const p=h.value;if("EOSE"===p[0]&&(yield p),"CLOSED"===p[0])break;if("EVENT"===p[0]){if(!bh(t,p[2]))continue;yield p}}}catch(p){l=!0,d=p}finally{try{u&&null!=f.return&&(yield ei(f.return()))}finally{if(l)throw d}}}finally{o.send(["CLOSE",s])}})()}query(t,r){var o=this;return U(function*(){const i=new Bn,s=t.reduce((f,h)=>f+JM(h),0);if(0===s)return[];var u,a=!1,c=!1;try{for(var d,l=Go(o.req(t,r));a=!(d=yield l.next()).done;a=!1){const f=d.value;if("EOSE"===f[0])break;if("EVENT"===f[0]&&i.add(f[2]),"CLOSED"===f[0])throw new Error("Subscription closed");if(i.size>=s)break}}catch(f){c=!0,u=f}finally{try{a&&null!=l.return&&(yield l.return())}finally{if(c)throw u}}return[...i]})()}event(t,r){var o=this;return U(function*(){const i=o.once(`ok:${t.id}`,r?.signal);o.send(["EVENT",t]);const[,,s,a]=yield i;if(!s)throw new Error(a)})()}count(t,r){var o=this;return U(function*(){const i=crypto.randomUUID(),s=o.once(`count:${i}`,r?.signal);o.send(["COUNT",i,...t]);const[,,a]=yield s;return a})()}on(t,r){var o=this;return Zh(function*(){if(r?.aborted)throw o.abortError();const i=new N2(r),s=f=>i.push(f.detail);o.ee.addEventListener(t,s);try{var u,a=!1,c=!1;try{for(var d,l=Go(i);a=!(d=yield ei(l.next())).done;a=!1)yield d.value}catch(f){c=!0,u=f}finally{try{a&&null!=l.return&&(yield ei(l.return()))}finally{if(c)throw u}}}finally{o.ee.removeEventListener(t,s)}})()}once(t,r){var o=this;return U(function*(){var a,i=!1,s=!1;try{for(var u,c=Go(o.on(t,r));i=!(u=yield c.next()).done;i=!1)return u.value}catch(l){s=!0,a=l}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(s)throw a}}throw new Error("Unreachable")})()}abortError(){return new DOMException("The signal has been aborted","AbortError")}close(){var t=this;return U(function*(){t.socket.readyState!==WebSocket.CLOSED&&(yield new Promise(r=>{t.socket.addEventListener(je.close,r,{once:!0}),t.socket.close()}))})()}}class np extends yK{constructor(){var t;super({open:t=>new wY(t),reqRouter:(t=U(function*(r){return new Map([["ws://localhost:7777",r]])}),function(o){return t.apply(this,arguments)}),eventRouter:function(){var t=U(function*(){return["ws://localhost:7777"]});return function(){return t.apply(this,arguments)}}()})}observe(t){var r=this;console.info("[[subscribe filter]]",t);const o=new AbortController,i=new nn;return U(function*(){var c,s=!1,a=!1;try{for(var l,u=Go(r.req(t,o));s=!(l=yield u.next()).done;s=!1){const d=l.value;if("CLOSED"===d[0]){i.error(d);break}"EVENT"===d[0]&&i.next(d[2])}}catch(d){a=!0,c=d}finally{try{s&&null!=u.return&&(yield u.return())}finally{if(a)throw c}}})(),i.asObservable().pipe(gu(()=>{console.info("[[unsubscribe filter]]",t),o.abort()}))}getOpts(){return this.opts}}let Q2=(()=>{class e{constructor(r){this.npool=r}listenUserStatusUpdate(r){return console.info("observing filter:",[{kinds:[Vt.UserStatuses],"#t":["omegle"],authors:[r]}]),this.npool.observe([{kinds:[Vt.UserStatuses],"#t":["omegle"],authors:[r]}])}queryWannachatResponse(r){return console.info("quering filter:",[{kinds:[Vt.UserStatuses],"#t":["chating","omegle"],"#p":[r.pubkey],limit:1}]),this.npool.query([{kinds:[Vt.UserStatuses],"#t":["chating","omegle"],"#p":[r.pubkey],limit:1}])}listenWannachatResponse(r){return console.info("observing filter:",[{kinds:[Vt.UserStatuses],"#t":["chating","omegle"],"#p":[r.pubkey],limit:1}]),this.npool.observe([{kinds:[Vt.UserStatuses],"#t":["chating","omegle"],"#p":[r.pubkey],limit:1}])}queryChatAvailable(){var r=this;return U(function*(){const o=Math.floor((new Date).getTime()/1e3);console.info("quering filter: ",[{kinds:[Vt.UserStatuses],"#t":["wannachat","omegle"],since:o-600}]);const s=yield r.npool.query([{kinds:[Vt.UserStatuses],"#t":["wannachat","omegle"],since:o-600}]);let a=[];try{const u=sessionStorage.getItem("alwaysIgnoreWannachat");u&&(a=JSON.parse(u))}catch{}const c=s.find(u=>!a.includes(u.pubkey));return c?console.info("wanna chat found:",c):console.info("wanna chat NOT found..."),Promise.resolve(c||null)})()}static#e=this.\u0275fac=function(o){return new(o||e)(Z(np))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),J2=(()=>{class e{constructor(r,o,i,s){this.nostrEventFactory=r,this.findStrangerNostr=o,this.config=i,this.npool=s}publish(r){return this.npool.event(r)}searchStranger(r){var o=this;return U(function*(){const i=yield o.findStrangerNostr.queryChatAvailable();if(i){console.info((new Date).toLocaleString(),"inviting ",i.pubkey," to chat and listening confirmation");const s=o.listenChatingConfirmation(i,r);if(yield o.inviteToChating(r,i),yield s)return Promise.resolve(qo.fromPubkey(i.pubkey));{let c=sessionStorage.getItem("alwaysIgnoreWannachat");c||(c="[]");try{const u=JSON.parse(c);u.push(i.pubkey),sessionStorage.setItem("alwaysIgnoreWannachat",JSON.stringify(u))}catch{}return yield o.deleteUserHistory(r),o.searchStranger(r)}}return yield o.publishWannaChatStatus(r),new Promise(s=>{const a=o.findStrangerNostr.listenWannachatResponse(r).pipe(function AW(e,t){const{first:r,each:o,with:i=MW,scheduler:s=t??IW,meta:a=null}=function xW(e){return e instanceof Date&&!isNaN(e)}(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==r&&null==o)throw new TypeError("No timeout provided.");return Dt((c,u)=>{let l,d,f=null,h=0;const p=g=>{d=Cr(u,s,()=>{try{l.unsubscribe(),Dr(i({meta:a,lastValue:f,seen:h})).subscribe(u)}catch(m){u.error(m)}},g)};l=c.subscribe(dt(u,g=>{d?.unsubscribe(),h++,u.next(f=g),o>0&&p(o)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!h&&p(null!=r?"number"==typeof r?r:+r-s.now():o)})}(1e3*o.config.WANNACHAT_STATUS_DEFAULT_TIMEOUT_IN_SECONDS),Ni(c=>(a.unsubscribe(),o.deleteUserHistory(r).then(()=>o.searchStranger(r).then(u=>s(u))),hu(()=>new c)))).subscribe({next:c=>{o.replyChatInvitation(c,r).then(u=>u&&s(u)),a.unsubscribe()},error:c=>console.error(c)})})})()}replyChatInvitation(r,o){var i=this;return U(function*(){return console.info((new Date).toLocaleString(),"event was listen: ",r),console.info((new Date).toLocaleString(),"it must be a chating invitation from ",r.pubkey,", repling invitation..."),yield i.inviteToChating(o,r),console.info((new Date).toLocaleString(),"replied... resolving... "),console.info((new Date).toLocaleString(),"[searchStranger] unsubscribe"),Promise.resolve(qo.fromPubkey(r.pubkey))})()}isChatingToMe(r,o){console.info((new Date).toLocaleString(),"is wannachat reply with chating? event: ",r);const i=r.tags.filter(([s])=>"p"===s).find(([,s])=>s===o.pubkey)||[];return console.info((new Date).toLocaleString(),"is wannachat reply with chating?",i.length?"yes":"no"),!!i.length}inviteToChating(r,o){const i=qo.fromPubkey(o.pubkey);return this.publishChatInviteStatus(r,i)}listenChatingConfirmation(r,o){var i=this;return U(function*(){return new Promise(s=>{console.info((new Date).toLocaleString(),"listening status update from: ",r.pubkey);const a=i.findStrangerNostr.listenUserStatusUpdate(r.pubkey).subscribe(c=>{c.id!==r.id||"wannachat"!==c.content?(a.unsubscribe(),console.info((new Date).toLocaleString(),"[listenUserStatusUpdate] unsubscribe"),console.info((new Date).toLocaleString(),"stranger ",r.pubkey," update status: ",c),i.isChatingToMe(c,o)?(console.info((new Date).toLocaleString(),'is "chating" status confirmed, resolved with true'),s(!0)):(console.info((new Date).toLocaleString(),"unexpected status was given, resolved with false, event: ",c),s(!1))):console.info((new Date).toLocaleString(),"stranger #wannachat status was listen, ignoring and waiting new status...")})})})()}publishWannaChatStatus(r){var o=this;return U(function*(){const i=o.nostrEventFactory.createWannaChatUserStatus(r);return console.info((new Date).toLocaleString(),"updating my status to: ",i),yield o.npool.event(i),Promise.resolve(i)})()}publishChatInviteStatus(r,o){var i=this;return U(function*(){const s=i.nostrEventFactory.createChatingUserStatus(r,o);return console.info((new Date).toLocaleString(),"updating my status to: ",s),yield i.npool.event(s),Promise.resolve(s)})()}deleteUserHistory(r){var o=this;return U(function*(){const i=o.nostrEventFactory.deleteUserHistory(r);console.info((new Date).toLocaleString(),"deleting user history"),yield o.npool.event(i)})()}connect(){return qo.create()}disconnect(r){var o=this;return U(function*(){const i=o.nostrEventFactory.createDisconnectedUserStatus(r);return console.info((new Date).toLocaleString(),"updating my status to: ",i),yield o.deleteUserHistory(r),yield o.npool.event(i),Promise.resolve(i)})()}static#e=this.\u0275fac=function(o){return new(o||e)(Z(ow),Z(Q2),Z(rw),Z(np))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),X2=(()=>{class e{constructor(r,o){this.nostrEventFactory=r,this.npool=o,this.UPDATE_COUNT_TIMEOUT=12e4}openEncryptedDirectMessage(r,o,i){return U(function*(){return Vu.decrypt(r.secretKey,o.pubkey,i.content)})()}listenMessages(r,o){return this.npool.observe([{kinds:[Vt.EncryptedDirectMessage],authors:[o.pubkey],"#p":[r.pubkey]}])}listenStrangerStatus(r){return this.npool.observe([{kinds:[Vt.UserStatuses],authors:[r.pubkey]}])}listenCurrenOnlineUsers(){const r=new nn;let o=!1;const i=()=>{o||(o=!0,console.info("user count requested"),this.npool.query([{kinds:[Vt.UserStatuses],"#t":["omegle"]}]).then(a=>{const c=new Set;a.forEach(l=>c.add(l.pubkey));const u=[...c].length;console.info("active users counted: ",u),r.next(u),o=!1}).catch(a=>{console.error("user count lauched error",a),o=!1,clearInterval(s)}))},s=setInterval(i,this.UPDATE_COUNT_TIMEOUT);return i(),r.asObservable().pipe(gu(()=>clearInterval(s)))}sendMessage(r,o,i){var s=this;return U(function*(){yield s.stopTyping(r);const a=yield s.nostrEventFactory.createEncryptedDirectMessage(r,o,i);return s.npool.event(a)})()}isTyping(r){const o=this.nostrEventFactory.createTypingUserStatus(r);return this.npool.event(o)}stopTyping(r){const o=this.nostrEventFactory.cleanUserStatus(r);return this.npool.event(o)}static#e=this.\u0275fac=function(o){return new(o||e)(Z(ow),Z(np))};static#t=this.\u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),bY=(()=>{class e{constructor(){this.authorTypes={[no.STRANGE]:"Stranger",[no.YOU]:"You"}}transform(r){return this.authorTypes[r]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275pipe=qt({name:"author",type:e,pure:!0})}return e})();function _Y(e,t){1&e&&(at(0,"div",18),dn(1," You're now chatting with a random stranger. "),Ct())}function EY(e,t){1&e&&(at(0,"div",18),dn(1," Looking for someone you can chat with. "),Ct())}function DY(e,t){if(1&e&&(at(0,"div",19)(1,"span"),dn(2),function JI(e,t){const r=be();let o;const i=e+le;r.firstCreatePass?(o=function $U(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[i]=o,o.onDestroy&&(r.destroyHooks??=[]).push(i,o.onDestroy)):o=r.data[i];const s=o.factory||(o.factory=ci(o.type)),c=rn(ne);try{const u=Kl(!1),l=s();return Kl(u),function lU(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,T(),i,l),l}finally{rn(c)}}(3,"author"),Ct(),at(4,"span",20),dn(5),Ct()()),2&e){const r=t.$implicit,o=xi();Tt(),Jm("authorStranger",r.author===o.AUTHOR_STRANGE)("authorYou",r.author===o.AUTHOR_YOU),Tt(),tf("",XI(3,6,r.author),": "),Tt(3),ef(r.text)}}function CY(e,t){1&e&&(at(0,"div",18),dn(1," Stranger is typing... "),Ct())}function SY(e,t){1&e&&(at(0,"div",18),dn(1,"Stranger has disconnected."),Ct())}function IY(e,t){1&e&&(at(0,"div",18),dn(1,"You have disconnected."),Ct())}function xY(e,t){if(1&e&&(Wd(0),xo(1,SY,2,0,"div",9)(2,IY,2,0,"div",9),Zd()),2&e){const r=xi();Tt(),Nn("ngIf",r.whoDisconnected===r.AUTHOR_STRANGE),Tt(),Nn("ngIf",r.whoDisconnected===r.AUTHOR_YOU)}}function TY(e,t){if(1&e){const r=Gc();at(0,"button",21),Yr("click",function(){return gi(r),mi(xi().findStranger())}),dn(1," Start "),Ct()}if(2&e){const r=xi();Ls("disabled",r.currentState===r.STATE_SEARCHING_STRANGER?"disabled":null)}}function AY(e,t){if(1&e){const r=Gc();at(0,"button",22),Yr("click",function(){gi(r);const i=xi();return mi(i.currentState=i.STATE_UP_TO_DISCONNECT)}),dn(1," Stop "),Ct()}}function MY(e,t){if(1&e){const r=Gc();at(0,"button",23),Yr("click",function(){gi(r);const i=xi(),s=Xd(19);return i.disconnect(),mi(i.cleanMessageField(s))}),dn(1," Really? "),Ct()}}const NY=[{path:"chat",component:(()=>{class e{constructor(r,o){this.findStrangerProxy=r,this.talkToStrangerNostr=o,this.STATE_CONNECTED=ro.CONNECTED,this.STATE_UP_TO_DISCONNECT=ro.UP_TO_DISCONNECT,this.STATE_DISCONNECTED=ro.DISCONNECTED,this.STATE_SEARCHING_STRANGER=ro.SEARCHING_STRANGER,this.AUTHOR_STRANGE=no.STRANGE,this.AUTHOR_YOU=no.YOU,this.TYPING_TIMEOUT=2e3,this.typingTimeoutId=0,this.currentOnline=1,this.currentState=ro.DISCONNECTED,this.strangeIsTyping=!1,this.whoDisconnected=null,this.you=null,this.stranger=null,this.messages=[],this.subscriptions=new Ot}ngOnInit(){this.subscriptions.add(this.talkToStrangerNostr.listenCurrenOnlineUsers().subscribe(r=>this.currentOnline=r))}ngOnDestroy(){this.subscriptions.unsubscribe()}onBeforeUnload(){var r=this;return U(function*(){return yield r.disconnect(),!0})()}findStranger(){this.whoDisconnected=null,this.currentState=this.STATE_SEARCHING_STRANGER,this.messages=[];const r=this.you=this.findStrangerProxy.connect();console.info((new Date).toLocaleString(),"me: ",r),this.findStrangerProxy.searchStranger(this.you).then(o=>this.startConversation(r,o)).catch(o=>console.error(o))}disconnect(){return this.you?this.findStrangerProxy.disconnect(this.you).then(()=>(this.currentState=ro.DISCONNECTED,this.strangeIsTyping=!1,this.whoDisconnected||(this.whoDisconnected=no.YOU),Promise.resolve())):Promise.resolve()}startConversation(r,o){console.log("starting conversation, stranger: ",o),this.stranger=o,this.currentState=ro.CONNECTED,this.subscriptions.add(this.talkToStrangerNostr.listenMessages(r,o).subscribe({next:i=>this.addMessageFromStranger(r,o,i)})),this.subscriptions.add(this.talkToStrangerNostr.listenStrangerStatus(o).subscribe({next:i=>this.handleStrangerStatus(i)}))}addMessageFromStranger(r,o,i){this.talkToStrangerNostr.openEncryptedDirectMessage(r,o,i).then(s=>{this.messages.push({text:s,author:no.STRANGE,time:i.created_at})})}handleStrangerStatus(r){"typing"===r.content?this.strangeIsTyping=!0:"disconnected"===r.content?(this.strangeIsTyping=!1,this.whoDisconnected=no.STRANGE,this.currentState=ro.DISCONNECTED,this.disconnect()):this.strangeIsTyping=!1}sendMessage(r){const o=this.you,i=this.stranger;o&&i&&r.length&&(this.talkToStrangerNostr.sendMessage(o,i,r),this.messages.push({author:no.YOU,text:r,time:Math.floor((new Date).getTime()/1e3)}))}cleanMessageField(r){setTimeout(()=>r.value="")}onTyping(){const r=this.you;r&&(this.typingTimeoutId||this.talkToStrangerNostr.isTyping(r),clearTimeout(this.typingTimeoutId),this.typingTimeoutId=Number(setTimeout(()=>{this.talkToStrangerNostr.stopTyping(r),this.typingTimeoutId=0},this.TYPING_TIMEOUT)))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(J2),ne(X2))};static#t=this.\u0275cmp=Ol({type:e,selectors:[["omg-chat"]],hostBindings:function(o,i){1&o&&Yr("beforeunload",function(){return i.onBeforeUnload()},0,GE)},decls:23,vars:11,consts:[["conversation",""],["messageField",""],["send",""],[1,"navbar"],["src","/omeglestr/assets/logo.png","alt","logo",1,"logo"],[1,"description"],[1,"online"],[1,"main"],[1,"conversation"],["class","message",4,"ngIf"],["class","chat",4,"ngFor","ngForOf"],[4,"ngIf"],["novalidate","","autocomplete","off",1,"form"],["type","button","class","btn start bottomLeftRadius",3,"click",4,"ngIf"],["type","button","class","btn bottomLeftRadius",3,"click",4,"ngIf"],["type","button","class","btn bottomLeftRadius bold",3,"click",4,"ngIf"],["name","text",1,"textarea",3,"keydown.enter","keydown"],["type","button",1,"btn","bottomRightRadius",3,"click"],[1,"message"],[1,"chat"],[1,"text"],["type","button",1,"btn","start","bottomLeftRadius",3,"click"],["type","button",1,"btn","bottomLeftRadius",3,"click"],["type","button",1,"btn","bottomLeftRadius","bold",3,"click"]],template:function(o,i){if(1&o){const s=Gc();at(0,"section",3),qc(1,"img",4),at(2,"h2",5),dn(3,"Talk to strangers!"),Ct(),at(4,"h2",6),dn(5),Ct()(),at(6,"main",7)(7,"section",8,0),xo(9,_Y,2,0,"div",9)(10,EY,2,0,"div",9)(11,DY,6,8,"div",10)(12,CY,2,0,"div",9)(13,xY,3,2,"ng-container",11),Ct(),at(14,"form",12),xo(15,TY,2,1,"button",13)(16,AY,2,0,"button",14)(17,MY,2,0,"button",15),at(18,"textarea",16,1),Yr("keydown.enter",function(){gi(s);const c=Xd(19);return i.sendMessage(c.value),mi(i.cleanMessageField(c))})("keydown",function(){return gi(s),mi(i.onTyping())}),Ct(),at(20,"button",17,2),Yr("click",function(){gi(s);const c=Xd(19);return i.sendMessage(c.value),mi(i.cleanMessageField(c))}),dn(22," Send "),Ct()()()}2&o&&(Tt(5),ef(i.currentOnline),Tt(4),Nn("ngIf",i.stranger),Tt(),Nn("ngIf",!i.stranger&&i.currentState===i.STATE_SEARCHING_STRANGER),Tt(),Nn("ngForOf",i.messages),Tt(),Nn("ngIf",i.strangeIsTyping),Tt(),Nn("ngIf",i.currentState===i.STATE_DISCONNECTED),Tt(2),Nn("ngIf",i.currentState===i.STATE_DISCONNECTED||i.currentState===i.STATE_SEARCHING_STRANGER),Tt(),Nn("ngIf",i.currentState===i.STATE_CONNECTED),Tt(),Nn("ngIf",i.currentState===i.STATE_UP_TO_DISCONNECT),Tt(),Ls("disabled",i.currentState===i.STATE_DISCONNECTED||i.currentState===i.STATE_SEARCHING_STRANGER?"disabled":null),Tt(2),Ls("disabled",i.currentState===i.STATE_DISCONNECTED||i.currentState===i.STATE_SEARCHING_STRANGER?"disabled":null))},dependencies:[x1,A1,bY],encapsulation:2})}return e})()},{path:"",redirectTo:"chat",pathMatch:"full"}];let RY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({imports:[CA.forRoot(NY,{useHash:!0}),CA]})}return e})(),OY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Ol({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,i){1&o&&qc(0,"router-outlet")},dependencies:[Tv],encapsulation:2})}return e})(),kY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({imports:[au]})}return e})(),eR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({providers:[ow,np],imports:[au]})}return e})(),PY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({providers:[rw],imports:[au]})}return e})(),LY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Hn({type:e});static#r=this.\u0275inj=An({providers:[Q2,J2,X2],imports:[au]})}return e})(),FY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Hn({type:e,bootstrap:[OY]});static#r=this.\u0275inj=An({imports:[kY,C$,RY,PY,LY,eR,eR]})}return e})();E$().bootstrapModule(FY).catch(e=>console.error(e))}},rp=>{rp(rp.s=59)}]);